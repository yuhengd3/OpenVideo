(()=>{var Tu=Object.defineProperty;var r=(_,I)=>Tu(_,"name",{value:I,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["behaviors"],{39585:(_,I,u)=>{"use strict";var C=u(7679),c=u(59753);(0,c.on)("deprecatedAjaxSend","[data-remote]",function(e){e.currentTarget===e.target&&(e.defaultPrevented||e.currentTarget.classList.add("loading"))}),(0,c.on)("deprecatedAjaxComplete","[data-remote]",function(e){e.currentTarget===e.target&&e.currentTarget.classList.remove("loading")});var q=u(65935);(0,q.AC)("form.js-ajax-pagination, .js-ajax-pagination form",async function(e,t){const n=e.closest(".js-ajax-pagination");let o;try{o=await t.html()}catch(s){if(s.response&&s.response.status===404){n.remove();return}else throw s}n.replaceWith(o.html),(0,c.f)(e,"page:loaded")});var D=u(30481);const M="analytics.click";(0,c.on)("click","[data-analytics-event]",e=>{const n=e.currentTarget.getAttribute("data-analytics-event");if(!n)return;const o=JSON.parse(n);(0,D.q)(M,o)});var d=u(64463),y=u(45922);const w=["system","disabled"].map(e=>`html[data-a11y-animated-images="${e}"] img[data-animated-image]`).join(", ");(0,d.N7)(w,e=>{if(!(e instanceof HTMLImageElement)||e.closest("a")&&!(e.parentElement instanceof HTMLAnchorElement))return;let t=e.parentElement,n=null;if(t instanceof HTMLAnchorElement){if(t.childElementCount>1)return;n=t,n.setAttribute("data-target","animated-image.originalLink"),t=n.parentElement}e.removeAttribute("data-animated-image"),e.setAttribute("data-target","animated-image.originalImage");const o=n?n.cloneNode(!0):e.cloneNode(!0),s=document.createElement("animated-image");s.appendChild(o),t?.replaceChild(s,n||e),(0,y.b)({incrementKey:"ANIMATED_IMAGE_PLAYER_WRAPPED",requestUrl:window.location.href})});var f=u(22485);document.addEventListener("pjax:start",function(){(0,f.x)("Loading page")}),document.addEventListener("pjax:error",function(){(0,f.x)("Loading failed")}),document.addEventListener("pjax:end",function(){(0,f.x)("Loading complete")});var m=u(52641);const g=new WeakMap;(0,d.N7)("auto-check",function(e){if(e.classList.contains("js-prevent-default-behavior"))return;const t=e.querySelector("input");if(!t)return;const n=t.closest(".form-group")||e,o=t.form;let s;function i(){return s||(s=`input-check-${(Math.random()*1e4).toFixed(0)}`),s}r(i,"generateId");const a=t.getAttribute("aria-describedby");t.addEventListener("focusout:delay",()=>{t.setAttribute("aria-describedby",[s,a].join(" "))});const l=n.querySelector("p.note");l&&(l.id||(l.id=i()),g.set(l,l.innerHTML)),e.addEventListener("loadstart",()=>{h(t,n),n.classList.add("is-loading"),t.classList.add("is-autocheck-loading"),(0,m.G)(o)}),e.addEventListener("loadend",()=>{n.classList.remove("is-loading"),t.classList.remove("is-autocheck-loading")}),t.addEventListener("auto-check-success",async p=>{t.classList.add("is-autocheck-successful"),n.classList.add("successed"),(0,m.G)(o);const{response:b}=p.detail;if(!b)return;const L=await b.text();if(!!L){if(l instanceof HTMLElement)l.innerHTML=L,(0,f.N)(l);else{const P=b.status===200,B=n.tagName==="DL"?"dd":"div",U=document.createElement(B);U.id=i(),U.classList.add(P?"success":"warning"),U.innerHTML=L,n.append(U),n.classList.add(P?"successed":"warn"),(0,f.N)(U),P&&(U.hidden=document.activeElement!==t)}(0,c.f)(t,"auto-check-message-updated")}}),t.addEventListener("auto-check-error",async p=>{t.classList.add("is-autocheck-errored"),n.classList.add("errored"),(0,m.G)(o);const{response:b}=p.detail;if(!b)return;const L=await b.text();if(l instanceof HTMLElement)l.innerHTML=L||"Something went wrong",(0,f.N)(l);else{const P=n.tagName==="DL"?"dd":"div",B=document.createElement(P);B.id=i(),B.classList.add("error"),B.innerHTML=L||"Something went wrong",n.append(B),(0,f.N)(B)}}),t.addEventListener("input",()=>{t.removeAttribute("aria-describedby"),t.value||h(t,n)}),t.addEventListener("blur",()=>{const p=n.querySelector(".success");p&&(p.hidden=!0)}),t.addEventListener("focus",()=>{const p=n.querySelector(".success");p&&(p.hidden=!1)}),o.addEventListener("reset",()=>{h(t,n)})});function h(e,t){t.classList.remove("is-loading","successed","errored","warn"),e.classList.remove("is-autocheck-loading","is-autocheck-successful","is-autocheck-errored");const n=t.querySelector("p.note");if(n){const o=g.get(n);o&&(n.innerHTML=o)}t.tagName==="DL"?(t.querySelector("dd.error")?.remove(),t.querySelector("dd.warning")?.remove(),t.querySelector("dd.success")?.remove()):(t.querySelector("div.error")?.remove(),t.querySelector("div.warning")?.remove(),t.querySelector("div.success")?.remove())}r(h,"autocheck_reset");var E=u(46481);(0,d.N7)("auto-complete",function(e){e.addEventListener("loadstart",()=>e.classList.add("is-auto-complete-loading")),e.addEventListener("loadend",()=>e.classList.remove("is-auto-complete-loading"))}),(0,d.N7)("auto-complete",{constructor:E.Z,initialize:k}),(0,c.on)("auto-complete-change","auto-complete",function(e){k(e.currentTarget)});function k(e){const t=e.closest("form");if(!t)return;const n=t.querySelector(".js-auto-complete-button");n instanceof HTMLButtonElement&&(n.disabled=!e.value)}r(k,"toggleSubmitButton");var S=u(56238),v=u(12981),j=u(6170);let R=null;(0,c.on)("submit","[data-autosearch-results-container]",async function(e){const t=e.currentTarget;if(!(t instanceof HTMLFormElement))return;e.preventDefault(),R?.abort(),t.classList.add("is-sending");const n=new URL(t.action,window.location.origin),o=t.method,s=new FormData(t),i=(0,S.KL)(n,s);let a=null;o==="get"?n.search=i:a=s;const{signal:l}=R=new AbortController,p=new Request(n.toString(),{method:o,body:a,signal:l,headers:{Accept:"text/html","X-Requested-With":"XMLHttpRequest"}});let b;try{b=await fetch(p)}catch{}if(t.classList.remove("is-sending"),!b||!b.ok||l.aborted)return;const L=t.getAttribute("data-autosearch-results-container"),P=L?document.getElementById(L):null;P&&(P.innerHTML="",P.appendChild((0,v.r)(document,await b.text()))),(0,j.lO)(null,"",`?${i}`)});var A=u(73185),x=u(45075);(0,x.ZG)("input[data-autoselect], textarea[data-autoselect]",async function(e){await(0,A.gJ)(),e.select()});var H=u(46263),T=u(6741);(0,c.on)("change","form[data-autosubmit]",function(e){const t=e.currentTarget;(0,S.Bt)(t)}),(0,c.on)("change","input[data-autosubmit], select[data-autosubmit]",$);function $(e){const t=e.target;if(!(t instanceof HTMLInputElement)&&!(t instanceof HTMLSelectElement))return;const n=t.form;(0,S.Bt)(n)}r($,"autosubmit_submit");const G=(0,H.D)($,300);(0,d.N7)("input[data-throttled-autosubmit]",{subscribe:e=>(0,T.RB)(e,"input",G)});async function V(e){const t=e.getAttribute("data-url")||"";if(await ue(t)){const o=e.getAttribute("data-gravatar-text");o!=null&&(e.textContent=o)}}r(V,"detectGravatar"),(0,d.N7)(".js-detect-gravatar",function(e){V(e)});async function ue(e){const t=e;if(!t)return!1;try{const n=await fetch(t,{headers:{Accept:"application/json"}});return n.ok?(await n.json()).has_gravatar:!1}catch{return!1}}r(ue,"fetchGravatarInfo");var se=u(51989),ae=u(41307),re=u(66899),ge=u(5878),de=u(44983);const Wt=[".unstyled-additional-seats-price-obj",".unstyled-base-price-obj",".unstyled-final-price-obj"];function Ze(e){return typeof e=="string"||typeof e=="number"?!1:"default_currency"in e&&"local_currency"in e}r(Ze,"isAPriceStruct");let Zn=null;(0,c.on)("click",".js-org-signup-duration-change",e=>{e.preventDefault();const n=e.currentTarget.getAttribute("data-plan-duration");br(n),vr(n);for(const o of document.querySelectorAll(".js-seat-field"))Ue(o);gr()}),(0,c.on)("change",".js-org-signup-duration-toggle",function({currentTarget:e}){const t=new URL(e.getAttribute("data-url"),window.location.origin),n=document.getElementById("js-pjax-container");(0,de.T)(t.toString(),{container:n})});async function Ue(e){const t=e.getAttribute("data-item-name")||"items",n=e.value,o=new URL(e.getAttribute("data-url"),window.location.origin),s=new URLSearchParams(o.search.slice(1)),i=parseInt(e.getAttribute("data-item-minimum"))||0,a=parseInt(e.getAttribute("data-item-maximum"))||300,l=parseInt(e.getAttribute("data-item-count"))||0,p=Math.max(i,parseInt(n)||0),b=p>a,L=document.querySelector(".js-downgrade-button"),P=document.getElementById("downgrade-disabled-message");L instanceof HTMLButtonElement&&(L.disabled=p===l),P instanceof HTMLElement&&L instanceof HTMLButtonElement&&(P.hidden=!L.disabled),s.append(t,p.toString()),document.querySelector(".js-transform-user")&&s.append("transform_user","1"),o.search=s.toString(),Zn?.abort();const{signal:U}=Zn=new AbortController;let W=null;try{const Y=await fetch(o.toString(),{signal:U,headers:{Accept:"application/json"}});if(!Y.ok)return;W=await Y.json()}catch{}if(U.aborted||!W)return;const ce=document.querySelector(".js-contact-us");ce&&ce.classList.toggle("d-none",!b);const oe=document.querySelector(".js-cost-info");oe&&(oe.hidden=b);const le=document.querySelector(".js-payment-summary");le&&le.classList.toggle("d-none",b);const fe=document.querySelector(".js-submit-billing");fe instanceof HTMLElement&&(fe.hidden=b);const _e=document.querySelector(".js-billing-section");_e&&_e.classList.toggle("has-removed-contents",W.free||W.is_enterprise_cloud_trial);const z=document.querySelector(".js-upgrade-info");z&&z.classList.toggle("d-none",p<=0);const Ee=document.querySelector(".js-downgrade-info");Ee&&Ee.classList.toggle("d-none",p>=0);const F=document.querySelector(".js-extra-seats-line-item");F&&F.classList.toggle("d-none",W.no_additional_seats),document.querySelector(".js-seat-field")&&yr(n);const O=document.querySelector(".js-minimum-seats-disclaimer");O&&(O.classList.toggle("tooltipped",W.seats===5),O.classList.toggle("tooltipped-nw",W.seats===5));const ee=W.selectors;for(const Y in ee)for(const ie of document.querySelectorAll(Y))pr(Y)&&Ze(ee[Y])?(ie.textContent="",ie.appendChild(Jn("default-currency",ee[Y].default_currency)),ie.appendChild(Jn("local-currency",ee[Y].local_currency))):ie.textContent=ee[Y];(0,j.lO)((0,ae.y0)(),"",W.url)}r(Ue,"updateTotals");function pr(e){return Wt.includes(e)}r(pr,"isPriceSelector");function Jn(e,t){const n=document.createElement("span");return n.classList.add(e),n.textContent=t,n}r(Jn,"priceCurrencyTag");function gr(){for(const e of document.querySelectorAll(".js-unit-price"))e.hidden=!e.hidden}r(gr,"toggleDurationUnitPrices");function br(e){const t=e==="year"?"month":"year";for(const o of document.querySelectorAll(".js-plan-duration-text"))o.textContent=e;for(const o of document.querySelectorAll(".unstyled-available-plan-duration-adjective"))o.textContent=`${e}ly`;for(const o of document.querySelectorAll(".js-org-signup-duration-change"))o.setAttribute("data-plan-duration",t);const n=document.getElementById("signup-plan-duration");n&&(n.value=e)}r(br,"updateDurationFields");function yr(e){for(const t of document.querySelectorAll(".js-seat-field")){const n=t.getAttribute("data-item-max-seats"),o=t?.parentNode?.querySelector(".Popover");n&&n.length&&(parseInt(e,10)>parseInt(n,10)?(t.classList.add("color-border-danger-emphasis"),o?.removeAttribute("hidden")):(t.classList.remove("color-border-danger-emphasis"),o?.setAttribute("hidden","true")))}}r(yr,"updateSeatFields");function vr(e){for(const t of document.querySelectorAll(".js-seat-field")){const n=new URL(t.getAttribute("data-url"),window.location.origin),o=new URLSearchParams(n.search.slice(1));o.delete("plan_duration"),o.append("plan_duration",e),n.search=o.toString(),t.setAttribute("data-url",n.toString())}}r(vr,"updateSeatFieldURLs"),(0,d.N7)(".js-addon-purchase-field",{constructor:HTMLInputElement,add(e){(0,ge.Z)(e)&&Ue(e),(0,re.oq)(e,function(){Ue(e)})}}),(0,d.N7)(".js-addon-downgrade-field",{constructor:HTMLSelectElement,add(e){(0,ge.Z)(e)&&Ue(e),e.addEventListener("change",function(){Ue(e)})}});function wr(e){const t=document.querySelector(".js-addon-purchase-field"),n=e.target.querySelector("input:checked");if(t instanceof HTMLInputElement&&n instanceof HTMLInputElement){const o=n.getAttribute("data-upgrade-url");o&&(t.setAttribute("data-url",o),t.value="0",Ue(t))}}r(wr,"handleOrgChange"),(0,c.on)("details-menu-selected",".js-organization-container",wr,{capture:!0}),(0,x.q6)(".js-csv-filter-field",function(e){const t=e.target.value.toLowerCase();for(const n of document.querySelectorAll(".js-csv-data tbody tr"))n instanceof HTMLElement&&(!n.textContent||(n.hidden=!!t&&!n.textContent.toLowerCase().includes(t)))}),(0,d.N7)(".js-blob-header.is-stuck",{add(e){Qn(e)},remove(e){Qn(e,!0)}});function Qn(e,t=!1){const n={"tooltipped-nw":"tooltipped-sw","tooltipped-n":"tooltipped-s","tooltipped-ne":"tooltipped-se"};for(const[o,s]of Object.entries(n)){const i=t?s:o,a=t?o:s;for(const l of e.querySelectorAll(`.${i}`))l.classList.replace(i,a)}}r(Qn,"flipTooltip"),(0,c.on)("click",".js-blob-dropdown-click",e=>{const t=e.currentTarget.getAttribute("data-dropdown-tracking");if(!t)return;const n=JSON.parse(t);(0,D.q)(n.type,n.context)});function Er(e){const t=e.target,n=t?.closest(".js-branch-protection-integration-select"),o=n?.querySelector(".js-branch-protection-integration-select-current"),i=t?.closest(".js-branch-protection-integration-select-item")?.querySelector(".js-branch-protection-integration-select-label");o&&i&&n&&(o.innerHTML=i.innerHTML,n.open=!1)}r(Er,"changeSelection"),(0,c.on)("change",".js-branch-protection-integration-select-input",Er);function Lr(e){const t=new URL(e.getAttribute("data-bulk-actions-url"),window.location.origin),n=new URLSearchParams(t.search.slice(1)),o=e.getAttribute("data-bulk-actions-parameter"),s=Array.from(e.querySelectorAll(".js-bulk-actions-toggle:checked"));if(o){const i=s.map(a=>a.closest(".js-bulk-actions-item").getAttribute("data-bulk-actions-id")).sort();for(const a of i)n.append(`${o}[]`,a)}else for(const i of s.sort((a,l)=>a.value>l.value?1:-1))n.append(i.name,i.value);return t.search=n.toString(),t.toString()}r(Lr,"bulkUrl");let Yn=null;async function jr(e){const t=e.target;if(!(t instanceof HTMLElement))return;const n=t.querySelector(".js-bulk-actions"),o=!!t.querySelector(".js-bulk-actions-toggle:checked");Yn?.abort();const{signal:s}=Yn=new AbortController;let i="";try{const a=await fetch(Lr(t),{signal:s,headers:{"X-Requested-With":"XMLHttpRequest"}});if(!a.ok)return;i=await a.text()}catch{}s.aborted||!i||(o?(eo(t),n.innerHTML=i):(n.innerHTML=i,eo(t)),(0,c.f)(t,"bulk-actions:updated"))}r(jr,"updateBulkActions");function eo(e){const t=document.querySelector(".js-membership-tabs");if(t){const n=e.querySelectorAll(".js-bulk-actions-toggle:checked");t.classList.toggle("d-none",n.length>0)}}r(eo,"toggleMembershipTabs"),(0,c.on)("change",".js-bulk-actions-toggle",function(e){const n=e.currentTarget.closest(".js-bulk-actions-container");(0,c.f)(n,"bulk-actions:update")}),(0,c.on)("bulk-actions:update",".js-bulk-actions-container",(0,H.D)(jr,100));var be=u(7739);function Sr(e){try{const t=window.localStorage.getItem(e);return{kind:"ok",value:t?JSON.parse(t):null}}catch(t){return{kind:"err",value:t}}}r(Sr,"getLocalJSON");function to(e,t){try{return window.localStorage.setItem(e,JSON.stringify(t)),{kind:"ok",value:null}}catch(n){return{kind:"err",value:n}}}r(to,"setLocalJSON");function Tr(){const e={};for(const t of document.getElementsByTagName("script")){const n=t.src.match(/\/([\w-]+)-[0-9a-f]{8,}\.js$/);n&&(e[`${n[1]}.js`]=t.src)}for(const t of document.getElementsByTagName("link")){const n=t.href.match(/\/([\w-]+)-[0-9a-f]{8,}\.css$/);n&&(e[`${n[1]}.css`]=t.href)}return e}r(Tr,"gatherBundleURLs");function Ar(){const e=Tr(),t=Sr("bundle-urls");if(t.kind==="err"){to("bundle-urls",e);return}const n=t.value||{},o=Object.keys(e).filter(s=>n[s]!==e[s]);o.length&&to("bundle-urls",{...n,...e}).kind==="ok"&&(0,y.b)({downloadedBundles:o})}r(Ar,"report"),(async()=>(await be.C,window.requestIdleCallback(Ar)))();var Au=u(41415);function Cr(e){e.preventDefault(),e.stopPropagation()}r(Cr,"cancelEvent"),(0,d.N7)("a.btn.disabled",{subscribe:e=>(0,T.RB)(e,"click",Cr)});var zt=u(90458),kr=u(58797);(0,d.N7)(".js-check-all-container",{constructor:HTMLElement,subscribe:kr.Z});var Je=u(64926);const no="logout-was-successful";function xr(){for(const e of[sessionStorage,localStorage])try{e.clear()}catch{}}r(xr,"clearData");function Mr(){(0,Je.$1)(no).length>0&&(xr(),(0,Je.kT)(no))}r(Mr,"clearDataIfJustLoggedOut"),Mr();const oo=2e3;(0,c.on)("clipboard-copy","[data-copy-feedback]",e=>{const t=e.currentTarget,n=t.getAttribute("data-copy-feedback"),o=t.getAttribute("aria-label"),s=t.getAttribute("data-tooltip-direction")||"s";t.setAttribute("aria-label",n),t.classList.add("tooltipped",`tooltipped-${s}`),t instanceof HTMLElement&&((0,f.N)(t),setTimeout(()=>{o?t.setAttribute("aria-label",o):t.removeAttribute("aria-label"),t.classList.remove("tooltipped",`tooltipped-${s}`)},oo))});function qr(e){Kt.delete(e),so(e)}r(qr,"timerCallback");function so(e){const t=e.querySelector(".js-clipboard-copy-icon"),n=e.querySelector(".js-clipboard-check-icon");e.classList.toggle("ClipboardButton--success"),t&&t.classList.toggle("d-none"),n&&(n.classList.contains("d-sm-none")?n.classList.toggle("d-sm-none"):n.classList.toggle("d-none"))}r(so,"toggleCopyButton");const Kt=new WeakMap;(0,c.on)("clipboard-copy",".js-clipboard-copy:not([data-view-component])",function({currentTarget:e}){if(!(e instanceof HTMLElement))return;const t=Kt.get(e);t?clearTimeout(t):so(e),Kt.set(e,window.setTimeout(qr,oo,e))});var qe=u(49815);(0,c.on)("click",".js-code-nav-retry",async function(e){if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;const t=document.querySelector(".js-tagsearch-popover");if(!t)return;const n=t.querySelector(".js-tagsearch-popover-content");if(!n)return;let o;const s=e.currentTarget;if(s.getAttribute("data-code-nav-kind")==="definitions"?o=t.querySelector(".js-tagsearch-popover-content"):o=t.querySelector(".js-code-nav-references"),!o)return;const a=s.getAttribute("data-code-nav-url");if(!a)return;const l=new URL(a,window.location.origin);try{const p=await fetch(l.toString(),{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!p.ok)return;const b=await p.text();if(!b)return;o.innerHTML=b}catch{return}n.scrollTop=0}),(0,d.N7)(".js-code-nav-container",{constructor:HTMLElement,subscribe(e){const t=e,n=document.querySelector(".js-tagsearch-popover");if(!(n instanceof HTMLElement))return{unsubscribe(){}};const o=n.querySelector(".js-tagsearch-popover-content"),s=new WeakMap,i=new WeakMap;let a;l();function l(){fe();for(const F of document.getElementsByClassName("pl-token"))F.classList.remove("pl-token","active")}r(l,"initialize");async function p(F){const K=Vt(/\w+[!?]?/g,F.clientX,F.clientY,0);if(!K)return;const O=K.commonAncestorContainer.parentElement;if(!O)return;for(const Su of O.classList)if(["pl-token","pl-c","pl-s","pl-k"].includes(Su))return;if(O.closest(".js-skip-tagsearch"))return;const ee=K.toString();if(!ee||ee.match(/\n|\s|[();&.=",]/))return;let Y=i.get(O);if(Y||(Y=new Set,i.set(O,Y)),Y.has(ee))return;Y.add(ee);const ie=O.closest(".js-tagsearch-file");if(!ie)return;const Xn=ie.getAttribute("data-tagsearch-path")||"";let Be=ie.getAttribute("data-tagsearch-lang")||"";if(Be==="HTML+ERB")if(O.closest(".pl-sre"))Be="Ruby";else return;if(e.classList.contains("js-code-block-container")&&(Be=Pr(O)||"",!Be))return;const Gn=io(K),Fe=document.createElement("span");Fe.classList.add("pl-token"),Fe.addEventListener("click",L);let $t;if(!(0,qe.c)("BLACKBIRD_MONOLITH")){if($t=await ro(n,ee,Be,Gn,Xn),!$t)return;P(Fe,$t),s.set(Fe,$t)}K.surroundContents(Fe)}r(p,"onMouseMove");function b(){o.scrollTop=0}r(b,"resetScrollTop");async function L(F){if(F.altKey||F.ctrlKey||F.metaKey||F.shiftKey)return;const K=F.currentTarget;if(K===a)fe();else if(W(K),(0,qe.c)("BLACKBIRD_MONOLITH")){const O=n.querySelector(".js-loading-code-definitions");O&&(o.hidden=!0,O.hidden=!1,oe(K),le()),await U(F),ce(K),O&&!O.hidden&&(O.hidden=!0),o.children.length>0?o.hidden=!1:fe()}else ce(K),le();F.preventDefault()}r(L,"onClick");function P(F,K){const O=document.createElement("span");O.innerHTML=K;const ee=O.firstElementChild;if(!ee)return;const Y=ee.getAttribute("data-hydro-click"),ie=ee.getAttribute("data-hydro-click-hmac");ie&&Y&&(F.setAttribute("data-hydro-click",Y),F.setAttribute("data-hydro-click-hmac",ie))}r(P,"addPopoverElement");async function B(F,K){const O=Vt(/\w+[!?]?/g,F.clientX,F.clientY,2);if(!O)return;const ee=O.commonAncestorContainer.parentElement;if(!ee)return;for(const Fe of ee.classList)if(K.includes(Fe))return;const Y=O.toString(),ie=ee.closest(".js-tagsearch-file");if(!ie)return;const Xn=ie.getAttribute("data-tagsearch-path")||"",Be=ie.getAttribute("data-tagsearch-lang")||"",Gn=io(O);return await ro(n,Y,Be,Gn,Xn)}r(B,"getPopoverHtml");async function U(F){const K=await B(F,["data-hydro-click"]);if(!K)return;const O=document.getElementsByClassName("active")[0];!O||(P(O,K),s.set(O,K))}r(U,"fetchPopover");function W(F){a&&a.classList.remove("active"),a=F,a.classList.add("active")}r(W,"setActivePopover");function ce(F){o.innerHTML=s.get(F)||"",oe(F)}r(ce,"populatePopover");function oe(F){const K=t.getClientRects()[0],O=F.getClientRects()[0];n.style.position="absolute",n.style.zIndex="2",t.classList.contains("position-relative")?(n.style.top=`${O.bottom-K.top+7}px`,n.style.left=`${O.left-K.left-10}px`):(n.style.top=`${window.scrollY+O.bottom}px`,n.style.left=`${window.scrollX+O.left}px`)}r(oe,"positionPopover");function le(){if(!n.hidden){b();return}n.hidden=!1,b(),document.addEventListener("click",z),document.addEventListener("keyup",Ee),window.addEventListener("resize",_e)}r(le,"showPopover");function fe(){n.hidden||(n.hidden=!0,a&&a.classList.remove("active"),a=void 0,document.removeEventListener("click",z),document.removeEventListener("keyup",Ee),window.removeEventListener("resize",_e))}r(fe,"hidePopover");function _e(){a instanceof HTMLElement&&oe(a)}r(_e,"onResize");function z(F){const{target:K}=F;K instanceof Node&&!n.contains(K)&&!a.contains(K)&&fe()}r(z,"onDocumentClick");function Ee(F){switch(F.key){case"Escape":fe();break}}return r(Ee,"onKeyup"),e.addEventListener("mousemove",p),{unsubscribe(){e.removeEventListener("mousemove",p)}}}});async function ro(e,t,n,o,s){const i=e.getAttribute("data-tagsearch-url");if(!i)return"";const a=e.getAttribute("data-tagsearch-ref");if(!a)return"";let l=e.getAttribute("data-tagsearch-code-nav-context");l||(l="UNKNOWN_VIEW");const p=new URL(i,window.location.origin),b=new URLSearchParams;b.set("q",t),b.set("blob_path",s),b.set("ref",a),b.set("language",n),b.set("row",o[0].toString()),b.set("col",o[1].toString()),b.set("code_nav_context",l),p.search=b.toString();try{const L=await fetch(p.toString(),{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!L.ok)return"";const P=await L.text();return/js-tagsearch-no-definitions/.test(P)?"":P}catch{return""}}r(ro,"fetchPopoverContents");function Vt(e,t,n,o){let s,i;if(document.caretPositionFromPoint){const L=document.caretPositionFromPoint(t,n);L&&(s=L.offsetNode,i=L.offset)}else if(document.caretRangeFromPoint){const L=document.caretRangeFromPoint(t,n);L&&(s=L.startContainer,i=L.startOffset)}if(!s||typeof i!="number"||!(0,qe.c)("BLACKBIRD_MONOLITH")&&s.nodeType!==Node.TEXT_NODE)return;const a=s.textContent,l=a?.replaceAll(`
`,"").trim()==="";if(!a||l||s.nodeType!==Node.TEXT_NODE){if(o<=0||!(0,qe.c)("BLACKBIRD_MONOLITH"))return null;{const L=s.nodeType!==Node.TEXT_NODE?1:10;return Vt(e,t-L,n-L,o-1)}}const p=Rr(a,e,i);if(!p)return null;const b=document.createRange();return b.setStart(s,p[1]),b.setEnd(s,p[2]),b}r(Vt,"matchFromPoint");function Rr(e,t,n){let o;for(;o=t.exec(e);){const s=o.index+o[0].length;if(o.index<=n&&n<=s)return[o[0],o.index,s]}return null}r(Rr,"findNearestMatch");function Pr(e){const t=e.closest(".highlight");if(t)for(const n of t.classList)switch(n){case"highlight-source-go":return"Go";case"highlight-source-js":return"JavaScript";case"highlight-source-python":return"Python";case"highlight-source-ruby":return"Ruby";case"highlight-source-ts":return"TypeScript"}return null}r(Pr,"getCodeBlockLanguage");function io(e){let t=e.startContainer,n=e.startOffset,o=!1;for(;;){let s=t.previousSibling;for(;!o&&s;)["#comment","BUTTON"].includes(s.nodeName)||(n+=(s.textContent||"").length),s=s.previousSibling;const i=t.parentElement;if(i){if(i.classList.contains("js-code-nav-pass"))o=!0;else if(i.classList.contains("js-file-line")){const a=i.previousElementSibling;if(!a.classList.contains("js-code-nav-line-number"))throw new Error("invariant");return[parseInt(a.getAttribute("data-line-number")||"1",10)-1,n]}t=i}else return[0,0]}}r(io,"getRowAndColumn");var Re=u(78965);function Ir(e){const t=e.querySelector(".js-comment-form-error");t instanceof HTMLElement&&(t.hidden=!0)}r(Ir,"clearFormError"),(0,c.on)("click",".errored.js-remove-error-state-on-click",function({currentTarget:e}){e.classList.remove("errored")}),(0,q.AC)(".js-new-comment-form",async function(e,t){let n;Ir(e);try{n=await t.json()}catch(i){Dr(e,i)}if(!n)return;e.reset();for(const i of e.querySelectorAll(".js-resettable-field"))(0,S.Se)(i,i.getAttribute("data-reset-value")||"");const o=e.querySelector(".js-write-tab");o instanceof HTMLElement&&o.click();const s=n.json.updateContent;for(const i in s){const a=s[i],l=document.querySelector(i);l instanceof HTMLElement?(0,Re.Of)(l,a):console.warn(`couldn't find ${i} for immediate update`)}(0,c.f)(e,"comment:success")});function Dr(e,t){let n="You can't comment at this time";if(t.response&&t.response.status===422){const s=t.response.json;s.errors&&(Array.isArray(s.errors)?n+=` \u2014 your comment ${s.errors.join(", ")}`:n=s.errors)}n+=". ";const o=e.querySelector(".js-comment-form-error");if(o instanceof HTMLElement){o.textContent=n,o.hidden=!1;const s=o.closest("div.form-group.js-remove-error-state-on-click");s&&s.classList.add("errored")}}r(Dr,"handleFormError");const Nr=r((e,t)=>{const n=e.querySelector(".js-form-action-text"),o=n||e;o.textContent=t?e.getAttribute("data-comment-text"):o.getAttribute("data-default-action-text")},"setButtonText"),Hr=r(e=>{let t;return n=>{const s=n.currentTarget.value.trim();s!==t&&(t=s,Nr(e,Boolean(s)))}},"createInputHandler");(0,d.N7)(".js-comment-and-button",{constructor:HTMLButtonElement,initialize(e){const t=e.form.querySelector(".js-comment-field"),n=Hr(e);return{add(){t.addEventListener("input",n),t.addEventListener("change",n)},remove(){t.removeEventListener("input",n),t.removeEventListener("change",n)}}}});var Cu=u(2641);function ao(e,t){const n=e.closest(".js-write-bucket");n&&n.classList.toggle("focused",t)}r(ao,"toggleFocus");function Or(e){const t=e.currentTarget;t instanceof Element&&ao(t,!1)}r(Or,"blurred"),(0,x.ZG)(".js-comment-field",function(e){ao(e,!0),e.addEventListener("blur",Or,{once:!0})});var Le=u(40764),_r=u(52769),Xt=u(35889);const Br=2303741511,Fr=4;class ct{static fromFile(t){return new Promise(function(n,o){const s=new FileReader;s.onload=function(){n(new ct(s.result))},s.onerror=function(){o(s.error)},s.readAsArrayBuffer(t)})}constructor(t){this.dataview=new DataView(t),this.pos=0}advance(t){this.pos+=t}readInt(t){const n=this,o=function(){switch(t){case 1:return n.dataview.getUint8(n.pos);case 2:return n.dataview.getUint16(n.pos);case 4:return n.dataview.getUint32(n.pos);default:throw new Error("bytes parameter must be 1, 2 or 4")}}();return this.advance(t),o}readChar(){return this.readInt(1)}readShort(){return this.readInt(2)}readLong(){return this.readInt(4)}readString(t){const n=[];for(let o=0;o<t;o++)n.push(String.fromCharCode(this.readChar()));return n.join("")}scan(t){if(this.readLong()!==Br)throw new Error("invalid PNG");for(this.advance(4);;){const n=this.readLong(),o=this.readString(4),s=this.pos+n+Fr;if(t.call(this,o,n)===!1||o==="IEND")break;this.pos=s}}}r(ct,"PNGScanner");const Ur=.0254;async function $r(e){if(e.type!=="image/png")return null;const t=e.slice(0,10240,e.type),n=await ct.fromFile(t),o={width:0,height:0,ppi:1};return n.scan(function(s){switch(s){case"IHDR":return o.width=this.readLong(),o.height=this.readLong(),!0;case"pHYs":{const i=this.readLong(),a=this.readLong(),l=this.readChar();let p;return l===1&&(p=Ur),p&&(o.ppi=Math.round((i+a)/2*p)),!1}case"IDAT":return!1}return!0}),o}r($r,"imageDimensions");var Wr=u(89900);const lt=new WeakMap;class co{constructor(t,n,o){this.index=t,this.coords=n,this.textArea=o}get top(){return this.coords.top}get left(){return this.coords.left}get height(){return this.coords.height}currentChar(t=1){return this.textArea.value.substring(this.index-t,this.index)}checkLine(t){return t<this.coords.top?-1:t>this.coords.top+this.coords.height?1:0}xDistance(t){return Math.abs(this.left-t)}}r(co,"CaretPosition");function je(e,t){let n;if(lt.has(e)?n=lt.get(e):(n=new Map,lt.set(e,n)),n.has(t))return n.get(t);{const o=new co(t,(0,Wr.Z)(e,t),e);return n.set(t,o),o}}r(je,"fetchCaretCoords");const Qe=r((e,t,n,o,s,i)=>{if(n===t)return n;const a=r(L=>{const P=L.filter(B=>B.checkLine(s)===0).sort((B,U)=>B.xDistance(o)>U.xDistance(o)?1:-1);return P.length===0?n:P[0].index},"bestPosition");if(n-t===1){const L=je(e,t),P=je(e,n);return a([L,P])}if(n-t===2){const L=je(e,t),P=je(e,n-1),B=je(e,n);return a([L,P,B])}const l=Math.floor((n+t)/2);if(l===t||l===n)return l;const p=je(e,l);if(s>p.top+p.height)return Qe(e,l+1,n,o,s,i+1);if(s<p.top)return Qe(e,t,l-1,o,s,i+1);const b=3;return p.xDistance(o)<b?l:p.left<o?je(e,l+1).checkLine(s)!==0?l:Qe(e,l+1,n,o,s,i+1):p.left>o?je(e,l-1).checkLine(s)!==0?l:Qe(e,t,l-1,o,s,i+1):l},"binaryCursorSearch"),zr=r((e,t,n)=>{const s=e.value.length-1;return Qe(e,0,s,t,n,0)},"findCursorPosition");function Kr(e,t,n){const o=zr(e,t,n);e.setSelectionRange(o,o)}r(Kr,"setCursorPosition");function Vr(e,t){const n=e.getBoundingClientRect();t.type==="dragenter"&&lt.delete(e);const o=t.clientX-n.left,s=t.clientY-n.top+e.scrollTop;Kr(e,o,s)}r(Vr,"caret_placement_updateCaret"),(0,d.N7)(".js-paste-markdown",{initialize(e){let t;return{add(){t=(0,_r.Ld)(e).unsubscribe},remove(){t()}}}});const Gt=new WeakMap;function ku(e,t){Gt.set(e,t)}r(ku,"cachePlaceholder");function Xr(e){return Gt.get(e)||uo(e)}r(Xr,"getPlaceholder");function Zt(e){return["video/mp4","video/quicktime"].includes(e.file.type)}r(Zt,"isVideo");function Gr(e){return e.replace(/[[\]\\"<>&]/g,".").replace(/\.{2,}/g,".").replace(/^\.|\.$/gi,"")}r(Gr,"parameterizeName");function lo(e){return Zt(e)?`
Uploading ${e.file.name}\u2026
`:`${e.isImage()?"!":""}[Uploading ${e.file.name}\u2026]()`}r(lo,"placeholderText");function Zr(e){return Gr(e).replace(/\.[^.]+$/,"").replace(/\./g," ")}r(Zr,"altText");const Jr=72*2;function ut(e){const n=e.target.closest("form").querySelector(".btn-primary");n.disabled=!0}r(ut,"disableSubmit");function dt(e){const n=e.target.closest("form").querySelector(".btn-primary");n.disabled=!1}r(dt,"enableSubmit");async function Qr(e){const{attachment:t}=e.detail,n=e.currentTarget;let o;t.isImage()?o=await ti(t):Zt(t)?o=ei(t):o=Yr(t),mo("",o,e,n)}r(Qr,"onUploadCompleted");function Yr(e){return`[${e.file.name}](${e.href})`}r(Yr,"mdLink");function ei(e){return`
${e.href}
`}r(ei,"videoMarkdown");async function ti(e){const t=await ni(e.file),n=Zr(e.file.name),o=e.href;return t.ppi===Jr?`<img width="${Math.round(t.width/2)}" alt="${n}" src="${o}">`:`![${n}](${o})`}r(ti,"imageTag");async function ni(e){const t={width:0,height:0,ppi:0};try{return await $r(e)??t}catch{return t}}r(ni,"imageSize");function uo(e){const t=lo(e);return Zt(e)?`
${t}
`:`${t}
`}r(uo,"replacementText");function fo(e){const t=e.currentTarget.querySelector(".js-comment-field"),n=Xr(e.detail.attachment);if(t)t.setCustomValidity(""),(0,Le.lp)(t,n,"");else{const s=(0,Xt.P)(e.currentTarget.querySelector(".js-code-editor")).editor.getSearchCursor(n);s.findNext(),s.replace("")}}r(fo,"removeFailedUpload");function mo(e,t,n,o){const s=(o||n.currentTarget).querySelector(".js-comment-field"),i=(o||n.currentTarget).querySelector(".js-file-upload-loading-text"),a=lo(n.detail.attachment),{batch:l}=n.detail;if(s){const p=s.value.substring(s.selectionStart,s.selectionEnd);if(e==="uploading"){let b;p.length?b=(0,Le.t4)(s,p,a):b=(0,Le.Om)(s,a,{appendNewline:!0}),Gt.set(n.detail.attachment,b)}else(0,Le.lp)(s,a,t);l.isFinished()?dt(n):ut(n)}else{const p=(0,Xt.P)((o||n.currentTarget).querySelector(".js-code-editor")).editor;if(e==="uploading")if(p.getSelection().length)p.replaceSelection(a);else{const b=p.getCursor(),L=uo(n.detail.attachment);p.replaceRange(L,b)}else{const b=p.getSearchCursor(a);b.findNext(),b.replace(t)}l.isFinished()?dt(n):ut(n)}if(i){const p=i.getAttribute("data-file-upload-message");i.textContent=`${p} (${l.uploaded()+1}/${l.size})`}}r(mo,"setValidityAndLinkText"),(0,c.on)("upload:setup",".js-upload-markdown-image",function(e){mo("uploading","",e)}),(0,c.on)("upload:complete",".js-upload-markdown-image",Qr),(0,c.on)("upload:error",".js-upload-markdown-image",function(e){fo(e);const{batch:t}=e.detail;t.isFinished()?dt(e):ut(e)});function ho(e){e.stopPropagation();const t=e.currentTarget;if(!t)return;const n=t.querySelector(".js-comment-field");if(n)Vr(n,e);else{const o=(0,Xt.P)(t.querySelector(".js-code-editor"))?.editor;if(o){const s=o.coordsChar({left:e.pageX,top:e.pageY});o.setCursor(s)}}}r(ho,"updateCursor");const xu=r(e=>{const t=e.currentTarget,n=t.getBoundingClientRect(),o=e.clientX-n.left,s=e.clientY-n.top+t.scrollTop;console.log({x:o,y:s,cursor:t.selectionStart,t:t.value.substring(t.selectionStart-10,t.selectionStart)});const i=new DragEvent("dragenter",{clientX:e.clientX,clientY:e.clientY});updateCaret(t,i)},"debugUpdateCaret");(0,c.on)("dragenter","file-attachment",ho),(0,c.on)("dragover","file-attachment",ho),(0,c.on)("upload:invalid",".js-upload-markdown-image",function(e){fo(e);const{batch:t}=e.detail;t.isFinished()?dt(e):ut(e)});var Jt=u(29501),Pe=u(15205);function oi(e){const t=e.querySelector(".js-data-preview-url-csrf"),n=e.closest("form").elements.namedItem("authenticity_token");if(t instanceof HTMLInputElement)return t.value;if(n instanceof HTMLInputElement)return n.value;throw new Error("Comment preview authenticity token not found")}r(oi,"token");function Qt(e){const t=e.closest(".js-previewable-comment-form"),n=e.classList.contains("js-preview-tab");if(n){const i=t.querySelector(".js-write-bucket"),a=t.querySelector(".js-preview-body");i.clientHeight>0&&(a.style.minHeight=`${i.clientHeight}px`)}t.classList.toggle("preview-selected",n),t.classList.toggle("write-selected",!n);const o=t.querySelector('.tabnav-tab.selected, .tabnav-tab[aria-selected="true"]');o.setAttribute("aria-selected","false"),o.classList.remove("selected"),e.classList.add("selected"),e.setAttribute("aria-selected","true");const s=t.querySelector(".js-write-tab");return n?s.setAttribute("data-hotkey","Control+P,Meta+Shift+p"):s.removeAttribute("data-hotkey"),t}r(Qt,"activateTab"),(0,c.on)("click",".js-write-tab",function(e){const t=e.currentTarget,n=t.closest(".js-previewable-comment-form");if(n instanceof Jt.Z){setTimeout(()=>{n.querySelector(".js-comment-field").focus()});return}const o=Qt(t);(0,c.f)(n,"preview:toggle:off");const s=n.querySelector(".js-discussion-poll-form-component");s&&(0,c.f)(s,"poll-preview:toggle:off"),setTimeout(()=>{o.querySelector(".js-comment-field").focus()});const i=n.querySelector("markdown-toolbar");i instanceof HTMLElement&&(i.hidden=!1)}),(0,c.on)("click",".js-preview-tab",function(e){const t=e.currentTarget,n=t.closest(".js-previewable-comment-form");if(n instanceof Jt.Z)return;const o=Qt(t);(0,c.f)(n,"preview:toggle:on"),setTimeout(()=>{Yt(o)});const s=n.querySelector("markdown-toolbar");s instanceof HTMLElement&&(s.hidden=!0),e.stopPropagation(),e.preventDefault()}),(0,c.on)("tab-container-change",".js-previewable-comment-form",function(e){const t=e.detail.relatedTarget,n=t&&t.classList.contains("js-preview-panel"),o=e.currentTarget,s=o.querySelector(".js-write-tab");if(n){const i=o.querySelector(".js-write-bucket"),a=o.querySelector(".js-preview-body");!a.hasAttribute("data-skip-sizing")&&i.clientHeight>0&&(a.style.minHeight=`${i.clientHeight}px`),s.setAttribute("data-hotkey","Control+P,Meta+Shift+p"),Yt(o);const p=o.querySelector("markdown-toolbar");p instanceof HTMLElement&&(p.hidden=!0)}else{s.removeAttribute("data-hotkey");const i=o.querySelector("markdown-toolbar");i instanceof HTMLElement&&(i.hidden=!1);const a=document.querySelector(".js-discussion-poll-form-component");a&&(0,c.f)(a,"poll-preview:toggle:off")}o.classList.toggle("preview-selected",n),o.classList.toggle("write-selected",!n)}),(0,c.on)("preview:render",".js-previewable-comment-form",function(e){const t=e.target.querySelector(".js-preview-tab"),n=Qt(t);setTimeout(()=>{Yt(n);const o=n.querySelector("markdown-toolbar");o instanceof HTMLElement&&(o.hidden=!0)})});function si(e){const t=e.querySelector(".js-comment-field").value,n=e.querySelector(".js-path")?.value,o=e.querySelector(".js-line-number")?.value,s=e.querySelector(".js-start-line-number")?.value,i=e.querySelector(".js-side")?.value,a=e.querySelector(".js-start-side")?.value,l=e.querySelector(".js-start-commit-oid")?.value,p=e.querySelector(".js-end-commit-oid")?.value,b=e.querySelector(".js-base-commit-oid")?.value,L=e.querySelector(".js-comment-id")?.value,P=new FormData;return P.append("text",t),P.append("authenticity_token",oi(e)),n&&P.append("path",n),o&&P.append("line_number",o),s&&P.append("start_line_number",s),i&&P.append("side",i),a&&P.append("start_side",a),l&&P.append("start_commit_oid",l),p&&P.append("end_commit_oid",p),b&&P.append("base_commit_oid",b),L&&P.append("comment_id",L),P}r(si,"previewForm");function po(e){const t=e.getAttribute("data-preview-url"),n=si(e);return(0,c.f)(e,"preview:setup",{data:n}),ri(t,n)}r(po,"fetchPreview");const ri=(0,Pe.Z)(ii,{hash:ai});let go=null;async function ii(e,t){go?.abort();const{signal:n}=go=new AbortController,o=await fetch(e,{method:"post",body:t,signal:n});if(!o.ok)throw new Error("something went wrong");return o.text()}r(ii,"uncachedFetch");function ai(e,t){const n=[...t.entries()].toString();return`${e}:${n}`}r(ai,"hash");async function Yt(e){const t=e.querySelector(".comment-body");t.innerHTML="<p>Loading preview&hellip;</p>";try{const n=await po(e);t.innerHTML=n||"<p>Nothing to preview</p>",(0,c.f)(e,"preview:rendered")}catch(n){n.name!=="AbortError"&&(t.innerHTML="<p>Error rendering preview</p>")}}r(Yt,"renderPreview"),(0,d.N7)(".js-preview-tab",function(e){e.addEventListener("mouseenter",async()=>{const t=e.closest(".js-previewable-comment-form");try{await po(t)}catch{}})}),(0,x.w4)("keydown",".js-comment-field",function(e){const t=e.target;if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.key.toUpperCase()==="P"){const n=t.closest(".js-previewable-comment-form");n.classList.contains("write-selected")&&(n instanceof Jt.Z?n.querySelector(".js-preview-tab").click():(t.blur(),n.dispatchEvent(new CustomEvent("preview:render",{bubbles:!0,cancelable:!1}))),e.preventDefault(),e.stopImmediatePropagation())}});const bo=/^(\+1|-1|:\+1?|:-1?)$/,ci=r(e=>{let t=!1;for(const n of e.split(`
`)){const o=n.trim();if(!(!o||o.startsWith(">"))){if(t&&bo.test(o)===!1)return!1;!t&&bo.test(o)&&(t=!0)}}return t},"isReactionLikeComment");(0,c.on)("focusout","#new_comment_field",function(e){const n=e.currentTarget.closest(".js-reaction-suggestion");n&&vo(n)}),(0,c.on)("focusin","#new_comment_field",function(e){yo(e)}),(0,x.w4)("keyup","#new_comment_field",function(e){yo(e)});function yo(e){const t=e.target,n=t.value,o=t.closest(".js-reaction-suggestion");if(!!o)if(ci(n)){o.classList.remove("hide-reaction-suggestion"),o.classList.add("reaction-suggestion");const s=o.getAttribute("data-reaction-markup");o.setAttribute("data-reaction-suggestion-message",s)}else vo(o)}r(yo,"toggleReactionSuggestion");function vo(e){e.classList.remove("reaction-suggestion"),e.classList.add("hide-reaction-suggestion"),e.removeAttribute("data-reaction-suggestion-message")}r(vo,"clearReactionSuggestion");var ft=u(5287);(0,c.on)("navigation:keydown",".js-commits-list-item",function(e){!(0,ft.Zf)(e.detail.originalEvent)||e.target instanceof Element&&e.detail.hotkey==="c"&&e.target.querySelector(".js-navigation-open").click()});var Mu=u(87924);(0,x.q6)(".js-company-name-input",function(e){const t=e.target,n=t.form,o=n.querySelector(".js-corp-tos-link"),s=n.querySelector(".js-tos-link");s&&(s.classList.add("d-none"),s.setAttribute("aria-hidden","true"),o&&(o.classList.remove("d-none"),o.setAttribute("aria-hidden","false")));const i=n.querySelectorAll(".js-company-name-text");if(i.length!==0)for(const a of i)if(t.value)if(a.hasAttribute("data-wording")){const p=a.getAttribute("data-wording");a.textContent=` ${p} ${t.value}`}else a.textContent=t.value;else a.textContent=""}),(0,d.N7)(".js-company-owned:not(:checked)",{constructor:HTMLInputElement,add(e){const n=e.form.querySelector(".js-company-name-input"),o=document.querySelector(".js-company-name-text"),s=document.querySelector(".js-corp-tos-link"),i=document.querySelector(".js-tos-link");n&&(e.getAttribute("data-optional")&&n.removeAttribute("required"),(0,S.Se)(n,"")),i.classList.remove("d-none"),i.setAttribute("aria-hidden","false"),s.classList.add("d-none"),s.setAttribute("aria-hidden","true"),o&&(o.textContent="")}}),(0,d.N7)(".js-company-owned:checked",{constructor:HTMLInputElement,add(e){const n=e.form.querySelector(".js-company-name-input");n&&(n.setAttribute("required",""),(0,c.f)(n,"focus"),(0,c.f)(n,"input"))}}),(0,d.N7)(".js-company-owned-autoselect",{constructor:HTMLInputElement,add(e){const t=e;function n(){if(t.checked&&t.form){const o=t.form.querySelector(".js-company-owned");(0,S.Se)(o,!0)}}r(n,"autoselect"),t.addEventListener("change",n),n()}});var en=u(10178),tn=u(33948),nn=u(55444);let Se=null;document.addEventListener("keydown",function(e){!e.defaultPrevented&&e.key==="Escape"&&Se&&Se.removeAttribute("open")}),(0,d.N7)(".js-dropdown-details",{subscribe:e=>(0,T.qC)((0,T.RB)(e,"toggle",ui),(0,T.RB)(e,"toggle",li))});function li({currentTarget:e}){const t=e;if(t.hasAttribute("open")){const n=t.querySelector("[autofocus]");n&&n.focus()}else{const n=t.querySelector("summary");n&&n.focus()}}r(li,"autofocus");function ui({currentTarget:e}){const t=e;t.hasAttribute("open")?(Se&&Se!==t&&Se.removeAttribute("open"),Se=t):t===Se&&(Se=null)}r(ui,"closeCurrentDetailsDropdown"),(0,d.N7)("[data-deferred-details-content-url]:not([data-details-no-preload-on-hover])",{subscribe:e=>{const t=e.querySelector("summary");return(0,T.RB)(t,"mouseenter",nn.G)}}),(0,d.N7)("[data-deferred-details-content-url]",{subscribe:e=>(0,T.RB)(e,"toggle",nn.G)}),(0,c.on)("click","[data-toggle-for]",function(e){const t=e.currentTarget.getAttribute("data-toggle-for")||"",n=document.getElementById(t);!n||(n.hasAttribute("open")?n.removeAttribute("open"):n.setAttribute("open","open"))}),(0,tn.Z)(function({target:e}){if(!e||e.closest("summary"))return;let t=e.parentElement;for(;t;)t=t.closest("details"),t&&(t.hasAttribute("open")||t.setAttribute("open",""),t=t.parentElement)}),(0,c.on)("details-dialog-close","[data-disable-dialog-dismiss]",function(e){e.preventDefault()});var di=u(88309);(0,d.N7)("details.select-menu details-menu include-fragment",function(e){const t=e.closest("details");!t||(e.addEventListener("loadstart",function(){t.classList.add("is-loading"),t.classList.remove("has-error")}),e.addEventListener("error",function(){t.classList.add("has-error")}),e.addEventListener("loadend",function(){t.classList.remove("is-loading");const n=t.querySelector(".js-filterable-field");n&&(0,c.f)(n,"filterable:change")}))}),(0,d.N7)("details details-menu .js-filterable-field",{constructor:HTMLInputElement,add(e){const t=e.closest("details");t.addEventListener("toggle",function(){t.hasAttribute("open")||(e.value="",(0,c.f)(e,"filterable:change"))})}}),(0,d.N7)("details-menu[role=menu] [role=menu]",e=>{const t=e.closest("details-menu[role]");t&&t!==e&&t.removeAttribute("role")}),(0,d.N7)("details details-menu remote-input input",{constructor:HTMLInputElement,add(e){const t=e.closest("details");t.addEventListener("toggle",function(){t.hasAttribute("open")||(e.value="")})}}),(0,d.N7)("form details-menu",e=>{const t=e.closest("form");t.addEventListener("reset",()=>{setTimeout(()=>fi(t),0)})});function fi(e){const t=e.querySelectorAll("details-menu [role=menuitemradio] input[type=radio]:checked");for(const n of t)(0,c.f)(n,"change")}r(fi,"resetMenus"),(0,x.w4)("keypress","details-menu .js-filterable-field, details-menu filter-input input",e=>{if(e.key==="Enter"){const o=e.currentTarget.closest("details-menu").querySelector('[role^="menuitem"]:not([hidden])');o instanceof HTMLElement&&o.click(),e.preventDefault()}}),(0,c.on)("details-menu-selected","details-menu",e=>{const n=e.currentTarget.querySelector(".js-filterable-field");n instanceof HTMLInputElement&&n.value&&n.focus()},{capture:!0}),(0,c.on)("details-menu-selected","[data-menu-input]",e=>{if(!(e.target instanceof Element))return;const t=e.target.getAttribute("data-menu-input"),n=document.getElementById(t);(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement)&&(n.value=e.detail.relatedTarget.value)},{capture:!0}),(0,d.N7)("details-menu remote-input",{constructor:di.Z,initialize(e){const t=document.getElementById(e.getAttribute("aria-owns")||"");if(!t)return;let n=null;e.addEventListener("load",()=>{document.activeElement&&t.contains(document.activeElement)&&document.activeElement.id?n=document.activeElement.id:n=null}),e.addEventListener("loadend",()=>{if(n){const o=t.querySelector(`#${n}`)||t.querySelector('[role^="menu"]');o instanceof HTMLElement?o.focus():e.input&&e.input.focus()}})}}),(0,c.on)("details-menu-selected","details-menu[data-menu-max-options]",e=>{const t=+e.currentTarget.getAttribute("data-menu-max-options"),n=e.currentTarget.querySelectorAll('[role="menuitemcheckbox"][aria-checked="true"]'),o=t===n.length;e.currentTarget.querySelector("[data-menu-max-options-warning]").hidden=!o;for(const s of e.currentTarget.querySelectorAll('[role="menuitemcheckbox"] input'))s.disabled=o&&!s.checked},{capture:!0}),(0,d.N7)("details > details-menu",{subscribe(e){const t=e.closest("details");return(0,T.RB)(t,"toggle",mi)}});async function mi({currentTarget:e}){const t=e,n=t.hasAttribute("open");(0,c.f)(t,n?"menu:activate":"menu:deactivate"),await(0,A.gJ)(),(0,c.f)(t,n?"menu:activated":"menu:deactivated")}r(mi,"fireMenuToggleEvent"),(0,d.N7)("details > details-menu[preload]:not([src])",{subscribe(e){return(0,T.RB)(e.parentElement,"mouseover",function(t){t.currentTarget.querySelector("include-fragment[src]")?.load()})}});const on=new WeakMap,wo=["input[type=submit][data-disable-with]","button[data-disable-with]"].join(", ");function hi(e){return e instanceof HTMLInputElement?e.value||"Submit":e.innerHTML||""}r(hi,"getButtonText");function Eo(e,t){e instanceof HTMLInputElement?e.value=t:e.innerHTML=t}r(Eo,"disable_with_setButtonText"),(0,c.on)("submit","form",function(e){for(const t of e.currentTarget.querySelectorAll(wo)){on.set(t,hi(t));const n=t.getAttribute("data-disable-with");n&&Eo(t,n),t.disabled=!0}},{capture:!0});function Lo(e){for(const t of e.querySelectorAll(wo)){const n=on.get(t);n!=null&&(Eo(t,n),(!t.hasAttribute("data-disable-invalid")||e.checkValidity())&&(t.disabled=!1),on.delete(t))}}r(Lo,"revert"),(0,c.on)("deprecatedAjaxComplete","form",function({currentTarget:e,target:t}){e===t&&Lo(e)}),(0,q.uT)(Lo),(0,d.N7)(".js-document-dropzone",{constructor:HTMLElement,add(e){document.body.addEventListener("dragstart",Ao),document.body.addEventListener("dragend",Co),document.body.addEventListener("dragenter",mt),document.body.addEventListener("dragover",mt),document.body.addEventListener("dragleave",So),e.addEventListener("drop",To)},remove(e){document.body.removeEventListener("dragstart",Ao),document.body.removeEventListener("dragend",Co),document.body.removeEventListener("dragenter",mt),document.body.removeEventListener("dragover",mt),document.body.removeEventListener("dragleave",So),e.removeEventListener("drop",To)}});function jo(e){return Array.from(e.types).indexOf("Files")>=0}r(jo,"hasFile");let sn=null;function mt(e){if(rn)return;const t=e.currentTarget;sn&&window.clearTimeout(sn),sn=window.setTimeout(()=>t.classList.remove("dragover"),200);const n=e.dataTransfer;!n||!jo(n)||(n.dropEffect="copy",t.classList.add("dragover"),e.stopPropagation(),e.preventDefault())}r(mt,"onDragenter");function So(e){e.target instanceof Element&&e.target.classList.contains("js-document-dropzone")&&e.currentTarget.classList.remove("dragover")}r(So,"onBodyDragleave");function To(e){const t=e.currentTarget;t.classList.remove("dragover"),document.body.classList.remove("dragover");const n=e.dataTransfer;!n||!jo(n)||((0,c.f)(t,"document:drop",{transfer:n}),e.stopPropagation(),e.preventDefault())}r(To,"onDrop");let rn=!1;function Ao(){rn=!0}r(Ao,"onDragstart");function Co(){rn=!1}r(Co,"onDragend");var ht=u(69567);async function ko(e,t){const o=new TextEncoder().encode(t),{seal:s}=await Promise.all([u.e("vendors-node_modules_blakejs_index_js-node_modules_tweetnacl_nacl-fast_js"),u.e("_empty-file_js-app_assets_modules_github_tweetsodium_ts")]).then(u.bind(u,6743));return s(o,e)}r(ko,"encrypt");function xo(e){const t=atob(e).split("").map(n=>n.charCodeAt(0));return Uint8Array.from(t)}r(xo,"decode");function Mo(e){let t="";for(const n of e)t+=String.fromCharCode(n);return btoa(t)}r(Mo,"encode"),(0,c.on)("submit","form.js-encrypt-submit",async function(e){const t=e.currentTarget;if(e.defaultPrevented||!t.checkValidity())return;const n=t.elements.namedItem("secret_value");if(n.disabled=!0,!n.value)return;e.preventDefault();const o=xo(t.getAttribute("data-public-key"));t.elements.namedItem("encrypted_value").value=Mo(await ko(o,n.value)),t.submit()}),(0,c.on)("submit","form.js-encrypt-bulk-submit",qo(!0)),(0,c.on)("submit","form.js-encrypt-bulk-submit-enable-empty",qo(!1));function qo(e){return async function(t){const n=t.currentTarget;if(t.defaultPrevented||!n.checkValidity())return;const o=xo(n.getAttribute("data-public-key"));t.preventDefault();for(const s of n.elements){const i=s;if(i.id.endsWith("secret")){if(i.disabled=!0,i.required&&!i.value){const l=`${i.name} is invalid!`,p=document.querySelector("template.js-flash-template");p.after(new ht.R(p,{className:"flash-error",message:l}));return}const a=`${i.name}_encrypted_value`;if(!i.value){n.elements.namedItem(a).disabled=e;continue}n.elements.namedItem(a).value=Mo(await ko(o,i.value))}}n.submit()}}r(qo,"submitBulk");var J=u(14298);let pt;function gt(e,t){const n=document.querySelector('.js-site-favicon[type="image/svg+xml"]'),o=document.querySelector('.js-site-favicon[type="image/png"]');t||(t="light");const s=t==="light"?"":"-dark";if(n&&o)if(pt==null&&(pt=n.href),e){e=e.substr(0,e.lastIndexOf(".")),e=`${e}${s}.svg`,n.href=e;const i=n.href.substr(0,n.href.lastIndexOf("."));o.href=`${i}.png`}else{const i=n.href.indexOf("-dark.svg"),a=n.href.substr(0,i!==-1?i:n.href.lastIndexOf("."));n.href=`${a}${s}.svg`,o.href=`${a}${s}.png`}}r(gt,"updateFavicon");function bt(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}r(bt,"prefersDarkColorScheme");function pi(){pt!=null&&gt(pt,bt()?"dark":"light")}r(pi,"resetIcon");function Ro(){bt()&&gt(void 0,"dark")}r(Ro,"updateDarkFavicon"),(0,d.N7)("[data-favicon-override]",{add(e){const t=e.getAttribute("data-favicon-override");setTimeout(()=>gt(t,bt()?"dark":"light"))},remove(){pi()}}),Ro(),document.addEventListener(J.QE.SUCCESS,Ro),window.matchMedia("(prefers-color-scheme: dark)").addListener(()=>{gt(void 0,bt()?"dark":"light")}),(0,d.N7)(".js-feature-preview-indicator-container",e=>{gi(e)});async function gi(e){const t=e.getAttribute("data-feature-preview-indicator-src"),n=await bi(t),o=e.querySelectorAll(".js-feature-preview-indicator");for(const s of o)s.hidden=!n}r(gi,"fetchFeaturePreviewIndicator");async function bi(e){try{const t=await fetch(e,{headers:{Accept:"application/json"}});return t.ok?(await t.json()).show_indicator:!1}catch{return!1}}r(bi,"fetchIndicator");var Te=u(12737),ye=u(29719);(0,c.on)("click","[data-feature-preview-trigger-url]",async e=>{const t=e.currentTarget,n=t.getAttribute("data-feature-preview-trigger-url"),o=await(0,Te.W)({content:(0,ye.a)(document,n),dialogClass:"feature-preview-dialog"}),s=t.getAttribute("data-feature-preview-close-details"),i=t.getAttribute("data-feature-preview-close-hmac");o.addEventListener("dialog:remove",()=>{(0,y.b)({hydroEventPayload:s,hydroEventHmac:i},!0)});const a=document.querySelectorAll(".js-feature-preview-indicator");for(const l of a)l.hidden=!0}),(0,q.AC)(".js-feature-preview-unenroll",async(e,t)=>{await t.text();const n=e.querySelector(".js-feature-preview-slug").value;(0,c.f)(e,`feature-preview-unenroll:${n}`)}),(0,q.AC)(".js-feature-preview-enroll",async(e,t)=>{await t.text();const n=e.querySelector(".js-feature-preview-slug").value;(0,c.f)(e,`feature-preview-enroll:${n}`)});class Po{constructor(t,n){this.attachment=t,this.policy=n}async process(t){const n=window.performance.now(),o=new Headers(this.policy.header||{}),s=new XMLHttpRequest;s.open("POST",this.policy.upload_url,!0);for(const[p,b]of o)s.setRequestHeader(p,b);s.onloadstart=()=>{t.attachmentUploadDidStart(this.attachment,this.policy)},s.upload.onprogress=p=>{if(p.lengthComputable){const b=Math.round(p.loaded/p.total*100);t.attachmentUploadDidProgress(this.attachment,b)}},await yi(s,vi(this.attachment,this.policy)),s.status===204?(Io(this.policy),t.attachmentUploadDidComplete(this.attachment,this.policy,{})):s.status===201?(Io(this.policy),t.attachmentUploadDidComplete(this.attachment,this.policy,JSON.parse(s.responseText))):t.attachmentUploadDidError(this.attachment,{status:s.status,body:s.responseText});const l={duration:window.performance.now()-n,size:this.attachment?.file?.size,fileType:this.attachment?.file?.type,success:s.status===204||s.status===201};(0,y.b)({uploadTiming:l},!0)}}r(Po,"AttachmentUpload");function yi(e,t){return new Promise((n,o)=>{e.onload=()=>n(e),e.onerror=o,e.send(t)})}r(yi,"send");function vi(e,t){const n=new FormData;t.same_origin&&n.append("authenticity_token",t.upload_authenticity_token);for(const o in t.form)n.append(o,t.form[o]);return n.append("file",e.file),n}r(vi,"uploadForm");function Io(e){const t=typeof e.asset_upload_url=="string"?e.asset_upload_url:null,n=typeof e.asset_upload_authenticity_token=="string"?e.asset_upload_authenticity_token:null;if(!(t&&n))return;const o=new FormData;o.append("authenticity_token",n),fetch(t,{method:"PUT",body:o,credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}r(Io,"markComplete");async function wi(e,t){const n=Si(e,t);for(const o of e.attachments){const s=await Ei(e,o,t);if(!s)return;try{await new Po(o,s).process(n)}catch{(0,c.f)(t,"upload:error",{batch:e,attachment:o}),Ae(t,"is-failed");return}}}r(wi,"upload");async function Ei(e,t,n){const o=Li(t,n),s=[];(0,c.f)(n,"upload:setup",{batch:e,attachment:t,form:o,preprocess:s});try{await Promise.all(s);const i=await fetch(ji(o,n));if(i.ok)return await i.json();(0,c.f)(n,"upload:invalid",{batch:e,attachment:t});const a=await i.text(),l=i.status,{state:p,messaging:b}=Do({status:l,body:a},t.file);Ae(n,p,b)}catch{(0,c.f)(n,"upload:invalid",{batch:e,attachment:t}),Ae(n,"is-failed")}return null}r(Ei,"validate");function Li(e,t){const n=t.querySelector(".js-data-upload-policy-url-csrf").value,o=t.getAttribute("data-upload-repository-id"),s=t.getAttribute("data-subject-type"),i=t.getAttribute("data-subject-param"),a=e.file,l=new FormData;return l.append("name",a.name),l.append("size",String(a.size)),l.append("content_type",a.type),l.append("authenticity_token",n),s&&l.append("subject_type",s),i&&l.append("subject",i),o&&l.append("repository_id",o),e.directory&&l.append("directory",e.directory),l}r(Li,"policyForm");function ji(e,t){return new Request(t.getAttribute("data-upload-policy-url"),{method:"POST",body:e,credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}r(ji,"policyRequest");function Si(e,t){return{attachmentUploadDidStart(n,o){n.saving(0),Ae(t,"is-uploading"),(0,c.f)(t,"upload:start",{batch:e,attachment:n,policy:o})},attachmentUploadDidProgress(n,o){n.saving(o),(0,c.f)(t,"upload:progress",{batch:e,attachment:n})},attachmentUploadDidComplete(n,o,s){n.saved(Ti(s,o)),(0,c.f)(t,"upload:complete",{batch:e,attachment:n}),e.isFinished()&&Ae(t,"is-default")},attachmentUploadDidError(n,o){(0,c.f)(t,"upload:error",{batch:e,attachment:n});const{state:s}=Do(o);Ae(t,s)}}}r(Si,"createDelegate");function Ti(e,t){const n=(e.id==null?null:String(e.id))||(t.asset.id==null?null:String(t.asset.id)),o=(typeof e.href=="string"?e.href:null)||(typeof t.asset.href=="string"?t.asset.href:null);return{id:n,href:o,name:t.asset.name}}r(Ti,"savedAttributes");function Do(e,t){if(e.status===400)return{state:"is-bad-file"};if(e.status!==422)return{state:"is-failed"};const n=JSON.parse(e.body);if(!n||!n.errors)return{state:"is-failed"};for(const o of n.errors)switch(o.field){case"size":{const s=t?t.size:null;return s!=null&&s===0?{state:"is-empty"}:{state:"is-too-big",messaging:{message:Ai(o.message),target:".js-upload-too-big"}}}case"file_count":return{state:"is-too-many"};case"width":case"height":return{state:"is-bad-dimensions"};case"name":return o.code==="already_exists"?{state:"is-duplicate-filename"}:{state:"is-bad-file"};case"content_type":return{state:"is-bad-file"};case"uploader_id":return{state:"is-bad-permissions"};case"repository_id":return{state:"is-repository-required"};case"format":return{state:"is-bad-format"}}return{state:"is-failed"}}r(Do,"policyErrorState");const Ai=r(e=>e.startsWith("size")?e.substring(5):e,"trimSizeErrorMessage"),Ci=["is-default","is-uploading","is-bad-file","is-duplicate-filename","is-too-big","is-too-many","is-hidden-file","is-failed","is-bad-dimensions","is-empty","is-bad-permissions","is-repository-required","is-bad-format"];function Ae(e,t,n){if(n){const{message:o,target:s}=n,i=e.querySelector(s);i&&(i.innerHTML=o)}e.classList.remove(...Ci),e.classList.add(t)}r(Ae,"resetState");class No{constructor(t){this.attachments=t,this.size=this.attachments.length,this.total=an(this.attachments,n=>n.file.size)}percent(){const t=r(o=>o.file.size*o.percent/100,"bytes"),n=an(this.attachments,t);return Math.round(n/this.total*100)}uploaded(){const t=r(n=>n.isSaved()?1:0,"value");return an(this.attachments,t)}isFinished(){return this.attachments.every(t=>t.isSaved())}}r(No,"Batch");function an(e,t){return e.reduce((n,o)=>n+t(o),0)}r(an,"sum"),(0,d.N7)("file-attachment[hover]",{add(e){e.classList.add("dragover")},remove(e){e.classList.remove("dragover")}}),(0,c.on)("file-attachment-accept","file-attachment",function(e){const{attachments:t}=e.detail;t.length===0&&(Ae(e.currentTarget,"is-hidden-file"),e.preventDefault())}),(0,c.on)("file-attachment-accepted","file-attachment",function(e){const t=e.currentTarget.querySelector(".drag-and-drop");if(t&&t.hidden)return;const{attachments:n}=e.detail;wi(new No(n),e.currentTarget)});let Ho=0;(0,d.N7)("file-attachment",{add(e){Ho++===0&&(document.addEventListener("drop",_o),document.addEventListener("dragover",Bo));const t=e.closest("form");t&&t.addEventListener("reset",Fo)},remove(e){--Ho===0&&(document.removeEventListener("drop",_o),document.removeEventListener("dragover",Bo));const t=e.closest("form");t&&t.removeEventListener("reset",Fo)}});function Oo(e){return Array.from(e.types).indexOf("Files")>=0}r(Oo,"file_attachment_hasFile");function _o(e){const t=e.dataTransfer;t&&Oo(t)&&e.preventDefault()}r(_o,"onDocumentDrop");function Bo(e){const t=e.dataTransfer;t&&Oo(t)&&e.preventDefault()}r(Bo,"onDocumentDragover");function Fo({currentTarget:e}){const t=e.querySelector("file-attachment");Ae(t,"is-default")}r(Fo,"onFormReset");var ki=u(13002);(0,c.on)("filter-input-updated","filter-input",e=>{const t=e.currentTarget.input;if(!(document.activeElement&&document.activeElement===t))return;const{count:n,total:o}=e.detail;(0,f.x)(`Found ${n} out of ${o} ${o===1?"item":"items"}`)}),(0,c.on)("toggle","details",e=>{setTimeout(()=>xi(e.target),0)},{capture:!0}),(0,c.on)("tab-container-changed","tab-container",e=>{if(!(e.target instanceof HTMLElement))return;const{relatedTarget:t}=e.detail,n=e.target.querySelector("filter-input");n instanceof ki.Z&&n.setAttribute("aria-owns",t.id)},{capture:!0});function xi(e){const t=e.querySelector("filter-input");t&&!e.hasAttribute("open")&&t.reset()}r(xi,"resetFilter");function Uo(e,t,n,o={}){const s=o.limit??1/0;let i=0;for(const a of e.children){const l=n(a,t);l==null||(l&&i<s?(i++,$o(a,!0)):$o(a,!1))}return i}r(Uo,"filterList");function $o(e,t){e.style.display=t?"":"none",e.hidden=!t}r($o,"toggle");var ve=u(8089),Ye=u(98670);const Wo=new WeakMap;function zo(e,t,n){const o=t.toLowerCase(),s=n.limit;let i=Wo.get(e);const a=e.querySelector('input[type="radio"]:checked'),l=Array.from(e.children);i||(i=Array.from(e.children),Wo.set(e,i));for(const W of l)e.removeChild(W),W instanceof HTMLElement&&(W.style.display="");const p=o?(0,Ye.W)(i,n.sortKey,ve.qu):i,b=s==null?p:p.slice(0,s),L=b.length,P=document.createDocumentFragment();for(const W of b)P.appendChild(W);let B=!1;if(a instanceof HTMLInputElement)for(const W of P.querySelectorAll('input[type="radio"]:checked'))W instanceof HTMLInputElement&&W.value!==a.value&&(W.checked=!1,B=!0);e.appendChild(P),a&&B&&a.dispatchEvent(new Event("change",{bubbles:!0}));const U=e.querySelectorAll(".js-divider");for(const W of U)W.classList.toggle("d-none",Boolean(o&&o.trim().length>0));return L}r(zo,"filterSortList");var cn=u(25833);let ln=new AbortController;const et=new WeakMap,Ko=new WeakMap,Vo=new WeakMap;async function Mi(e,t,n,o){n&&!et.has(e)&&Pi(e);const s=await qi(e,t,n,o);return e.hasAttribute("data-filterable-data-pre-rendered")&&(s.suggestions=Ri(e,n)),s}r(Mi,"getData");async function qi(e,t,n,o){const s=new URL(e.getAttribute("data-filterable-src")||"",window.location.origin);if(s.pathname==="/")throw new Error("could not get data-filterable-src");if(n){const i=et.get(e),a=t.trim();if(i.lastSearchText===a)return i.lastSearchResult;const l=i.lastSearchText===void 0;i.lastSearchText=a;const p=e.getAttribute("data-filterable-for")||"",b=document.getElementById(p);if(ln.abort(),a===""&&!o)i.lastSearchResult={suggestions:[],users:[]};else{ln=new AbortController;const L={headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},signal:ln.signal},P=s.searchParams||new URLSearchParams;P.set("q",t),P.set("typeAhead","true"),s.search=P.toString(),l||b?.classList.add("is-loading");const B=await fetch(s.toString(),L);i.lastSearchResult=await B.json()}return b?.classList.remove("is-loading"),i.lastSearchResult}else{const i={headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}};return await(await fetch(s.toString(),i)).json()}}r(qi,"fetchQueryIfNeeded");function Ri(e,t){const n=[],o=e.querySelectorAll(".js-filterable-suggested-user");if(o.length>0)for(const s of e.querySelectorAll(".js-filterable-suggested-user"))s.classList.remove("js-filterable-suggested-user"),n.push({name:s.querySelector(".js-description").textContent,login:s.querySelector(".js-username").textContent,selected:s.getAttribute("aria-checked")==="true",element:s,suggestion:!0});if(t){const s=et.get(e);return o.length>0&&(s.cachedSuggestions=n,s.userResultCache.clear()),s.cachedSuggestions}return n}r(Ri,"getPreRenderedUsers");function Pi(e){et.set(e,{lastSearchResult:{suggestions:[],users:[]},cachedSuggestions:[],userResultCache:new Map})}r(Pi,"initializeTypeAheadCache");async function Ii(e,t,n){Vo.set(e,t),await(0,cn.Z)();const o=e.hasAttribute("data-filterable-show-suggestion-header"),s=e.hasAttribute("data-filterable-type-ahead"),i=e.hasAttribute("data-filterable-type-ahead-query-on-empty");let a=Ko.get(e);if(!a)try{a=await Mi(e,t,s,i),s||Ko.set(e,a)}catch(z){if(z.name==="AbortError")return-1;throw z}if(!s&&Vo.get(e)!==t)return-1;const l=n.limit,p=e.querySelector("template"),b={};for(const z of e.querySelectorAll("input[type=hidden]"))b[`${z.name}${z.value}`]=z;let L=p.nextElementSibling;for(;L;){const z=L;L=z.nextElementSibling,z instanceof HTMLElement&&(s||z.getAttribute("aria-checked")==="true"||z.classList.contains("select-menu-divider"))?z.hidden=!0:z.remove()}let P=0;const B=t.trim()==="",U=document.createDocumentFragment(),W=e.querySelector(".js-divider-suggestions"),ce=e.querySelector(".js-divider-rest"),oe=et.get(e);function le(z){const Ee=`${z.login} ${z.name}`.toLowerCase().trim().includes(t),F=!(l!=null&&P>=l)&&Ee;if(F||z.selected||z.suggestion){const O=Di(z,p,b,oe);O.hidden=!F,F&&P++,U.appendChild(O)}}r(le,"addItem");let fe=!1;if(W&&(a.suggestions?.length>0||o&&a.users.length>0)){const z=a.suggestions??[],Ee=z.filter(O=>O.selected),F=z.filter(O=>!O.selected);for(const O of Ee)le(O);U.appendChild(W);const K=P;for(const O of F)le(O);fe=P>K,W.hidden=!fe||s&&!B,o&&a.users.length>0&&(W.hidden=!B)}ce&&U.appendChild(ce);const _e=P;for(const z of a.users)le(z);return ce&&(ce.hidden=_e===P||!fe),e.append(U),P}r(Ii,"substringMemoryFilterList");function Di(e,t,n,o){if(e.element!=null)return e.element;if(o?.userResultCache.has(e.id))return o.userResultCache.get(e.id);const s=t.content.cloneNode(!0),i=s.querySelector("input[type=checkbox], input[type=radio]");e.type&&(i.name=`reviewer_${e.type}_ids[]`),i.value=e.id;const a=`${i.name}${e.id}`;let l=e.selected;n[a]&&(l=!0,n[a].remove(),delete n[a]);const p=s.querySelector("[role^=menuitem]");l&&(p.setAttribute("aria-checked","true"),i.checked=!0),e.disabled&&p.setAttribute("aria-disabled","true");const b=s.querySelector(".js-username");b&&(b.textContent=e.login);const L=s.querySelector(".js-description");L&&(L.textContent=e.name);const P=s.querySelector(".js-extended-description");P&&(e.description?P.textContent=e.description:P.remove());const B=s.querySelector(".js-avatar");return B.className=`${B.className} ${e.class}`,B.src=e.avatar,e.element=p,o?.userResultCache.set(e.id,p),e.element}r(Di,"createReviewerItem"),(0,d.N7)(".js-filterable-field",{constructor:HTMLInputElement,initialize(e){e.autocomplete||(e.autocomplete="off");const t=e.hasAttribute("type-ahead")?200:null;let n=e.value;async function o(i){n!==i.value&&(n=i.value,await(0,A.gJ)(),(0,c.f)(i,"filterable:change"))}r(o,"onInputChange");async function s(){n=e.value,await(0,A.gJ)(),(0,c.f)(e,"filterable:change")}return r(s,"onFocus"),{add(i){i.addEventListener("focus",s),(0,re.oq)(i,o,{wait:t}),document.activeElement===i&&s()},remove(i){i.removeEventListener("focus",s),(0,re.iU)(i,o)}}}}),(0,c.on)("filterable:change",".js-filterable-field",async function(e){const t=e.currentTarget,n=t.value.trim().toLowerCase(),o=document.querySelectorAll(`[data-filterable-for="${t.id}"]`);for(const s of o){const i=await Hi(s,n);if(i===-1)return;document.activeElement&&t===document.activeElement&&(0,f.x)(`${i} results found.`),s.dispatchEvent(new CustomEvent("filterable:change",{bubbles:!0,cancelable:!1,detail:{inputField:t}}))}});function Ni(e){return e.hasAttribute("data-filter-value")?e.getAttribute("data-filter-value").toLowerCase().trim():e.textContent.toLowerCase().trim()}r(Ni,"defaultText");async function Hi(e,t){const n=parseInt(e.getAttribute("data-filterable-limit"),10)||null;let o=0;switch(e.getAttribute("data-filterable-type")){case"fuzzy-prio":{const s=t.toLowerCase();o=zo(e,t,{limit:n,sortKey:r(a=>{const l=a.getAttribute("data-prio-filter-value").toLowerCase().trim(),p=a.textContent.toLowerCase().trim(),b=(0,ve.EW)(l,s)*2;let L=(0,ve.EW)(p,s);return b>L&&(L=b),L>0?{score:L,text:p}:null},"sortKey")});break}case"fuzzy":{const s=t.toLowerCase();o=zo(e,t,{limit:n,sortKey:r(a=>{const l=Ni(a),p=(0,ve.EW)(l,s);return p>0?{score:p,text:l}:null},"sortKey")});break}case"substring":o=Uo(e,t.toLowerCase(),_i,{limit:n});break;case"substring-memory":o=await Ii(e,t,{limit:n});break;default:o=Uo(e,t.toLowerCase(),Oi,{limit:n});break}return e.classList.toggle("filterable-active",t.length>0),e.classList.toggle("filterable-empty",o===0),o}r(Hi,"filter");function Oi(e,t){return e.textContent.toLowerCase().trim().startsWith(t)}r(Oi,"prefix");function _i(e,t){return e.hasAttribute("data-skip-substring-filter")||e.classList.contains("select-menu-no-results")?null:(e.querySelector("[data-filterable-item-text]")||e).textContent.toLowerCase().trim().includes(t)}r(_i,"substring"),(0,c.on)("filterable:change","details-menu .select-menu-list",function(e){const t=e.currentTarget,n=t.querySelector(".js-new-item-form");n&&Bi(t,n,e.detail.inputField.value)});function Bi(e,t,n){const o=n.length>0&&!Fi(e,n);if(e.classList.toggle("is-showing-new-item-form",o),!o)return;t.querySelector(".js-new-item-name").textContent=n;const s=t.querySelector(".js-new-item-value");(s instanceof HTMLInputElement||s instanceof HTMLButtonElement)&&(s.value=n)}r(Bi,"toggleForm");function Fi(e,t){for(const n of e.querySelectorAll("[data-menu-button-text]"))if(n.textContent.toLowerCase().trim()===t.toLowerCase())return!0;return!1}r(Fi,"itemExists"),(0,d.N7)("tab-container .select-menu-list .filterable-empty, details-menu .select-menu-list .filterable-empty",{add(e){e.closest(".select-menu-list").classList.add("filterable-empty")},remove(e){e.closest(".select-menu-list").classList.remove("filterable-empty")}});const Xo=navigator.userAgent.match(/Firefox\/(\d+)/);Xo&&Number(Xo[1])<76&&((0,d.N7)('details-menu label[tabindex][role^="menuitem"]',e=>{const t=e.querySelector("input");if(!t)return;const n=e.classList.contains("select-menu-item"),o=t.classList.contains("d-none"),s=n||o||t.hidden;n&&t.classList.add("d-block"),o&&t.classList.remove("d-none"),s&&(t.classList.add("sr-only"),t.hidden=!1),e.removeAttribute("tabindex")}),(0,c.on)("focus",'details-menu label[role="menuitemradio"] input, details-menu label[role="menuitemcheckbox"] input',e=>{const t=e.currentTarget.closest("label");t.classList.contains("select-menu-item")&&t.classList.add("navigation-focus"),t.classList.contains("SelectMenu-item")&&t.classList.add("hx_menuitem--focus"),t.classList.contains("dropdown-item")&&t.classList.add("hx_menuitem--focus"),e.currentTarget.addEventListener("blur",()=>{t.classList.contains("select-menu-item")&&t.classList.remove("navigation-focus"),t.classList.contains("SelectMenu-item")&&t.classList.remove("hx_menuitem--focus"),t.classList.contains("dropdown-item")&&t.classList.remove("hx_menuitem--focus")},{once:!0})},{capture:!0}),(0,x.w4)("keydown",'details-menu label[role="menuitemradio"] input, details-menu label[role="menuitemcheckbox"] input',async function(e){if(Go(e))e.currentTarget instanceof Element&&Ui(e.currentTarget);else if(e.key==="Enter"){const t=e.currentTarget;e.preventDefault(),await(0,A.gJ)(),t instanceof HTMLInputElement&&t.click()}}),(0,c.on)("blur",'details-menu label input[role="menuitemradio"], details-menu label input[role="menuitemcheckbox"]',e=>{Zo(e.currentTarget)},{capture:!0}),(0,x.w4)("keyup",'details-menu label[role="menuitemradio"] input, details-menu label[role="menuitemcheckbox"] input',e=>{!Go(e)||e.currentTarget instanceof Element&&Zo(e.currentTarget)}));function Go(e){return e.key==="ArrowDown"||e.key==="ArrowUp"}r(Go,"isArrowKeys");function Ui(e){const t=e.closest("label");t.hasAttribute("data-role")||t.setAttribute("data-role",t.getAttribute("role")),e.setAttribute("role",t.getAttribute("data-role")),t.removeAttribute("role")}r(Ui,"switchRoleToInputForNavigation");function Zo(e){const t=e.closest("label");t.hasAttribute("data-role")||t.setAttribute("data-role",t.getAttribute("role")),t.setAttribute("role",t.getAttribute("data-role")),e.removeAttribute("role")}r(Zo,"switchRoleBackToOriginalState");var un=u(11820);function Jo(){document.firstElementChild.classList.contains("js-skip-scroll-target-into-view")||(0,un.lA)(document)&&(0,un.kc)(document)}r(Jo,"scrollTargetIntoViewIfNeeded"),(0,tn.Z)(Jo),(0,c.on)("click",'a[href^="#"]',function(e){const{currentTarget:t}=e;t instanceof HTMLAnchorElement&&setTimeout(Jo,0)}),(0,c.on)("click",".js-flash-close",function(e){const t=e.currentTarget.closest(".flash-messages");e.currentTarget.closest(".flash").remove(),t&&!t.querySelector(".flash")&&t.remove()});const $i=["flash-notice","flash-error","flash-message","flash-warn"];function Wi(e){for(const{key:t,value:n}of $i.flatMap(Je.$1)){(0,Je.kT)(t);let o;try{o=atob(decodeURIComponent(n))}catch{continue}e.after(new ht.R(e,{className:t,message:o}))}}r(Wi,"displayFlash"),(0,d.N7)("template.js-flash-template",{constructor:HTMLTemplateElement,add(e){Wi(e)}});const dn=new WeakMap;document.addEventListener("focus",function(e){const t=e.target;t instanceof Element&&!dn.get(t)&&((0,c.f)(t,"focusin:delay"),dn.set(t,!0))},{capture:!0}),document.addEventListener("blur",function(e){setTimeout(function(){const t=e.target;t instanceof Element&&t!==document.activeElement&&((0,c.f)(t,"focusout:delay"),dn.delete(t))},200)},{capture:!0}),(0,q.AC)(".js-form-toggle-target",async function(e,t){try{await t.text()}catch{return}const n=e.closest(".js-form-toggle-container");n.querySelector(".js-form-toggle-target[hidden]").hidden=!1,e.hidden=!0});var zi=u(99254);function Ki(e){e instanceof CustomEvent&&(0,f.x)(`${e.detail} results found.`)}r(Ki,"noticeHandler"),(0,d.N7)("fuzzy-list",{constructor:zi.Z,subscribe:e=>(0,T.RB)(e,"fuzzy-list-sorted",Ki)}),(0,c.on)("click",".email-hidden-toggle",function(e){const t=e.currentTarget.nextElementSibling;t instanceof HTMLElement&&(t.style.display="",t.classList.toggle("expanded"),e.preventDefault())});var qu=u(30479);(0,d.N7)(".js-hook-url-field",{constructor:HTMLInputElement,add(e){function t(){const n=e.form;if(!n)return;let o;try{o=new URL(e.value)}catch{}const s=n.querySelector(".js-invalid-url-notice");s instanceof HTMLElement&&(s.hidden=!!(e.value===""||o&&/^https?:/.test(o.protocol)));const i=n.querySelector(".js-insecure-url-notice");i instanceof HTMLElement&&o&&e.value&&(i.hidden=/^https:$/.test(o.protocol));const a=n.querySelector(".js-ssl-hook-fields");a instanceof HTMLElement&&(a.hidden=!(o&&o.protocol==="https:"))}r(t,"checkUrl"),(0,re.oq)(e,t),t()}});function Qo(e){const t=document.querySelectorAll(".js-hook-event-checkbox");for(const n of t)n.checked=n.matches(e)}r(Qo,"chooseEvents"),(0,c.on)("change",".js-hook-event-choice",function(e){const t=e.currentTarget,n=t.checked&&t.value==="custom",o=t.closest(".js-hook-events-field");if(o&&o.classList.toggle("is-custom",n),t.checked)if(n){const s=document.querySelector(".js-hook-wildcard-event");s.checked=!1}else t.value==="push"?Qo('[value="push"]'):t.value==="all"&&Qo(".js-hook-wildcard-event")}),(0,c.on)("click",".js-hook-deliveries-pagination-button",async function(e){const t=e.currentTarget;t.disabled=!0;const n=t.parentElement,o=t.getAttribute("data-url");n.before(await(0,ye.a)(document,o)),n.remove()}),(0,q.AC)(".js-redeliver-hook-form",async function(e,t){let n;try{n=await t.html()}catch{e.classList.add("failed");return}document.querySelector(".js-hook-deliveries-container").replaceWith(n.html)});var $e=u(11793);(0,d.N7)("[data-hotkey]",{constructor:HTMLElement,add(e){if((0,ft.Ty)())(0,$e.N9)(e);else{const t=e.getAttribute("data-hotkey");if(t){const n=Vi(t);n.length>0&&(e.setAttribute("data-hotkey",n),(0,$e.N9)(e))}}},remove(e){(0,$e.Tz)(e)}});function Vi(e){return e.split(",").filter(n=>(0,ft.YE)(n)).join(",")}r(Vi,"filterOutCharacterKeyShortcuts");var fn=u(53692);let te=document.querySelector(".js-hovercard-content");(0,d.N7)(".js-hovercard-content",e=>{te=e});const Xi=(0,Pe.Z)(ye.a);let Ce,yt=null,mn,hn=0;const pn=12,gn=24,Yo=gn-7,es=16,Gi=100,Zi=250;function Ie(e){return"Popover-message--"+e}r(Ie,"contentClass");function Ji(e){setTimeout(()=>{if(document.body&&document.body.contains(e)){const t=e.querySelector("[data-hydro-view]");t instanceof HTMLElement&&(0,fn.Fk)(t)}},500)}r(Ji,"trackLoad");function We(){te instanceof HTMLElement&&(te.style.display="none",te.children[0].innerHTML="",yt=null,Ce=null)}r(We,"hideCard");function Qi(e){const t=e.getClientRects();let n=t[0]||e.getBoundingClientRect()||{top:0,left:0,height:0,width:0};if(t.length>0){for(const o of t)if(o.left<hn&&o.right>hn){n=o;break}}return n}r(Qi,"selectRectNearestMouse");function Yi(e){const{width:t,height:n}=te.getBoundingClientRect(),{left:o,top:s,height:i,width:a}=Qi(e),l=s>n;if(e.classList.contains("js-hovercard-left")){const b=o-t-pn,L=s+i/2;return{containerTop:l?L-n+Yo+es/2:L-Yo-es/2,containerLeft:b,contentClassSuffix:l?"right-bottom":"right-top"}}else{const b=window.innerWidth-o>t,L=o+a/2,P=b?L-gn:L-t+gn;return{containerTop:l?s-n-pn:s+i+pn,containerLeft:P,contentClassSuffix:l?b?"bottom-left":"bottom-right":b?"top-left":"top-right"}}}r(Yi,"calculatePositions");function ea(e,t){if(!(te instanceof HTMLElement))return;te.style.visibility="hidden",te.style.display="block",t.classList.remove(Ie("bottom-left"),Ie("bottom-right"),Ie("right-top"),Ie("right-bottom"),Ie("top-left"),Ie("top-right"));const{containerTop:n,containerLeft:o,contentClassSuffix:s}=Yi(e);t.classList.add(Ie(s)),te.style.top=`${n+window.pageYOffset}px`,te.style.left=`${o+window.pageXOffset}px`,la(e,te),te.style.visibility=""}r(ea,"positionCard");function ta(e,t){if(!(te instanceof HTMLElement))return;const n=te.children[0];n.innerHTML="";const o=document.createElement("div");for(const s of e.children)o.appendChild(s.cloneNode(!0));n.appendChild(o),ea(t,n),Ji(o),te.style.display="block"}r(ta,"showCard");function na(e){const t=e.closest("[data-hovercard-subject-tag]");if(t)return t.getAttribute("data-hovercard-subject-tag");const n=document.head&&document.head.querySelector('meta[name="hovercard-subject-tag"]');return n?n.getAttribute("content"):null}r(na,"determineEnclosingSubject");function oa(e){const t=e.getAttribute("data-hovercard-url");if(t){const n=na(e);if(n){const o=new URL(t,window.location.origin),s=new URLSearchParams(o.search.slice(1));return s.append("subject",n),s.append("current_path",window.location.pathname+window.location.search),o.search=s.toString(),o.toString()}return t}return""}r(oa,"hovercardUrlFromTarget");function sa(e){const t=e.getAttribute("data-hovercard-type");return t==="pull_request"||t==="issue"?!!e.closest("[data-issue-and-pr-hovercards-enabled]"):t==="team"?!!e.closest("[data-team-hovercards-enabled]"):t==="repository"?!!e.closest("[data-repository-hovercards-enabled]"):t==="commit"?!!e.closest("[data-commit-hovercards-enabled]"):t==="project"?!!e.closest("[data-project-hovercards-enabled]"):t==="discussion"?!!e.closest("[data-discussion-hovercards-enabled]"):t==="acv_badge"?!!e.closest("[data-acv-badge-hovercards-enabled]"):t==="sponsors_listing"?!!e.closest("[data-sponsors-listing-hovercards-enabled]"):!0}r(sa,"hovercardsAreEnabledForType");async function ra(e,t){if("ontouchstart"in document)return;const o=e.currentTarget;if(e instanceof MouseEvent&&(hn=e.clientX),!(o instanceof Element)||Ce===o||o.closest(".js-hovercard-content")||!sa(o))return;We(),Ce=o,yt=document.activeElement;const s=oa(o);let i;try{const a=new Promise(l=>window.setTimeout(l,t,0));i=await Xi(document,s),await a}catch(a){const l=a.response;if(l&&l.status===404){const p="Hovercard is unavailable";o.setAttribute("aria-label",p),o.classList.add("tooltipped","tooltipped-ne")}else if(l&&l.status===410){const p=await l.clone().json();o.setAttribute("aria-label",p.message),o.classList.add("tooltipped","tooltipped-ne")}return}o===Ce&&(ta(i,o),e instanceof KeyboardEvent&&te instanceof HTMLElement&&te.focus())}r(ra,"activateFn");function ia(e){ra(e,Zi)}r(ia,"activateWithTimeoutFn");function bn(e){if(!!Ce){if(e instanceof MouseEvent&&e.relatedTarget instanceof HTMLElement){const t=e.relatedTarget;if(t.closest(".js-hovercard-content")||t.closest("[data-hovercard-url]"))return}else e instanceof KeyboardEvent&&yt instanceof HTMLElement&&yt.focus();We()}}r(bn,"deactivateFn");function aa(e){const t=Ce;mn=window.setTimeout(()=>{Ce===t&&bn(e)},Gi)}r(aa,"deactivateWithTimeoutFn");function ts(e){if(e instanceof KeyboardEvent)switch(e.key){case"Escape":bn(e)}}r(ts,"keyupFn");function ca(){mn&&clearTimeout(mn)}r(ca,"cancelDeactivation"),te&&((0,d.N7)("[data-hovercard-url]",{subscribe:e=>(0,T.qC)((0,T.RB)(e,"mouseover",ia),(0,T.RB)(e,"mouseleave",aa),(0,T.RB)(e,"keyup",ts))}),(0,d.N7)("[data-hovercard-url]",{remove(e){Ce===e&&We()}}),(0,d.N7)(".js-hovercard-content",{subscribe:e=>(0,T.qC)((0,T.RB)(e,"mouseover",ca),(0,T.RB)(e,"mouseleave",bn),(0,T.RB)(e,"keyup",ts))}),(0,c.on)("menu:activated","details",We),window.addEventListener("turbo:load",We),window.addEventListener("statechange",We));function la(e,t){const n=e.getAttribute("data-hovercard-z-index-override");n?t.style.zIndex=n:t.style.zIndex="100"}r(la,"setZIndexOverride");var ke=u(10550);(async function(){document.addEventListener("pjax:complete",()=>(0,D.Y)({pjax:"true"})),document.addEventListener(J.QE.FRAME_UPDATE,()=>(0,D.Y)({turbo:"true"})),document.addEventListener(J.QE.SUCCESS,()=>{(0,ke.Gj)()!=="turbo.frame"&&(0,D.Y)({turbo:"true"})}),await be.C,(0,D.Y)()})(),(0,c.on)("click","[data-octo-click]",function(e){const t=e.currentTarget;if(!(t instanceof HTMLElement))return;const n=t.getAttribute("data-octo-click")||"",o={};if(t.hasAttribute("data-ga-click")){const i=t.getAttribute("data-ga-click").split(",");o.category=i[0].trim(),o.action=i[1].trim()}if(t.hasAttribute("data-octo-dimensions")){const s=t.getAttribute("data-octo-dimensions").split(",");for(const i of s){const[a,l]=i.split(/:(.+)/);a&&(o[a]=l||"")}}(0,D.q)(n,o)});var ns=u(84818);const{getItem:Pu}=(0,ns.Z)("localStorage");function Iu(e,t){}r(Iu,"debugPayload"),(0,c.on)("click","[data-hydro-click]",function(e){const t=e.currentTarget,n=t.getAttribute("data-hydro-click")||"",o=t.getAttribute("data-hydro-click-hmac")||"",s=t.getAttribute("data-hydro-client-context")||"";(0,fn.$S)(n,o,s)}),(0,c.on)("click","[data-optimizely-hydro-click]",function(e){const t=e.currentTarget,n=t.getAttribute("data-optimizely-hydro-click")||"",o=t.getAttribute("data-optimizely-hydro-click-hmac")||"";(0,fn.$S)(n,o,"")}),(0,q.AC)(".js-immediate-updates",async function(e,t){let n;try{n=(await t.json()).json.updateContent}catch(o){o.response.json&&(n=o.response.json.updateContent)}if(n)for(const o in n){const s=n[o],i=document.querySelector(o);i instanceof HTMLElement&&(0,Re.Of)(i,s)}}),document.addEventListener("DOMContentLoaded",ua);async function ua(){if((0,qe.c)("IMAGE_METRIC_TRACKING")===!1)return;const e=Array.from(document.querySelectorAll("img.js-img-time")).slice(0,5),t=Date.now(),n=[];await Promise.all(e.map(o=>da(o,t,n))),n.length>0&&(0,y.b)({transparentRedirectTimings:n})}r(ua,"onDOMContentLoaded");async function da(e,t,n){const o=/\/assets\/storage\/user\/([0-9]+)\/files\/([{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?)/,s=/assets\/([0-9]+)\/([{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?)/,i=e.getAttribute("src");if(!i)return;const a=new URL(i,window.location.origin),l=o.test(a.pathname)?o:s,[,p,b]=a.pathname.match(l)||[];if(!p||!b)return;await fetch(`/assets/measure/${p}/${b}`);const P={duration:Date.now()-t,fileGUID:b,userID:p};n.push(P)}r(da,"measureRedirectTiming"),(0,d.N7)("[data-indeterminate]",{constructor:HTMLInputElement,initialize(e){e.indeterminate=!0}});var fa=u(51244);function ma(){u.e("app_assets_modules_github_jump-to_ts").then(u.bind(u,35653))}r(ma,"load"),(0,d.N7)(".js-jump-to-field",{constructor:HTMLInputElement,add(e){e.addEventListener("focusin",ma,{once:!0}),(0,fa.Nc)(window.location.pathname)}});let yn=!1;async function os(){if(yn)return;yn=!0;const t={contexts:document.querySelector("meta[name=github-keyboard-shortcuts]").content},n=`/site/keyboard_shortcuts?${new URLSearchParams(t).toString()}`,o=await(0,Te.W)({content:(0,ye.a)(document,n),labelledBy:"keyboard-shortcuts-heading"});o.style.width="800px",o.addEventListener("dialog:remove",function(){yn=!1},{once:!0})}r(os,"showKeyboardShortcuts"),(0,c.on)("click",".js-keyboard-shortcuts",os),document.addEventListener("keydown",e=>{e instanceof KeyboardEvent&&(!(0,ft.Zf)(e)||e.target instanceof Node&&(0,S.sw)(e.target)||(0,$e.EL)(e)==="Shift+?"&&os())}),(0,d.N7)(".js-modifier-key",{constructor:HTMLElement,add(e){if(/Macintosh/.test(navigator.userAgent)){let t=e.textContent;t&&(t=t.replace(/ctrl/,"\u2318"),t=t.replace(/alt/,"\u2325"),e.textContent=t)}}}),(0,d.N7)(".js-modifier-label-key",{add(e){let t=e.textContent?.replace(/ctrl/i,"Ctrl");!t||(/Macintosh/.test(navigator.userAgent)&&(t=t.replace(/ctrl/i,"Cmd"),t=t.replace(/alt/i,"Option")),e.textContent=t)}});function vt(e){const t=e.currentTarget;if(!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return;const n=parseInt(t.getAttribute("data-input-max-length")||"",10),o=parseInt(t.getAttribute("data-warning-length")||"",10)||5,i=t.value.replace(/(\r\n|\n|\r)/g,`\r
`);let a=n-i.length;if(a<=0){let L=i.substr(0,n);L.endsWith("\r")?(L=L.substr(0,n-1),a=1):a=0,t.value=L}const l=t.getAttribute("data-warning-text"),b=t.closest(".js-length-limited-input-container").querySelector(".js-length-limited-input-warning");a<=o?(b.textContent=l.replace(new RegExp("{{remaining}}","g"),`${a}`),b.classList.remove("d-none")):(b.textContent="",b.classList.add("d-none"))}r(vt,"displayLengthWarning"),(0,d.N7)(".js-length-limited-input",{add(e){e.addEventListener("input",vt),e.addEventListener("change",vt)},remove(e){e.removeEventListener("input",vt),e.removeEventListener("change",vt)}}),(0,c.on)("click",".js-member-search-filter",function(e){e.preventDefault();const t=e.currentTarget.getAttribute("data-filter"),o=e.currentTarget.closest("[data-filter-on]").getAttribute("data-filter-on"),s=document.querySelector(".js-member-filter-field"),i=s.value,a=new RegExp(`${o}:(?:[a-z]|_|((').*(')))+`),l=i.toString().trim().replace(a,"");s.value=`${l} ${t}`.replace(/\s\s/," ").trim(),s.focus(),(0,c.f)(s,"input")}),(0,c.on)("auto-check-success",".js-new-organization-name",function(e){const t=e.target,o=t.closest("dd").querySelector(".js-field-hint-name");!o||(o.textContent=t.value)}),(0,q.AC)(".js-notice-dismiss",async function(e,t){await t.text(),e.closest(".js-notice").remove()}),(0,c.on)("submit",".js-notice-dismiss-remote",async function(e){const t=e.currentTarget;e.preventDefault();let n;try{n=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{(0,C.v)();return}n&&!n.ok?(0,C.v)():t.closest(".js-notice").remove()});function ha(e){try{const t=e.getBoundingClientRect();if(t.height===0&&t.width===0||e.style.opacity==="0"||e.style.visibility==="hidden")return!1}catch{}return!0}r(ha,"isVisible"),(0,c.on)("click",".js-github-dev-shortcut",function(e){e.preventDefault();for(const n of document.querySelectorAll("textarea.js-comment-field"))if(n.value&&ha(n)&&!confirm("Are you sure you want to open github.dev?"))return;const t=e.currentTarget;t.pathname=window.location.pathname,t.hash=window.location.hash,window.location.href=t.href}),(0,c.on)("click",".js-github-dev-new-tab-shortcut",function(e){const t=e.currentTarget;t.pathname=window.location.pathname,t.hash=window.location.hash});function pa(e,t,n){const o=new URL("",window.location.origin),s=t.pathname.split("/");o.pathname=s.slice(1,3).join("/"),o.hash=t.hash,n&&(o.search=`?q=${encodeURIComponent(n)}`);const a=new URLSearchParams(t.search).get("q");return a?o.search=`?q=${encodeURIComponent(a)}`:s.length>=6&&(s[3]==="blob"||s[3]==="tree")&&(o.pathname=t.pathname),o.host=e.host,o.protocol=e.protocol,o.port=e.port,o}r(pa,"getBlackbirdURL"),(0,c.on)("click",".js-blackbird-shortcut",function(e){const t=e.currentTarget,n=pa(t,new URL(window.location.href,window.location.origin),window.getSelection()?.toString());t.href=n.href}),(0,c.on)("click",".js-permalink-shortcut",function(e){const t=e.currentTarget;try{(0,j.lO)(null,"",t.href+window.location.hash)}catch{window.location.href=t.href+window.location.hash}for(const n of document.querySelectorAll(".js-permalink-replaceable-link"))n instanceof HTMLAnchorElement&&(n.href=n.getAttribute("data-permalink-href"));e.preventDefault()}),(0,q.AC)(".js-permission-menu-form",async function(e,t){const n=e.querySelector(".js-permission-success"),o=e.querySelector(".js-permission-error");n.hidden=!0,o.hidden=!0,e.classList.add("is-loading");let s;try{s=await t.json()}catch{e.classList.remove("is-loading"),o.hidden=!1;return}e.classList.remove("is-loading"),n.hidden=!1;const i=e.closest(".js-org-repo");if(i){const a=s.json;i.classList.toggle("with-higher-access",a.members_with_higher_access)}}),async function(){await be.x;const e=document.querySelector(".js-pjax-loader-bar");if(!e)return;const t=e.firstElementChild;if(!(t instanceof HTMLElement))return;let n=0,o=null,s=null;function i(){a(0),e&&e.classList.add("is-loading"),o=window.setTimeout(l,0)}r(i,"initiateLoader");function a(b){t instanceof HTMLElement&&(b===0&&(s==null&&(s=getComputedStyle(t).transition),t.style.transition="none"),n=b,t.style.width=`${n}%`,b===0&&(t.clientWidth,t.style.transition=s||""))}r(a,"setWidth");function l(){n===0&&(n=12),a(Math.min(n+3,95)),o=window.setTimeout(l,500)}r(l,"increment");function p(){o&&clearTimeout(o),a(100),e&&e.classList.remove("is-loading")}r(p,"finishLoader"),document.addEventListener("pjax:start",i),document.addEventListener("pjax:end",p)}();let vn=null;const wn="last_pjax_request",wt="pjax_start",En="pjax_end";function ga(e){e instanceof CustomEvent&&e.detail&&e.detail.url&&(window.performance.mark(wt),vn=e.detail.url)}r(ga,"markPjaxStart");async function ba(){if(await(0,A.gJ)(),!window.performance.getEntriesByName(wt).length)return;window.performance.mark(En),window.performance.measure(wn,wt,En);const t=window.performance.getEntriesByName(wn).pop(),n=t?t.duration:null;!n||(vn&&(0,y.b)({requestUrl:vn,pjaxDuration:Math.round(n)}),ya())}r(ba,"trackPjaxTiming");function ya(){window.performance.clearMarks(wt),window.performance.clearMarks(En),window.performance.clearMeasures(wn)}r(ya,"clearPjaxMarks"),"getEntriesByName"in window.performance&&(document.addEventListener("pjax:start",ga),document.addEventListener("pjax:end",ba));let Ln=null;const jn="last_turbo_request",Et="turbo_start",Sn="turbo_end";function va(e){e instanceof CustomEvent&&(!e.detail?.url||(window.performance.mark(Et),Ln=e.detail.url))}r(va,"markTurboStart");async function wa(){if(await(0,A.gJ)(),!window.performance.getEntriesByName(Et).length)return;window.performance.mark(Sn),window.performance.measure(jn,Et,Sn);const t=window.performance.getEntriesByName(jn).pop(),n=t?t.duration:null;!n||(Ln&&(0,y.b)({requestUrl:Ln,turboDuration:Math.round(n)}),Ea())}r(wa,"trackTurboTiming");function Ea(){window.performance.clearMarks(Et),window.performance.clearMarks(Sn),window.performance.clearMeasures(jn)}r(Ea,"clearTurboMarks"),"getEntriesByName"in window.performance&&(document.addEventListener("turbo:before-fetch-request",va),document.addEventListener("turbo:render",wa));var Du=u(11724);function La(e,t){const n=e.split("/",3).join("/"),o=t.split("/",3).join("/");return n===o}r(La,"isSameRepo"),(0,c.on)("pjax:click","#js-repo-pjax-container a[href]",function(e){const t=e.currentTarget.pathname;La(t,location.pathname)||e.preventDefault()}),(0,c.on)("pjax:click",".js-comment-body",function(e){const t=e.target;t instanceof HTMLAnchorElement&&t.pathname.split("/")[3]==="files"&&e.preventDefault()});var Nu=u(54293),X=u(36192);(0,c.on)("click",".js-turbo-history-navigate",function(e){if(!(0,X.xc)())return;const t=e;if(!(t.currentTarget instanceof HTMLAnchorElement)||t.shiftKey||t.metaKey||t.ctrlKey||t.altKey)return;const n=(0,j._C)(),o=(0,j.Mw)();n&&t.currentTarget.href===n?(t.preventDefault(),ss(n),history.back()):o&&t.currentTarget.href===o&&(t.preventDefault(),ss(o),history.forward())}),(0,c.on)("pjax:click",".js-pjax-history-navigate",function(e){(0,X.xc)()||e.currentTarget instanceof HTMLAnchorElement&&(e.currentTarget.href===(0,j._C)()?(history.back(),e.detail.relatedEvent.preventDefault(),e.preventDefault()):e.currentTarget.href===(0,j.Mw)()&&(history.forward(),e.detail.relatedEvent.preventDefault(),e.preventDefault()))});function ss(e){document.addEventListener("turbo:before-fetch-request",function(t){if(!(0,X.HN)(t.target))return;const n=t.detail.url.href;e===n&&(t.preventDefault(),(0,J.FP)())},{once:!0})}r(ss,"cancelNextTurboFrameFetchRequest");function rs(e){return e.getAttribute("data-pjax-preserve-scroll")!=null?!1:0}r(rs,"preserveScrollTo");function Tn(e){let t=e;for(;t;){const n=t.getAttribute("data-pjax");if(n&&n!=="true")return document.querySelector(n);t=t.parentElement&&t.parentElement.closest("[data-pjax]")}return e.closest("[data-pjax-container]")}r(Tn,"detectContainer"),(0,c.on)("click","[data-pjax] a, a[data-pjax]",function(e){const t=e.currentTarget;if(t instanceof HTMLAnchorElement){if(t.getAttribute("data-skip-pjax")!=null||t.getAttribute("data-remote")!=null)return;const n=Tn(t);n&&ja(e,{container:n,scrollTo:rs(t)})}}),(0,c.on)("change","select[data-pjax]",function(e){if((0,X.xc)())return;const t=e.currentTarget,n=Tn(t);n&&(0,ae.ZP)({url:t.value,container:n})});function ja(e,t){if((0,X.xc)())return;const n=e.currentTarget;if(e.button!==0||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==n.protocol||location.hostname!==n.hostname||n.href.indexOf("#")>-1&&is(n)===is(location)||e.defaultPrevented)return;const o={url:n.href,target:n,...t},s=new CustomEvent("pjax:click",{bubbles:!0,cancelable:!0,detail:{options:o,relatedEvent:e}});n.dispatchEvent(s)&&((0,ae.ZP)(o),e.preventDefault(),n.dispatchEvent(new CustomEvent("pjax:clicked",{bubbles:!0,cancelable:!0,detail:{options:o}})))}r(ja,"click");function is(e){return e.href.replace(/#.*/,"")}r(is,"stripHash"),(0,c.on)("submit","form[data-pjax]",function(e){if((0,X.xc)())return;const t=e.currentTarget,n=Tn(t);if(!n)return;const o=rs(t),s={type:(t.method||"GET").toUpperCase(),url:t.action,target:t,scrollTo:o,container:n};if(s.type==="GET"){if(t.querySelector("input[type=file]"))return;const i=Sa(s.url);i.search+=(i.search?"&":"")+(0,S.qC)(t),s.url=i.toString()}else s.data=new FormData(t);(0,ae.ZP)(s),e.preventDefault()});function Sa(e){const t=document.createElement("a");return t.href=e,t}r(Sa,"parseURL"),(0,d.N7)("body.js-print-popup",()=>{window.print(),setTimeout(window.close,1e3)}),(0,d.N7)("poll-include-fragment[data-redirect-url]",function(e){const t=e.getAttribute("data-redirect-url");e.addEventListener("load",function(){window.location.href=t})}),(0,d.N7)("poll-include-fragment[data-reload]",function(e){e.addEventListener("load",function(){window.location.reload()})}),(0,x.w4)("keydown",".js-quick-submit",function(e){Ta(e)});function Ta(e){const t=e.target;if((e.ctrlKey||e.metaKey)&&e.key==="Enter"){const n=t.form,o=n.querySelector("input[type=submit], button[type=submit]");if(e.shiftKey){const s=n.querySelector(".js-quick-submit-alternative");(s instanceof HTMLInputElement||s instanceof HTMLButtonElement)&&!s.disabled&&(0,S.Bt)(n,s)}else(o instanceof HTMLInputElement||o instanceof HTMLButtonElement)&&o.disabled||(0,S.Bt)(n);e.preventDefault()}}r(Ta,"quickSubmit");var as=u(55498);let Lt;(0,d.N7)(".js-comment-quote-reply",function(e){e.hidden=e.closest(".js-quote-selection-container")?.querySelector(".js-inline-comment-form-container textarea, .js-new-comment-form textarea")==null});function cs(e){return e.nodeName==="DIV"&&e.classList.contains("highlight")}r(cs,"isHighlightContainer");function Aa(e){return e.nodeName==="IMG"||e.firstChild!=null}r(Aa,"hasContent");const ls={PRE(e){const t=e.parentElement;if(t&&cs(t)){const n=t.className.match(/highlight-source-(\S+)/),o=n?n[1]:"",s=(e.textContent||"").replace(/\n+$/,"");e.textContent=`\`\`\`${o}
${s}
\`\`\``,e.append(`

`)}return e},A(e){const t=e.textContent||"";return e.classList.contains("user-mention")||e.classList.contains("team-mention")||e.classList.contains("issue-link")&&/^#\d+$/.test(t)?t:e},IMG(e){const t=e.getAttribute("alt");return t&&e.classList.contains("emoji")?t:e},DIV(e){if(e.classList.contains("js-suggested-changes-blob"))e.remove();else if(e.classList.contains("blob-wrapper-embedded")){const t=e.parentElement,n=t.querySelector("a[href]"),o=document.createElement("p");o.textContent=n.href,t.replaceWith(o)}return e}};function Ca(e){const t=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,{acceptNode(s){return s.nodeName in ls&&Aa(s)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),n=[];let o=t.nextNode();for(;o;)o instanceof HTMLElement&&n.push(o),o=t.nextNode();n.reverse();for(const s of n)s.replaceWith(ls[s.nodeName](s))}r(Ca,"insertMarkdownSyntax"),(0,c.on)("click",".js-comment-quote-reply",function({isTrusted:e,currentTarget:t}){const n=t.closest(".js-comment"),o=n.querySelector(".js-comment-body"),s=n.querySelector(".js-comment-body").cloneNode(!0),i=n.closest(".js-quote-selection-container"),a=o.querySelectorAll("button.js-convert-to-issue-button, span.js-clear");for(const b of a)b.remove();let l=new as.p;if(!e&&l.range.collapsed||(i.hasAttribute("data-quote-markdown")&&(l=new as.I(i.getAttribute("data-quote-markdown")||"",b=>{const L=l.range.startContainer.parentElement,P=L&&L.closest("pre");if(P instanceof HTMLElement){const B=P.parentElement;if(B&&cs(B)){const U=document.createElement("div");U.className=B.className,U.appendChild(b),b.appendChild(U)}}Ca(b)})),Lt&&o.contains(Lt.anchorNode)?l.range=Lt.range:l.range.collapsed&&l.select(o),l.closest(".js-quote-selection-container")!==i))return;const p=l.range;i.dispatchEvent(new CustomEvent("quote-selection",{bubbles:!0,detail:l})),l.range=p;for(const b of i.querySelectorAll("textarea"))if((0,ge.Z)(b)){l.insert(b);break}n.querySelector(".js-comment-body").replaceWith(s)});let An;document.addEventListener("selectionchange",(0,H.D)(function(){const e=window.getSelection();let t;try{t=e.getRangeAt(0)}catch{An=null;return}An={anchorNode:e.anchorNode,range:t}},100)),document.addEventListener("toggle",()=>{Lt=An},{capture:!0});const ka=new ResizeObserver(e=>{for(const t of e)t.contentRect.height>26&&xa(t.target)});(0,d.N7)(".js-reactions-container",function(e){ka.observe(e)});function xa(e){const t=e.offsetWidth*.8,n=e.querySelectorAll(".js-reaction-group-button"),o=e.querySelector(".js-all-reactions-popover");let s=0;for(const i of n)s+=i.clientWidth;if(s+=o?.clientWidth||0,t<s){let i=t;o&&(o.removeAttribute("hidden"),i-=o.offsetWidth);for(const a of n){const l=a.offsetWidth;l>i?a.setAttribute("hidden","hidden"):a.removeAttribute("hidden"),i-=l}}}r(xa,"hideReactionOverflow"),(0,q.AC)(".js-pick-reaction",async function(e,t){const n=await t.json(),o=e.closest(".js-comment"),s=o.querySelector(".js-reactions-container"),i=o.querySelector(".js-comment-header-reaction-button"),a=(0,v.r)(document,n.json.reactions_container.trim()),l=(0,v.r)(document,n.json.comment_header_reaction_button.trim());s.replaceWith(a),i.replaceWith(l)});function us(e){const t=e.target,n=t.getAttribute("data-reaction-label"),s=t.closest(".js-add-reaction-popover").querySelector(".js-reaction-description");s.hasAttribute("data-default-text")||s.setAttribute("data-default-text",s.textContent||""),s.textContent=n}r(us,"showReactionContent");function ds(e){const n=e.target.closest(".js-add-reaction-popover").querySelector(".js-reaction-description"),o=n.getAttribute("data-default-text");o&&(n.textContent=o)}r(ds,"hideReactionContent"),(0,c.on)("toggle",".js-reaction-popover-container",function(e){const t=e.currentTarget.hasAttribute("open");for(const n of e.target.querySelectorAll(".js-reaction-option-item"))t?(n.addEventListener("mouseenter",us),n.addEventListener("mouseleave",ds)):(n.removeEventListener("mouseenter",us),n.removeEventListener("mouseleave",ds))},{capture:!0});var Cn=u(2061);function Ma(e,t,n){e.getAttribute("data-type")==="json"&&n.headers.set("Accept","application/json"),(0,c.f)(e,"deprecatedAjaxSend",{request:n}),t.text().catch(s=>{if(s.response)return s.response;throw s}).then(s=>{s.status<300?(0,c.f)(e,"deprecatedAjaxSuccess"):(0,c.f)(e,"deprecatedAjaxError",{error:s.statusText,status:s.status,text:s.text})},s=>{(0,c.f)(e,"deprecatedAjaxError",{error:s.message,status:0,text:null})}).then(()=>{(0,c.f)(e,"deprecatedAjaxComplete")})}r(Ma,"submitWithLegacyEvents"),(0,c.on)("click",["form button:not([type])","form button[type=submit]","form input[type=submit]"].join(", "),function(e){const t=e.currentTarget;t.form&&!e.defaultPrevented&&(0,Cn.j)(t)}),(0,q.AC)("form[data-remote]",Ma),(0,c.on)("deprecatedAjaxComplete","form",function({currentTarget:e}){const t=(0,Cn.u)(e);t&&t.remove()}),(0,q.uT)(e=>{const t=(0,Cn.u)(e);t&&t.remove()}),(0,q.rK)(cn.Z),(0,d.N7)(".has-removed-contents",function(){let e;return{add(t){e=Array.from(t.childNodes);for(const o of e)t.removeChild(o);const n=t.closest("form");n&&(0,c.f)(n,"change")},remove(t){for(const o of e)t.appendChild(o);const n=t.closest("form");n&&(0,c.f)(n,"change")}}});var me=u(36162),qa=(e=>(e.Auto="auto",e.Light="light",e.Dark="dark",e))(qa||{});function Ra(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}r(Ra,"getUserSystemColorMode");const kn=".js-render-plaintext";function Pa(e){const t=e.closest(".js-render-needs-enrichment");if(!t)return;t.querySelector(kn)&&xn(t,!1)}r(Pa,"markdownEnrichmentSuccess");function Ia(e,t){xn(e,!1),fs(e,!0),e.classList.add("render-error");const n=e.querySelector(kn);if(!n)return;n.classList.remove("render-plaintext-hidden");const o=n.querySelector("pre");(0,me.sY)(me.dy`${t} ${o}`,n)}r(Ia,"showMarkdownRenderError");function xn(e,t){const n=e.getElementsByClassName("js-render-enrichment-loader")[0],o=e.getElementsByClassName("render-expand")[0];n&&(n.hidden=!t),o&&(o.hidden=t)}r(xn,"setCodeBlockLoaderVisibility");function fs(e,t){const n=e.querySelector(kn);t?n.classList.remove("render-plaintext-hidden"):n.classList.add("render-plaintext-hidden")}r(fs,"setRawCodeBlockVisibility");class ms{constructor(t){this.el=t,this.enrichmentTarget=t.getElementsByClassName("js-render-enrichment-target")[0],this.iframeUrl=this.getIframeUrl(),this.identifier=this.el.getAttribute("data-identity"),this.iframeContentType=this.el.getAttribute("data-type"),this.iframeOrigin=new URL(this.iframeUrl,window.location.origin).origin,this.iframeContent=this.el.getAttribute("data-content"),xn(this.el,!0)}enrich(){const t=this.createDialog();(0,me.sY)(t,this.enrichmentTarget),this.setupModal()}getIframeUrl(){const t=this.el.getAttribute("data-enterprise"),n=(0,qe.c)("GEOJSON_AZURE_MAPS")&&t==="false",o=this.el.getAttribute("data-src"),s={...this.colorMode(),azure_maps_enabled:n},i=Object.entries(s).map(([a,l])=>`${a}=${l}`).join("&");return`${o}?${i}`}colorMode(){let t=document.querySelector("html")?.getAttribute("data-color-mode");return(t==="auto"||!t)&&(t=Ra()),{color_mode:t}}setupModal(){const t=this.generateIframeCode("-fullscreen"),n=this.el.querySelector(".Box-body");this.el.querySelector(".js-full-screen-render").addEventListener("click",()=>{(0,me.sY)(t,n)})}createDialog(){const t=this.generateIframeCode();return me.dy` <div class="d-flex flex-column flex-auto js-render-box">
      <details class="details-reset details-overlay details-overlay-dark">
        <summary class="btn-sm btn position-absolute js-full-screen-render render-expand" aria-haspopup="dialog" hidden>
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="currentColor"
            class="octicon"
            style="display:inline-block;vertical-align:text-bottom"
          >
            <path
              fill-rule="evenodd"
              d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"
            ></path>
          </svg>
        </summary>
        <details-dialog class="Box Box--overlay render-full-screen d-flex flex-column anim-fade-in fast">
          <div>
            <button
              aria-label="Close dialog"
              data-close-dialog=""
              type="button"
              data-view-component="true"
              class="Link--muted btn-link position-absolute render-full-screen-close"
            >
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="currentColor"
                style="display:inline-block;vertical-align:text-bottom"
                class="octicon octicon-x"
              >
                <path
                  fill-rule="evenodd"
                  d="M5.72 5.72a.75.75 0 011.06 0L12 10.94l5.22-5.22a.75.75 0 111.06 1.06L13.06 12l5.22 5.22a.75.75 0 11-1.06 1.06L12 13.06l-5.22 5.22a.75.75 0 01-1.06-1.06L10.94 12 5.72 6.78a.75.75 0 010-1.06z"
                ></path>
              </svg>
            </button>
            <div class="Box-body"></div>
          </div>
        </details-dialog>
      </details>
      ${t}
    </div>`}generateIframeCode(t=""){const n=this.identifier+t,o=`${this.iframeUrl}#${n}`;return me.dy`
      <div
        class="render-container js-render-target p-0"
        data-identity="${n}"
        data-host="${this.iframeOrigin}"
        data-type="${this.iframeContentType}"
      >
        <iframe
          class="render-viewer"
          src="${o}"
          name="${n}"
          data-content="${this.iframeContent}"
          sandbox="allow-scripts allow-same-origin allow-top-navigation"
        >
        </iframe>
      </div>
    `}}r(ms,"EnrichableMarkdownRenderer"),(0,d.N7)(".js-render-needs-enrichment",function(e){const t=e;new ms(t).enrich()}),(0,c.on)("preview:toggle:off",".js-previewable-comment-form",function(e){const o=e.currentTarget.querySelector(".js-render-needs-enrichment")?.querySelector(".js-render-enrichment-target");!o||(o.innerHTML="")}),(0,c.on)("preview:rendered",".js-previewable-comment-form",function(e){const n=e.currentTarget.querySelector(".js-render-needs-enrichment");n&&fs(n,!1)});const Hu=null,jt=["is-render-pending","is-render-ready","is-render-loading","is-render-loaded"],Da=["is-render-ready","is-render-loading","is-render-loaded","is-render-failed","is-render-failed-fatally"],ze=new WeakMap;function hs(e){const t=ze.get(e);t!=null&&(t.load=t.hello=null,t.helloTimer&&(clearTimeout(t.helloTimer),t.helloTimer=null),t.loadTimer&&(clearTimeout(t.loadTimer),t.loadTimer=null))}r(hs,"resetTiming");function tt(e,t=""){e.classList.remove(...jt),e.classList.add("is-render-failed");const n=Ha(t),o=e.parentElement?.closest(".js-render-needs-enrichment");o?Ia(o,n):Na(e,n),hs(e)}r(tt,"renderFailed");function Na(e,t){const n=e.querySelector(".render-viewer-error");n&&(n.remove(),e.classList.remove("render-container"),(0,me.sY)(t,e))}r(Na,"fileRenderError");function Ha(e){let t=me.dy`<p>Unable to render code block</p>`;if(e!==""){const n=e.split(`
`);t=me.dy`<p><b>Error rendering embedded code</b></p>
      <p>${n.map(o=>me.dy`${o}<br />`)}</p>`}return me.dy`<div class="flash flash-error">${t}</div>`}r(Ha,"renderError");function ps(e,t=!1){!(0,ge.Z)(e)||e.classList.contains("is-render-ready")||e.classList.contains("is-render-failed")||e.classList.contains("is-render-failed-fatally")||t&&!ze.get(e)?.hello||tt(e)}r(ps,"timeoutWatchdog"),(0,d.N7)(".js-render-target",function(e){const t=e;t.classList.remove(...Da),t.style.height="auto",!ze.get(e)?.load&&(hs(e),!ze.get(e)&&(ze.set(e,{load:Date.now(),hello:null,helloTimer:window.setTimeout(ps,1e4,e,!0),loadTimer:window.setTimeout(ps,45e3,e)}),e.classList.add("is-render-automatic","is-render-requested")))});function St(e,t){e&&e.postMessage&&e.postMessage(JSON.stringify(t),"*")}r(St,"postAsJson");function Oa(e){let t=e.data;if(!t)return;if(typeof t=="string")try{t=JSON.parse(t)}catch{return}if(t.type!=="render"||typeof t.identity!="string")return;const n=t.identity;if(typeof t.body!="string")return;const o=t.body;let s=null;for(const b of document.querySelectorAll(".js-render-target"))if(b.getAttribute("data-identity")===n){s=b;break}if(!s||e.origin!==s.getAttribute("data-host"))return;const i=t.payload!=null?t.payload:void 0,a=s.querySelector("iframe"),l=a?.contentWindow;function p(){const b=a?.getAttribute("data-content");if(!b)return;const L={type:"render:cmd",body:{cmd:"code_rendering_service:data:ready","code_rendering_service:data:ready":{data:JSON.parse(b).data,width:s?.getBoundingClientRect().width}}};St(l,L)}switch(r(p,"postData"),o){case"hello":{const b=ze.get(s)||{untimed:!0};b.hello=Date.now();const L={type:"render:cmd",body:{cmd:"ack",ack:!0}},P={type:"render:cmd",body:{cmd:"branding",branding:!1}};if(!l)return;St(l,L),St(l,P)}break;case"error":i?tt(s,i.error):tt(s);break;case"error:fatal":{tt(s),s.classList.add("is-render-failed-fatal");break}case"error:invalid":tt(s),s.classList.add("is-render-failed-invalid");break;case"loading":s.classList.remove(...jt),s.classList.add("is-render-loading");break;case"loaded":s.classList.remove(...jt),s.classList.add("is-render-loaded");break;case"ready":Pa(s),s.classList.remove(...jt),s.classList.add("is-render-ready"),i&&typeof i.height=="number"&&(s.style.height=`${i.height}px`,location.hash!==""&&window.dispatchEvent(new HashChangeEvent("hashchange")));break;case"resize":i&&typeof i.height=="number"&&(s.style.height=`${i.height}px`);break;case"code_rendering_service:container:get_size":St(l,{type:"render:cmd",body:{cmd:"code_rendering_service:container:size","code_rendering_service:container:size":{width:s?.getBoundingClientRect().width}}});break;case"code_rendering_service:markdown:get_data":if(!l)return;p();break;default:break}}r(Oa,"handleMessage"),window.addEventListener("message",Oa),(0,q.AC)("form[data-replace-remote-form]",async function(e,t){e.classList.remove("is-error"),e.classList.add("is-loading");try{let n=e;const o=await t.html(),s=e.closest("[data-replace-remote-form-target]");if(s){const i=s.getAttribute("data-replace-remote-form-target");n=i?document.getElementById(i):s}n.replaceWith(o.html)}catch{e.classList.remove("is-loading"),e.classList.add("is-error")}}),PerformanceObserver&&(PerformanceObserver.supportedEntryTypes||[]).includes("longtask")&&new PerformanceObserver(function(t){const n=t.getEntries().map(({name:o,duration:s})=>({name:o,duration:s,url:window.location.href}));(0,y.b)({longTasks:n})}).observe({entryTypes:["longtask"]});const gs=new WeakMap;function _a(e){return e.closest("markdown-toolbar").field}r(_a,"getTextarea"),(0,c.on)("click",".js-markdown-link-button",async function({currentTarget:e}){const n=document.querySelector(".js-markdown-link-dialog").content.cloneNode(!0);if(!(n instanceof DocumentFragment))return;const o=await(0,Te.W)({content:n,labelledBy:"box-title"});e instanceof HTMLElement&&gs.set(o,_a(e).selectionEnd)}),(0,c.on)("click",".js-markdown-link-insert",({currentTarget:e})=>{const t=e.closest("details-dialog"),n=document.querySelector(`#${e.getAttribute("data-for-textarea")}`),o=gs.get(t)||0,s=t.querySelector("#js-dialog-link-href").value,a=`[${t.querySelector("#js-dialog-link-text").value}](${s}) `,l=n.value.slice(0,o),p=n.value.slice(o);n.value=l+a+p,n.focus(),n.selectionStart=n.selectionEnd=o+a.length});var Ou=u(17300);(0,c.on)("details-menu-select",".js-saved-reply-menu",function(e){if(!(e.target instanceof Element))return;const t=e.detail.relatedTarget.querySelector(".js-saved-reply-body");if(!t)return;const n=(t.textContent||"").trim(),s=e.target.closest(".js-previewable-comment-form").querySelector("textarea.js-comment-field");(0,Le.Om)(s,n),setTimeout(()=>s.focus(),0)},{capture:!0}),(0,x.w4)("keydown",".js-saved-reply-shortcut-comment-field",function(e){(0,$e.EL)(e)==="Control+."&&(e.target.closest(".js-previewable-comment-form").querySelector(".js-saved-reply-container").setAttribute("open",""),e.preventDefault())}),(0,x.w4)("keydown",".js-saved-reply-filter-input",function(e){if(/^Control\+[1-9]$/.test((0,$e.EL)(e))){const n=e.target.closest(".js-saved-reply-container").querySelectorAll('[role="menuitem"]'),o=Number(e.key),s=n[o-1];s instanceof HTMLElement&&(s.click(),e.preventDefault())}else if(e.key==="Enter"){const n=e.target.closest(".js-saved-reply-container").querySelectorAll('[role="menuitem"]');n.length>0&&n[0]instanceof HTMLButtonElement&&n[0].click(),e.preventDefault()}});var Ba=u(29790),Fa=u(19218);function Ua(e,t){return e.querySelector(`#LC${t}`)}r(Ua,"queryLineElement");function Tt(e,t,n,o){const s=(0,Ba.M9)(e,l=>Ua(t,l));if(!s)return;if(n){const l=(0,Le.yb)(s.startContainer.textContent,s.startOffset);if(l===-1)return;s.setStart(s.startContainer,l)}if(o){const l=(0,Le.yb)(s.endContainer.textContent,s.endOffset);if(l===-1)return;s.setEnd(s.endContainer,l)}const i=document.createElement("span"),a=["text-bold","hx_keyword-hl","rounded-2","d-inline-block"];i.classList.add(...a),(0,Fa.v)(s,i)}r(Tt,"highlightRange");function $a(e,t){if(e.start.line!==e.end.line){const n={start:{line:e.start.line,column:e.start.column},end:{line:e.start.line,column:null}};Tt(n,t,!0,!1);for(let s=e.start.line+1;s<e.end.line;s+=1)Tt({start:{line:s,column:0},end:{line:s,column:null}},t,!1,!1);const o={start:{line:e.end.line,column:0},end:{line:e.end.line,column:e.end.column}};Tt(o,t,!1,!0)}else Tt(e,t,!0,!0)}r($a,"highlightColumns");function Wa(e){const t=parseInt(e.getAttribute("data-start-line")),n=parseInt(e.getAttribute("data-end-line")),o=parseInt(e.getAttribute("data-start-column")),s=parseInt(e.getAttribute("data-end-column"));return t===n&&o===s?null:{start:{line:t,column:o},end:{line:n,column:s!==0?s:null}}}r(Wa,"parseColumnHighlightRange"),(0,d.N7)(".js-highlight-code-snippet-columns",function(e){const t=Wa(e);t!==null&&$a(t,e)}),(0,c.on)("click",".js-segmented-nav-button",function(e){e.preventDefault();const t=e.currentTarget,n=t.getAttribute("data-selected-tab"),o=t.closest(".js-segmented-nav"),s=o.parentElement;for(const i of o.querySelectorAll(".js-segmented-nav-button"))i.classList.remove("selected");t.classList.add("selected");for(const i of s.querySelectorAll(".js-selected-nav-tab"))i.parentElement===s&&i.classList.remove("active");document.querySelector(`.${n}`).classList.add("active")});var xe=u(407),Me=u(25331);const za=(0,H.D)(function(){(0,xe.e6)((0,Me.e)())},50);function Ka(){return document.querySelector("html")?.hasAttribute("data-turbo-preview")??!1}r(Ka,"isTurboRenderingCachePreview"),window.addEventListener("submit",xe.iO,{capture:!0}),window.addEventListener("pageshow",function(){(0,xe.e6)((0,Me.e)())}),window.addEventListener("pjax:end",function(){(0,xe.e6)((0,Me.e)())}),(0,d.N7)(".js-session-resumable",function(){Ka()||za()}),window.addEventListener("pagehide",function(){(0,xe.Xm)((0,Me.e)(),{selector:".js-session-resumable"})}),window.addEventListener("pjax:beforeReplace",function(e){const t=e.detail.previousState,n=t?t.url:null;if(n)(0,xe.Xm)((0,Me.e)(new URL(n,window.location.origin)),{selector:".js-session-resumable"});else{const o=new Error("pjax:beforeReplace event.detail.previousState.url is undefined");setTimeout(function(){throw o})}}),window.addEventListener("turbo:before-visit",function(){(0,xe.Xm)((0,Me.e)(),{selector:".js-session-resumable"})}),window.addEventListener("turbo:load",function(){(0,xe.e6)((0,Me.e)())});function Mn(){const e=document.querySelector('meta[name="selected-link"]'),t=e&&e.getAttribute("value");if(!!t)for(const n of document.querySelectorAll(".js-sidenav-container-pjax .js-selected-navigation-item")){const o=(n.getAttribute("data-selected-links")||"").split(" ").indexOf(t)>=0;o?n.setAttribute("aria-current","page"):n.removeAttribute("aria-current"),n.classList.toggle("selected",o)}}r(Mn,"updateSelectedRepoTab"),document.addEventListener("pjax:end",Mn),document.addEventListener(J.QE.FRAME_UPDATE,Mn),document.addEventListener(J.QE.SUCCESS,Mn);var At=u(24216);const qn=["notification_referrer_id","notifications_before","notifications_after","notifications_query"],Ct="notification_shelf";function Va(e,t=null){return e.has("notification_referrer_id")?(Xa(e,t),Ga(e)):null}r(Va,"storeAndStripShelfParams");function bs(e=null){const t=ys(e);if(!t)return(0,At.cl)(Ct),null;try{const n=(0,At.rV)(Ct);if(!n)return null;const o=JSON.parse(n);if(!o||!o.pathname)throw new Error("Must have a pathname");if(o.pathname!==t)throw new Error("Stored pathname does not match current pathname.");const s={};for(const i of qn)s[i]=o[i];return s}catch{return(0,At.cl)(Ct),null}}r(bs,"getStoredShelfParamsForCurrentPage");function Xa(e,t){const n=ys(t);if(!n)return;const o={pathname:n};for(const s of qn){const i=e.get(s);i&&(o[s]=i)}(0,At.LS)(Ct,JSON.stringify(o))}r(Xa,"storeShelfParams");function Ga(e){for(const t of qn)e.delete(t);return e}r(Ga,"deleteShelfParams");function ys(e){e=e||window.location.pathname;const t=/^(\/[^/]+\/[^/]+\/pull\/[^/]+)/,n=e.match(t);return n?n[0]:null}r(ys,"getCurrentPullRequestPathname");var Za=u(27034),Ja=u(32904);async function Qa(){return(0,q.AC)(".js-notification-shelf .js-notification-action form",async function(e,t){if(e.hasAttribute("data-redirect-to-inbox-on-submit")){await vs(t);const o=document.querySelector(".js-notifications-back-to-inbox");o&&o.click();return}(0,Ja.a)(e,e),await vs(t)})}r(Qa,"remoteShelfActionForm");function Ya(){const e=new URLSearchParams(window.location.search),t=Va(e);if(t){const n=new URL(window.location.href,window.location.origin);return n.search=t.toString(),n.toString()}}r(Ya,"urlWithoutNotificationParameters");function ec(e){if(!(e instanceof Za.Z))return;const t=bs();if(!t)return;const n=e.getAttribute("data-base-src");if(!n)return;const o=new URL(n,window.location.origin),s=new URLSearchParams(o.search);for(const[i,a]of Object.entries(t))typeof a=="string"&&s.set(i,a);o.search=s.toString(),e.setAttribute("src",o.toString())}r(ec,"loadShelfFromStoredParams");async function vs(e){try{await e.text()}catch{}}r(vs,"performRequest"),Qa();function ws(){const e=Ya();e&&(0,j.lO)(null,"",e)}r(ws,"removeNotificationParams"),ws(),document.addEventListener(J.QE.SUCCESS,ws),(0,d.N7)(".js-notification-shelf-include-fragment",ec),(0,c.on)("submit",".js-mark-notification-form",async function(e){const t=e.currentTarget;e.preventDefault();try{await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}});async function Es(){await be.C;const e=document.querySelector(".js-mark-notification-form");e instanceof HTMLFormElement&&(0,S.Bt)(e)}r(Es,"markNotificationAsRead"),document.addEventListener(J.QE.SUCCESS,Es),Es();function tc(e){return!!e.closest(".js-jump-to-field")}r(tc,"isJumpToAvailable");function Rn(e,t){if(tc(e))return;const n=document.querySelector(".js-site-search-form");document.querySelector(".js-site-search").classList.toggle("scoped-search",t);let o,s;t?(o=n.getAttribute("data-scoped-search-url"),s=e.getAttribute("data-scoped-placeholder")):(o=n.getAttribute("data-unscoped-search-url"),s=e.getAttribute("data-unscoped-placeholder")),n.setAttribute("action",o),e.setAttribute("placeholder",s)}r(Rn,"toggleSearchScope"),(0,x.w4)("keyup",".js-site-search-field",function(e){const t=e.target,n=t.value.length===0;n&&e.key==="Backspace"&&t.classList.contains("is-clearable")&&Rn(t,!1),n&&e.key==="Escape"&&Rn(t,!0),t.classList.toggle("is-clearable",n)}),(0,x.ZG)(".js-site-search-focus",function(e){const t=e.closest(".js-chromeless-input-container");t.classList.add("focus");function n(){t.classList.remove("focus"),e.value.length===0&&e.classList.contains("js-site-search-field")&&Rn(e,!0),e.removeEventListener("blur",n)}r(n,"blurHandler"),e.addEventListener("blur",n)}),(0,c.on)("submit",".js-site-search-form",function(e){if(!(e.target instanceof Element))return;const t=e.target.querySelector(".js-site-search-type-field");t.value=new URLSearchParams(window.location.search).get("type")||""});var nc=u(54430);(0,d.N7)("textarea.js-size-to-fit",{constructor:HTMLTextAreaElement,subscribe:nc.Z});var Pn=u(61161);(0,c.on)("click",".js-smoothscroll-anchor",function(e){const t=e.currentTarget;if(!(t instanceof HTMLAnchorElement))return;const n=(0,Pn.Kt)(document,t.hash);!n||(n.focus(),n.scrollIntoView({behavior:"smooth"}),e.preventDefault())});const oc=1e3,Ls=new WeakMap,js=document.querySelector("#snippet-clipboard-copy-button");async function sc(e,t){const n=e.getAttribute("data-snippet-clipboard-copy-content");if(n===null||(e.removeAttribute("data-snippet-clipboard-copy-content"),!(js instanceof HTMLTemplateElement)))return;const s=js.content.cloneNode(!0).children[0];if(!(s instanceof HTMLElement))return;const i=s.children[0];if(!(i instanceof HTMLElement))return;i.setAttribute("value",n),document.addEventListener("selectionchange",()=>{const l=document.getSelection();if(l&&e.contains(l.anchorNode)){const p=l?.toString();i.style.display=p.trim()===""?"inherit":"none"}},{signal:t});const a=e.querySelector("pre");if(a!==null){let l;a.addEventListener("scroll",()=>{l&&clearTimeout(l),i.style.display="none",l=setTimeout(()=>{i.style.display="inherit"},oc)},{signal:t})}e.appendChild(s)}r(sc,"insertSnippetClipboardCopyButton"),(0,d.N7)("[data-snippet-clipboard-copy-content]",{constructor:HTMLElement,add(e){if(e.parentElement&&e.parentElement.classList.contains("js-no-snippet-clipboard-copy"))return;const t=new AbortController;Ls.set(e,t),sc(e,t.signal)}}),(0,d.N7)(".snippet-clipboard-content clipboard-copy",{constructor:HTMLElement,remove(e){const t=Ls.get(e);t&&t.abort()}});function Ss(e,t,n){Ts(e,t),n&&e.classList.toggle("on");const o=Array.from(e.querySelectorAll(".js-social-updatable"),Re.x0);return Promise.all(o)}r(Ss,"handleSocialResponse"),(0,q.AC)(".js-social-form",async function(e,t){let n;const o=e.closest(".js-social-container"),s=e.classList.contains("js-deferred-toggler-target");try{n=await t.json(),o&&await Ss(o,n.json.count,s)}catch(i){if(i.response?.status===409&&i.response.json.confirmationDialog){const a=i.response.json.confirmationDialog,l=document.querySelector(a.templateSelector),p=e.querySelector(".js-confirm-csrf-token")?.value;if(l instanceof HTMLTemplateElement&&p){const b=new ht.R(l,{confirmUrl:e.action,confirmCsrfToken:p,...a.inputs||{}}),L=await(0,Te.W)({content:b});L.addEventListener("social-confirmation-form:success",async P=>{P instanceof CustomEvent&&o&&await Ss(o,P.detail.count,s)}),L.addEventListener("social-confirmation-form:error",()=>{(0,C.v)()})}}else o&&!s&&o.classList.toggle("on"),(0,C.v)()}}),(0,q.AC)(".js-social-confirmation-form",async function(e,t){try{const n=await t.json();(0,c.f)(e,"social-confirmation-form:success",n.json)}catch{(0,c.f)(e,"social-confirmation-form:error")}});function Ts(e,t){for(const n of e.querySelectorAll(".js-social-count")){n.textContent=t;const o=n.getAttribute("data-singular-suffix"),s=n.getAttribute("data-plural-suffix"),i=t==="1"?o:s;i&&n.setAttribute("aria-label",`${t} ${i}`)}}r(Ts,"updateSocialCounts");var De=u(21461);class As extends De.a2{constructor(t,n,o,s){super(t,()=>this.getUrlFromRefreshUrl(),o,s),this.refreshUrl=n}getUrlFromRefreshUrl(){return rc(this.refreshUrl)}}r(As,"AliveSession");async function rc(e){const t=await ic(e);return t&&t.url&&t.token?ac(t.url,t.token):null}r(rc,"fetchRefreshUrl");async function ic(e){const t=await fetch(e,{headers:{Accept:"application/json"}});if(t.ok)return t.json();if(t.status===404)return null;throw new Error("fetch error")}r(ic,"fetchJSON");async function ac(e,t){const n=await fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":t}});if(n.ok)return n.text();throw new Error("fetch error")}r(ac,"post");const kt=[],cc=3e4,lc=0;let xt=document.hidden,Mt;function uc(e){return e(xt),kt.push(e),new T.w0(()=>{const t=kt.indexOf(e);t!==-1&&kt.splice(t,1)})}r(uc,"addIdleStateListener"),document.addEventListener("visibilitychange",()=>{const e=document.hidden;Mt!==void 0&&clearTimeout(Mt),Mt=setTimeout(()=>{if(e!==xt){xt=e,Mt=void 0;for(const n of kt)n(xt)}},e?cc:lc)});function dc(){return"SharedWorker"in window&&(0,ns.Z)("localStorage").getItem("bypassSharedWorker")!=="true"}r(dc,"isSharedWorkerSupported");function fc(){return document.head.querySelector("link[rel=shared-web-socket-src]")?.href??null}r(fc,"workerSrc");function mc(){return document.head.querySelector("link[rel=shared-web-socket]")?.href??null}r(mc,"socketUrl");function hc(){return document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-refresh-url")??null}r(hc,"socketRefreshUrl");function pc(){return document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-session-id")??null}r(pc,"sessionIdentifier");function gc(e){return Cs(e).map(t=>({subscriber:e,topic:t}))}r(gc,"subscriptions");function Cs(e){return(e.getAttribute("data-channel")||"").trim().split(/\s+/).map(De.Zf.parse).filter(bc)}r(Cs,"channels");function bc(e){return e!=null}r(bc,"isPresent");function ks(e,{channel:t,type:n,data:o}){for(const s of e)s.dispatchEvent(new CustomEvent(`socket:${n}`,{bubbles:!1,cancelable:!1,detail:{name:t,data:o}}))}r(ks,"notify");class xs{constructor(t,n,o,s,i){this.subscriptions=new De.vk,this.presenceMetadata=new De.ah,this.notifyPresenceDebouncedByChannel=new Map,this.notify=i,this.worker=new SharedWorker(t,`github-socket-worker-v2-${s}`),this.worker.port.onmessage=({data:a})=>this.receive(a),this.worker.port.postMessage({connect:{url:n,refreshUrl:o}})}subscribe(t){const n=this.subscriptions.add(...t);n.length&&this.worker.port.postMessage({subscribe:n});const o=new Set(n.map(i=>i.name)),s=t.reduce((i,a)=>{const l=a.topic.name;return(0,De.A)(l)&&!o.has(l)&&i.add(l),i},new Set);s.size&&this.worker.port.postMessage({requestPresence:Array.from(s)})}unsubscribeAll(...t){const n=this.subscriptions.drain(...t);n.length&&this.worker.port.postMessage({unsubscribe:n});const o=this.presenceMetadata.removeSubscribers(t);this.sendPresenceMetadataUpdate(o)}updatePresenceMetadata(t){const n=new Set;for(const o of t)this.presenceMetadata.setMetadata(o),n.add(o.channelName);this.sendPresenceMetadataUpdate(n)}sendPresenceMetadataUpdate(t){if(!t.size)return;const n=[];for(const o of t)n.push({channelName:o,metadata:this.presenceMetadata.getChannelMetadata(o)});this.worker.port.postMessage({updatePresenceMetadata:n})}online(){this.worker.port.postMessage({online:!0})}offline(){this.worker.port.postMessage({online:!1})}hangup(){this.worker.port.postMessage({hangup:!0})}receive(t){const{channel:n}=t;if(t.type==="presence"){let o=this.notifyPresenceDebouncedByChannel.get(n);o||(o=(0,H.D)((s,i)=>{this.notify(s,i),this.notifyPresenceDebouncedByChannel.delete(n)},100),this.notifyPresenceDebouncedByChannel.set(n,o)),o(this.subscriptions.subscribers(n),t);return}this.notify(this.subscriptions.subscribers(n),t)}}r(xs,"AliveSessionProxy");function yc(){const e=fc();if(!e)return;const t=mc();if(!t)return;const n=hc();if(!n)return;const o=pc();if(!o)return;const i=r(()=>{if(dc())try{return new xs(e,t,n,o,ks)}catch{}return new As(t,n,!1,ks)},"createSession")(),a=(0,A.g)(b=>i.subscribe(b.flat())),l=(0,A.g)(b=>i.unsubscribeAll(...b)),p=(0,A.g)(b=>i.updatePresenceMetadata(b));(0,d.N7)(".js-socket-channel[data-channel]",{subscribe:b=>{const L=gc(b),P=L.map(U=>U.topic.name).filter(U=>(0,De.A)(U));let B={unsubscribe(){}};if(P.length){let U,W;const ce=r(()=>{const oe=[];U&&oe.push(U),W!==void 0&&oe.push({[De.ZE]:W?1:0});for(const le of P)p({subscriber:b,channelName:le,metadata:oe})},"queueMetadataOrIdleChange");B=(0,T.qC)((0,T.RB)(b,"socket:set-presence-metadata",oe=>{const{detail:le}=oe;U=le,ce()}),uc(oe=>{!(0,qe.c)("PRESENCE_IDLE")||(W=oe,ce())}))}return a(L),B},remove:b=>l(b)}),window.addEventListener("online",()=>i.online()),window.addEventListener("offline",()=>i.offline()),window.addEventListener("pagehide",()=>{"hangup"in i&&i.hangup()})}r(yc,"connect"),(async()=>(await be.x,yc()))();const Ms=new Map;function vc(e,t){const n=[];for(const o of e){const s=Ms.get(o.name);s&&s.arrived>t&&n.push(s)}return n}r(vc,"stale");function wc(e,t){for(const n of e.querySelectorAll(".js-socket-channel[data-channel]"))for(const o of vc(Cs(n),t))n.dispatchEvent(new CustomEvent("socket:message",{bubbles:!1,cancelable:!1,detail:{name:o.name,data:o.data,cached:!0}}))}r(wc,"dispatch");function Ec(e){const{name:t,data:n,cached:o}=e.detail;if(o)return;const s={name:t,data:{...n},arrived:Date.now()};s.data.wait=0,Ms.set(t,s)}r(Ec,"store"),document.addEventListener("socket:message",Ec,{capture:!0}),document.addEventListener("pjax:popstate",function(e){const t=e.target,n=e.detail.cachedAt;n&&setTimeout(()=>wc(t,n))}),(0,d.N7)("form.js-auto-replay-enforced-sso-request",{constructor:HTMLFormElement,initialize(e){(0,S.Bt)(e)}});var _u=u(41928);function qs(e,t,n){const o=e.getBoundingClientRect().height,s=t.getBoundingClientRect(),i=n.getBoundingClientRect();let a=i.top;a+s.height+10>=o&&(a=Math.max(o-s.height-10,0));let l=i.right;n.closest(".js-build-status-to-the-left")!=null&&(l=Math.max(i.left-s.width-10,0)),t.style.top=`${a}px`,t.style.left=`${l}px`,t.style.right="auto"}r(qs,"updateStatusPosition"),(0,c.on)("toggle",".js-build-status .js-dropdown-details",function(e){const t=e.currentTarget,n=t.querySelector(".js-status-dropdown-menu");if(!n)return;function o(){t.hasAttribute("open")||i()}r(o,"closeOnToggle");function s(a){n.contains(a.target)||i()}r(s,"closeOnScroll");function i(){t.removeAttribute("open"),n.classList.add("d-none"),t.appendChild(n),t.removeEventListener("toggle",o),window.removeEventListener("scroll",s)}r(i,"closeStatusPopover"),t.addEventListener("toggle",o),n.classList.contains("js-close-menu-on-scroll")&&window.addEventListener("scroll",s,{capture:!0}),n.classList.remove("d-none"),n.querySelector(".js-details-container").classList.add("open"),n.classList.contains("js-append-menu-to-body")&&(document.body.appendChild(n),qs(document.body,n,t))},{capture:!0});async function Rs(e){const t=e.querySelector(".js-dropdown-details"),n=e.querySelector(".js-status-dropdown-menu")||e.closest(".js-status-dropdown-menu");if(!(n instanceof HTMLElement))return;const o=n.querySelector(".js-status-loader");if(!o)return;const s=n.querySelector(".js-status-loading"),i=n.querySelector(".js-status-error"),a=o.getAttribute("data-contents-url");s.classList.remove("d-none"),i.classList.add("d-none");let l;try{await(0,cn.Z)(),l=await(0,ye.a)(document,a)}catch{s.classList.add("d-none"),i.classList.remove("d-none")}l&&(o.replaceWith(l),n.querySelector(".js-details-container").classList.add("open"),t&&n.classList.contains("js-append-menu-to-body")&&qs(document.body,n,t))}r(Rs,"loadStatus"),(0,c.on)("click",".js-status-retry",({currentTarget:e})=>{Rs(e)});function Ps(e){const t=e.currentTarget;Rs(t)}r(Ps,"onMouseEnter"),(0,d.N7)(".js-build-status",{add(e){e.addEventListener("mouseenter",Ps,{once:!0})},remove(e){e.removeEventListener("mouseenter",Ps)}});var Bu=u(55898),Lc=u(82841);(0,c.on)("click","button[data-sudo-required], summary[data-sudo-required]",Is),(0,d.N7)("form[data-sudo-required]",{constructor:HTMLFormElement,subscribe:e=>(0,T.RB)(e,"submit",Is)});async function Is(e){const t=e.currentTarget;if(!(t instanceof HTMLElement))return;e.stopPropagation(),e.preventDefault(),await(0,Lc.Z)()&&(t.removeAttribute("data-sudo-required"),t instanceof HTMLFormElement?(0,S.Bt)(t):t.click())}r(Is,"checkSudo");const Ds={"actor:":"ul.js-user-suggestions","user:":"ul.js-user-suggestions","operation:":"ul.js-operation-suggestions","org:":"ul.js-org-suggestions","action:":"ul.js-action-suggestions","repo:":"ul.js-repo-suggestions","country:":"ul.js-country-suggestions"};(0,d.N7)("text-expander[data-audit-url]",{subscribe:e=>(0,T.qC)((0,T.RB)(e,"text-expander-change",Sc),(0,T.RB)(e,"text-expander-value",jc))});function jc(e){const t=e.detail;if(!Ns(t.key))return;const n=t.item.getAttribute("data-value");t.value=`${t.key}${n}`}r(jc,"onvalue");function Sc(e){const{key:t,provide:n,text:o}=e.detail;if(!Ns(t))return;const i=e.target.getAttribute("data-audit-url");n(Cc(i,t,o))}r(Sc,"onchange");function Tc(e,t){const n=t.toLowerCase(),o=r(s=>{const i=s.textContent.toLowerCase().trim(),a=(0,ve.EW)(i,n);return a>0?{score:a,text:i}:null},"key");return n?(0,Ye.W)(e,o,ve.qu):e}r(Tc,"search");const Ac=(0,Pe.Z)(e=>[...e.children],{hash:e=>e.className});async function Cc(e,t,n){const s=(await Mc(e)).querySelector(kc(t));if(!s)return{matched:!1};const i=Tc(Ac(s),n).slice(0,5),a=s.cloneNode(!1);a.innerHTML="";for(const l of i)a.append(l);return{fragment:a,matched:i.length>0}}r(Cc,"auditMenu");function Ns(e){return Object.getOwnPropertyNames(Ds).includes(e)}r(Ns,"isActivationKey");function kc(e){const t=Ds[e];if(!t)throw new Error(`Unknown audit log expander key: ${e}`);return t}r(kc,"audit_log_suggester_selector");async function xc(e){const t=await(0,ye.a)(document,e),n=document.createElement("div");return n.append(t),n}r(xc,"fetchMenu");const Mc=(0,Pe.Z)(xc);function qc(e){if(e.hasAttribute("data-use-colon-emoji"))return e.getAttribute("data-value");const t=e.firstElementChild;return t&&t.tagName==="G-EMOJI"&&!t.firstElementChild?t.textContent:e.getAttribute("data-value")}r(qc,"getValue");function Rc(e,t){const n=` ${t.toLowerCase().replace(/_/g," ")}`,o=r(s=>{const i=s.getAttribute("data-emoji-name"),a=Ic(Pc(s),n);return a>0?{score:a,text:i}:null},"key");return(0,Ye.W)(e,o,ve.qu)}r(Rc,"emoji_suggester_search");function Pc(e){return` ${e.getAttribute("data-text").trim().toLowerCase().replace(/_/g," ")}`}r(Pc,"emojiText");function Ic(e,t){const n=e.indexOf(t);return n>-1?1e3-n:0}r(Ic,"emojiScore"),(0,d.N7)("text-expander[data-emoji-url]",{subscribe:e=>(0,T.qC)((0,T.RB)(e,"text-expander-change",Nc),(0,T.RB)(e,"text-expander-value",Dc))});function Dc(e){const t=e.detail;t.key===":"&&(t.value=qc(t.item))}r(Dc,"emoji_suggester_onvalue");function Nc(e){const{key:t,provide:n,text:o}=e.detail;if(t!==":")return;const i=e.target.getAttribute("data-emoji-url");n(Hc(i,o))}r(Nc,"emoji_suggester_onchange");async function Hc(e,t){const[n,o]=await _c(e),s=Rc(o,t).slice(0,5);n.innerHTML="";for(const i of s)n.append(i);return{fragment:n,matched:s.length>0}}r(Hc,"emojiMenu");async function Oc(e){const n=(await(0,ye.a)(document,e)).firstElementChild;return[n,[...n.children]]}r(Oc,"fetchEmoji");const _c=(0,Pe.Z)(Oc);var Ne=u(38772);function Bc(e){return`${e.number} ${e.title.trim().toLowerCase()}`}r(Bc,"asText");function Fc(e,t){if(!t)return e;const n=new RegExp(`\\b${Uc(t)}`),o=/^\d+$/.test(t)?i=>$c(i,n):i=>(0,ve.EW)(i,t),s=r(i=>{const a=Bc(i),l=o(a);return l>0?{score:l,text:a}:null},"key");return(0,Ye.W)(e,s,ve.qu)}r(Fc,"issue_suggester_search");function Uc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}r(Uc,"escapeRegExp");function $c(e,t){const n=e.search(t);return n>-1?1e3-n:0}r($c,"issueNumberScore");function Wc(e,t,n){const o=r(i=>Ne.dy`
    <ul role="listbox" class="suggester-container suggester suggestions list-style-none position-absolute">
      ${i.map(s)}
    </ul>
  `,"itemsTemplate"),s=r(i=>{const a=i.type in n?(0,v.r)(document,n[i.type]):"";return Ne.dy`
      <li class="markdown-title" role="option" id="suggester-issue-${i.id}" data-value="${i.number}">
        <span class="d-inline-block mr-1">${a}</span>
        <small>#${i.number}</small> ${(0,Ne.Au)(i.title)}
      </li>
    `},"itemTemplate");(0,Ne.sY)(o(e),t)}r(Wc,"renderResults"),(0,d.N7)("text-expander[data-issue-url]",{subscribe:e=>{const t=[(0,T.RB)(e,"text-expander-change",Kc),(0,T.RB)(e,"text-expander-value",zc),(0,T.RB)(e,"keydown",Xc),(0,T.RB)(e,"click",Vc)];return(0,T.qC)(...t)}});function zc(e){const t=e.detail;if(t.key!=="#")return;const n=t.item.getAttribute("data-value");t.value=`#${n}`}r(zc,"issue_suggester_onvalue");function Kc(e){const{key:t,provide:n,text:o}=e.detail;if(t!=="#")return;if(o==="#"){In(e.target);return}const i=e.target.getAttribute("data-issue-url");n(Gc(i,o))}r(Kc,"issue_suggester_onchange");function In(e){if(!e)return;const t=e.closest("text-expander");t&&t.dismiss()}r(In,"hideSuggestions");function Vc(e){In(e.target)}r(Vc,"issue_suggester_onclick");function Xc(e){const t=["ArrowRight","ArrowLeft"],{key:n}=e;t.indexOf(n)<0||In(e.target)}r(Xc,"issue_suggester_onkeydown");async function Gc(e,t){const n=await Zc(e),o=document.createElement("div"),s=Fc(n.suggestions,t).slice(0,5);return Wc(s,o,n.icons),{fragment:o.firstElementChild,matched:s.length>0}}r(Gc,"issueMenu");const Zc=(0,Pe.Z)(async function(e){const t=await self.fetch(e,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!t.ok){const n=new Error,o=t.statusText?` ${t.statusText}`:"";throw n.message=`HTTP ${t.status}${o}`,n}return t.json()});function Jc(e){return e.description?`${e.name} ${e.description}`.trim().toLowerCase():`${e.login} ${e.name}`.trim().toLowerCase()}r(Jc,"mention_suggester_asText");function Qc(e,t){if(!t)return e;const n=el(t),o=r(s=>{const i=Jc(s),a=n(i,s.participant);return a>0?{score:a,text:i}:null},"key");return(0,Ye.W)(e,o,ve.qu)}r(Qc,"mention_suggester_search");function Yc(e,t){const n=r(s=>Ne.dy`
    <ul role="listbox" class="suggester-container suggester suggestions list-style-none position-absolute">
      ${s.map(o)}
    </ul>
  `,"itemsTemplate"),o=r(s=>{const i=s.type==="user"?s.login:s.name,a=s.type==="user"?s.name:s.description;return Ne.dy`
      <li role="option" id="suggester-${s.id}-${s.type}-${i}" data-value="${i}">
        <span>${i}</span>
        <small>${a}</small>
      </li>
    `},"itemTemplate");(0,Ne.sY)(n(e),t)}r(Yc,"mention_suggester_renderResults");function el(e){if(!e)return()=>2;const t=e.toLowerCase().split("");return(n,o)=>{if(!n)return 0;const s=tl(n,t);if(!s)return 0;const a=e.length/s[1]/(s[0]/2+1);return o?a+1:a}}r(el,"fuzzyScorer");function tl(e,t){let n,o,s,i;const a=nl(e,t[0]);if(a.length===0)return null;if(t.length===1)return[a[0],1,[]];for(i=null,o=0,s=a.length;o<s;o++){const l=a[o];if(!(n=ol(e,t,l+1)))continue;const p=n[n.length-1]-l;(!i||p<i[1])&&(i=[l,p,n])}return i}r(tl,"shortestMatch");function nl(e,t){let n=0;const o=[];for(;(n=e.indexOf(t,n))>-1;)o.push(n++);return o}r(nl,"allIndexesOf");function ol(e,t,n){let o=n;const s=[];for(let i=1;i<t.length;i+=1){if(o=e.indexOf(t[i],o),o===-1)return;s.push(o++)}return s}r(ol,"indexesOfChars"),(0,d.N7)("text-expander[data-mention-url]",{subscribe:e=>(0,T.qC)((0,T.RB)(e,"text-expander-change",rl),(0,T.RB)(e,"text-expander-value",sl))});function sl(e){const t=e.detail;if(t.key!=="@")return;const n=t.item.getAttribute("data-value");t.value=`@${n}`}r(sl,"mention_suggester_onvalue");function rl(e){const{key:t,provide:n,text:o}=e.detail;if(t!=="@"||o?.split(" ").length>1)return;const i=e.target.getAttribute("data-mention-url");n(il(i,o))}r(rl,"mention_suggester_onchange");async function il(e,t){const n=await al(e),o=document.createElement("div"),s=Qc(n,t).slice(0,5);return Yc(s,o),{fragment:o.firstElementChild,matched:s.length>0}}r(il,"mentionMenu");const al=(0,Pe.Z)(async function(e){const t=await self.fetch(e,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!t.ok){const n=new Error,o=t.statusText?` ${t.statusText}`:"";throw n.message=`HTTP ${t.status}${o}`,n}return t.json()});function cl(e,t){const n=e.closest(".js-survey-question-form"),o=n.querySelector("input.js-survey-other-text"),s=t&&!n.classList.contains("is-other-selected");n.classList.toggle("is-other-selected",s),o.hidden=!t,s?(o.required=!0,o.focus()):o.required=!1,(0,c.f)(o,"change")}r(cl,"handleOther"),(0,c.on)("change","input.js-survey-radio",function({currentTarget:e}){cl(e,e.classList.contains("js-survey-radio-other"))}),(0,c.on)("change","input.js-survey-contact-checkbox",function(e){const t=e.currentTarget,o=t.closest(".js-survey-question-form").querySelector(".js-survey-contact-checkbox-hidden");t.checked?o.setAttribute("disabled","true"):o.removeAttribute("disabled")}),(0,c.on)("details-menu-selected",".js-sync-select-menu-text",function(e){const t=document.querySelector(".js-sync-select-menu-button"),n=e.detail.relatedTarget.querySelector("span[data-menu-button-text]").textContent;t.textContent=n,t.focus()},{capture:!0}),(0,c.on)("click",'tab-container [role="tab"]',function(e){const{currentTarget:t}=e,o=t.closest("tab-container").querySelector(".js-filterable-field, [data-filter-placeholder-input]");if(o instanceof HTMLInputElement){const s=t.getAttribute("data-filter-placeholder");s&&o.setAttribute("placeholder",s),o.focus()}}),(0,c.on)("tab-container-changed","tab-container",function(e){const t=e.detail.relatedTarget,n=t.getAttribute("data-fragment-url"),o=t.querySelector("include-fragment");n&&o&&!o.hasAttribute("src")&&(o.src=n)});var Fu=u(32222),Hs=u(96776);document.addEventListener("keydown",e=>{if(e.key!=="Escape"||e.target!==document.body)return;const t=document.querySelector(".js-targetable-element:target");!t||(0,Hs.uQ)(t,()=>{window.location.hash="",(0,j.lO)(window.history.state,"",window.location.pathname+window.location.search)})}),document.addEventListener("click",e=>{const t=document.querySelector(".js-targetable-element:target");!t||e.target instanceof HTMLAnchorElement||e.target instanceof HTMLElement&&(t.contains(e.target)||(0,Hs.uQ)(t,()=>{window.location.hash="",(0,j.lO)(window.history.state,"",window.location.pathname+window.location.search)}))});var Uu=u(72669);async function ll(e){const t=e.currentTarget;if(dl(t)){t.classList.remove("tooltipped");return}const n=t.getAttribute("data-url");if(!n)return;const o=await fetch(n,{headers:{Accept:"application/json"}});if(!o.ok)return;const s=await o.json(),i=t.getAttribute("data-id"),a=document.querySelectorAll(`.js-team-mention[data-id='${i}']`);for(const l of a)l.removeAttribute("data-url");try{s.total===0?s.members.push("This team has no members"):s.total>s.members.length&&s.members.push(`${s.total-s.members.length} more`),Os(a,ul(s.members))}catch(l){const p=l.response?l.response.status:500,b=t.getAttribute(p===404?"data-permission-text":"data-error-text");Os(a,b)}}r(ll,"members");function Os(e,t){for(const n of e)n instanceof HTMLElement&&(n.setAttribute("aria-label",t),n.classList.add("tooltipped","tooltipped-s","tooltipped-multiline"))}r(Os,"tip");function ul(e){if("ListFormat"in Intl)return new Intl.ListFormat().format(e);if(e.length===0)return"";if(e.length===1)return e[0];if(e.length===2)return e.join(" and ");{const t=e[e.length-1];return e.slice(0,-1).concat(`and ${t}`).join(", ")}}r(ul,"sentence");function dl(e){return!!e.getAttribute("data-hovercard-url")&&!!e.closest("[data-team-hovercards-enabled]")}r(dl,"teamHovercardEnabled"),(0,d.N7)(".js-team-mention",function(e){e.addEventListener("mouseenter",ll)});function fl(){const e=document.querySelector(".js-timeline-marker");return e!=null?e.getAttribute("data-last-modified"):null}r(fl,"getTimelineLastModified");function _s(e){if(hl(e)||ml(e))return;const t=fl();t&&e.headers.set("X-Timeline-Last-Modified",t)}r(_s,"addTimelineLastModifiedHeader");function ml(e){return e.headers.get("X-PJAX")==="true"}r(ml,"isPjax");function hl(e){let t;try{t=new URL(e.url)}catch{return!0}return t.host!==window.location.host}r(hl,"isCrossDomain"),(0,q.AC)(".js-needs-timeline-marker-header",function(e,t,n){_s(n)}),(0,c.on)("deprecatedAjaxSend","[data-remote]",function(e){const{request:t}=e.detail;_s(t)});const Bs=5e3,pl=".js-comment-body img",gl=".js-comment-body video";(0,tn.Z)(function(){qt()}),(0,d.N7)(".js-timeline-progressive-focus-container",function(e){const t=Rt();if(!t||document.querySelector(".js-pull-discussion-timeline"))return;const o=document.getElementById(t);o&&e.contains(o)&&Dn(o)});function qt(e=!0){const t=Rt();if(!t)return;const n=document.getElementById(t);if(n)Dn(n);else{if(bl(t))return;const o=document.querySelector("#js-timeline-progressive-loader");o&&e&&$s(t,o)}}r(qt,"focusOrLoadElement");function bl(e){return yl(e)||Fs(e,".js-thread-hidden-comment-ids")||Fs(e,".js-review-hidden-comment-ids")}r(bl,"loadComments");function yl(e){const t=Us(e,".js-comment-container");return t?((0,nn.$)(t),!0):!1}r(yl,"loadResolvedComments");function Fs(e,t){const n=Us(e,t);return n?(n.addEventListener("page:loaded",function(){qt()}),n.querySelector("button[type=submit]").click(),!0):!1}r(Fs,"loadHiddenComments");function Us(e,t){const n=document.querySelectorAll(t);for(const o of n){const s=o.getAttribute("data-hidden-comment-ids");if(s){const i=s.split(","),a=e.match(/\d+/g)?.[0];if(a&&i.includes(a))return o}}return null}r(Us,"findCommentContainer"),(0,d.N7)(".js-inline-comments-container",function(e){const t=Rt();if(!t)return;const n=document.getElementById(t);n&&e.contains(n)&&Dn(n)}),(0,d.N7)("#js-discussions-timeline-anchor-loader",{constructor:HTMLElement,add:e=>{if(document.querySelector("#js-timeline-progressive-loader"))return;const n=Rt();if(!n)return;document.getElementById(n)||$s(n,e)}});async function vl(){const e=document.querySelectorAll(gl),t=Array.from(e).map(n=>new Promise(o=>{if(n.readyState>=n.HAVE_METADATA)o(n);else{const s=setTimeout(()=>o(n),Bs),i=r(()=>{clearTimeout(s),o(n)},"done");n.addEventListener("loadeddata",()=>{n.readyState>=n.HAVE_METADATA&&i()}),n.addEventListener("error",()=>i())}}));return Promise.all(t)}r(vl,"videosReady");async function wl(){const e=document.querySelectorAll(pl),t=Array.from(e).map(n=>{new Promise(o=>{if(n.complete)o(n);else{const s=setTimeout(()=>o(n),Bs),i=r(()=>{clearTimeout(s),o(n)},"done");n.addEventListener("load",()=>i()),n.addEventListener("error",()=>i())}})});return Promise.all(t)}r(wl,"imagesReady");async function El(){return Promise.all([vl(),wl()])}r(El,"mediaLoaded");async function Dn(e){await El(),Ll(e);const t=e.querySelector(`[href='#${e.id}']`);if(t){const n=t.getAttribute("data-turbo");t.setAttribute("data-turbo","false"),t.click(),n===null?t.removeAttribute("data-turbo"):t.setAttribute("data-turbo",n)}}r(Dn,"focusElement");async function $s(e,t){if(!t)return;const n=t.getAttribute("data-timeline-item-src");if(!n)return;const o=new URL(n,window.location.origin),s=new URLSearchParams(o.search.slice(1));s.append("anchor",e),o.search=s.toString();let i;try{i=await(0,ye.a)(document,o.toString())}catch{return}const a=i.querySelector(".js-timeline-item");if(!a)return;const l=a.getAttribute("data-gid");if(!l)return;const p=document.querySelector(`.js-timeline-item[data-gid='${l}']`);if(p)p.replaceWith(a),qt(!1);else{const b=document.getElementById("js-progressive-timeline-item-container");b&&b.replaceWith(i),qt(!1)}}r($s,"loadElement");function Ll(e){const t=e.closest("details, .js-details-container");!t||(t.nodeName==="DETAILS"?t.setAttribute("open","open"):(0,en.jo)(t)||(0,en.Qp)(t))}r(Ll,"expandDetailsIfPresent");function Rt(){return window.location.hash.slice(1)}r(Rt,"urlAnchor"),(0,d.N7)(".js-discussion",jl);function jl(){let e=new WeakSet;t(),document.addEventListener("pjax:end",t),document.addEventListener("turbo:load",t),(0,d.N7)(".js-timeline-item",n=>{n instanceof HTMLElement&&(e.has(n)||(0,f.N)(n))});function t(){e=new WeakSet(document.querySelectorAll(".js-timeline-item"))}r(t,"setExistingTimelineItems")}r(jl,"announceTimelineEvents");var nt=u(82131);function Ke(e){const{name:t,value:n,soft:o}=e,s={name:window.location.href};switch(t){case"CLS":s.cls=n;break;case"FCP":s.fcp=n;break;case"FID":s.fid=n;break;case"LCP":s.lcp=n;break;case"TTFB":s.ttfb=n;break;case"HPC":s.hpc=n,o&&(s.soft=!0);break}(0,y.b)({webVitalTimings:[s]}),Sl(t,n)}r(Ke,"sendVitals");function Sl(e,t){const o=document.querySelector("#staff-bar-web-vitals")?.querySelector(`[data-metric=${e.toLowerCase()}]`);!o||(o.textContent=t.toPrecision(6))}r(Sl,"updateStaffBar");function Ws(){return!!(window.performance&&window.performance.timing&&window.performance.getEntriesByType)}r(Ws,"isTimingSuppported");async function Tl(){if(!Ws())return;await be.C,await new Promise(n=>setTimeout(n));const e=window.performance.getEntriesByType("resource");e.length&&(0,y.b)({resourceTimings:e});const t=window.performance.getEntriesByType("navigation");t.length&&(0,y.b)({navigationTimings:t})}r(Tl,"sendTimingResults");let zs=0,Nn=!1,Ks=!1;new MutationObserver(()=>{requestAnimationFrame(()=>{!Ws()||Nn||(Ke({name:"HPC",value:performance.now()-zs,soft:Ks}),Nn=!0)})}).observe(document.body,{childList:!0,subtree:!0,attributeFilter:["data-hpc"]});function Al(){zs=performance.now(),Nn=!1,Ks=!0}r(Al,"resetHPC"),document.addEventListener(J.QE.START,Al),Tl(),(0,nt.kz)(Ke),(0,nt.Y)(Ke),(0,nt.Tx)(Ke),(0,nt.Tb)(Ke),(0,nt.CA)(Ke),(0,c.on)("click",".js-toggler-container .js-toggler-target",function(e){if(e.button!==0)return;const t=e.currentTarget.closest(".js-toggler-container");t&&t.classList.toggle("on")}),(0,q.AC)(".js-toggler-container",async(e,t)=>{e.classList.remove("success","error"),e.classList.add("loading");try{await t.text(),e.classList.add("success")}catch{e.classList.add("error")}finally{e.classList.remove("loading")}}),async function(){if("serviceWorker"in navigator){await be.x;const e=document.querySelector('link[rel="service-worker-src"]')?.href;e?navigator.serviceWorker.register(e,{scope:"/"}):await Cl()}}();async function Cl(){let e=[];try{e=await navigator.serviceWorker.getRegistrations()}catch(t){if(t.name==="SecurityError")return}for(const t of e)t.unregister()}r(Cl,"unregisterAllServiceWorkers");var Pt=u(74395);Pt.session.isVisitable=()=>(0,X.xc)();const kl=Object.getOwnPropertyDescriptor(Pt.PageRenderer.prototype,"reloadReason").get;Object.defineProperty(Pt.PageRenderer.prototype,"reloadReason",{get(){const e=kl.call(this);if(e.reason!=="tracked_element_mismatch")return e;const t=Object.fromEntries(Vs(this.currentHeadSnapshot)),n=[];for(const[o,s]of Vs(this.newHeadSnapshot))t[o]!==s&&n.push((0,X.T2)(o));return{reason:`tracked_element_mismatch-${n.join("-")}`}}});function*Vs(e){for(const t of Object.values(e.detailsByOuterHTML))if(t.tracked)for(const n of t.elements)n instanceof HTMLMetaElement&&n.getAttribute("http-equiv")&&(yield[n.getAttribute("http-equiv")||"",n.getAttribute("content")||""])}r(Vs,"getSnapshotSignatures");const Xs=r(e=>{const t=history[e];history[e]=function(n,o,s){function i(a,l,p){t.call(this,{...n,...a},l,p)}r(i,"oldHistoryWithMergedState"),Pt.navigator.history.update(i,new URL(s||location.href,location.href),n?.turbo?.restorationIdentifier)}},"patchHistoryApi");Xs("replaceState"),Xs("pushState"),document.addEventListener("turbo:click",function(e){if(!(e.target instanceof HTMLElement))return;const t=e.target.closest("[data-turbo-frame]");if(t instanceof HTMLElement&&e.target.setAttribute("data-turbo-frame",t.getAttribute("data-turbo-frame")||""),!(e instanceof CustomEvent))return;(0,X.Si)(location.href,e.detail.url)&&e.preventDefault();const n=e.target.closest("#js-repo-pjax-container"),o=new URL(e.detail.url,window.location.origin);n&&t&&!(0,X.AU)(o.pathname,location.pathname)&&((0,X.uL)("repo_mismatch"),e.target.removeAttribute("data-turbo-frame"),e.preventDefault())}),document.addEventListener("turbo:before-visit",function(e){const t=window.onbeforeunload?.(e);t&&(confirm(t)?window.onbeforeunload=null:e.preventDefault())}),document.addEventListener("turbo:before-fetch-request",e=>{const t=e.target;if((0,X.HN)(t)&&(0,X.aN)(),t?.tagName==="HTML"){const o=e;o.detail.fetchOptions.headers["Turbo-Visit"]="true"}const n=bs(e.detail.url.pathname);if(n){const o=new URLSearchParams(e.detail.url.search);for(const[s,i]of Object.entries(n))i&&o.set(s,i);e.detail.url.search=o.toString()}});const xl=document.createElement("turbo-frame"),Gs=Object.getPrototypeOf(xl.delegate),Ml=Gs.requestErrored;Gs.requestErrored=function(e,t){return this.element.dispatchEvent(new CustomEvent("turbo:fetch-error",{bubbles:!0,detail:{request:e,error:t}})),Ml.apply(this,e,t)},document.addEventListener("turbo:fetch-error",e=>{if(e.target instanceof HTMLFormElement)return;const t=e.detail.request;window.location=t.location,e.preventDefault()}),document.addEventListener("turbo:before-fetch-response",e=>{const t=e.detail.fetchResponse;t.statusCode===404&&((0,X.uL)("404"),window.location=t.location,e.preventDefault())}),document.addEventListener("turbo:frame-render",e=>{(0,X.HN)(e.target)&&(0,X.F2)()}),document.addEventListener("turbo:before-render",async e=>{if(!(e instanceof CustomEvent))return;e.preventDefault(),await(0,X.q3)(),e.detail.resume();const t=e.detail.newBody.ownerDocument.documentElement,n=document.documentElement;for(const o of n.attributes)!t.hasAttribute(o.nodeName)&&o.nodeName!=="aria-busy"&&n.removeAttribute(o.nodeName);for(const o of t.attributes)n.getAttribute(o.nodeName)!==o.nodeValue&&n.setAttribute(o.nodeName,o.nodeValue)});const ot=new Map;(async()=>(await be.x,ot.set(document.location.href,(0,X.ag)(document))))();let Hn=!1,st;document.addEventListener("turbo:before-fetch-response",e=>{st=e.detail.fetchResponse}),document.addEventListener("turbo:before-frame-render",async e=>{if(e.preventDefault(),Hn=!0,!st)return;const t=await st.responseHTML,n=st.location;st=null;const{resume:o}=e.detail,s=new DOMParser().parseFromString(t,"text/html"),i=e.target,l=[...s.querySelectorAll("turbo-frame")].find(b=>b.id===i?.id),p=(0,X.po)(s);if(!l||p.length>0){(0,X.uL)(`tracked_element_mismatch-${p.join("-")}`),window.location=n;return}(0,X.DT)(s),(0,X.xk)(s),(0,X.wz)(s),Dl(i,l),ot.set(n.href,(0,X.ag)(s)),await(0,X.q3)(),o(),ql(s)}),document.addEventListener(J.QE.SUCCESS,()=>{Rl(),Hn&&(Hn=!1,Pl(),Il(),(0,J.u5)())});const ql=r(e=>{const t=e.querySelector("meta[name=turbo-body-classes]")?.content;!t||document.body.setAttribute("class",t)},"replaceBodyClassesFromRequest"),Rl=r(()=>{const e=ot.get(document.location.href)?.bodyClasses;!e||document.body.setAttribute("class",e)},"replaceBodyClassesFromCachedNodes"),Pl=r(()=>{const e=ot.get(document.location.href)?.title;e&&(document.title=e)},"replaceTitle"),Il=r(()=>{const e=ot.get(document.location.href)?.transients;if(!!e){for(const t of document.querySelectorAll("head [data-pjax-transient]"))t.remove();for(const t of e)t.matches("title, script, link[rel=stylesheet]")||(t.setAttribute("data-pjax-transient",""),document.head.append(t))}},"replaceTransientTags"),Dl=r((e,t)=>{!e||(e.className=t.className)},"replaceFrameClasses");document.addEventListener("turbo:click",()=>{(0,J.LD)("turbo")}),document.addEventListener("turbo:visit",()=>{(0,J.LD)("bfcache")}),document.addEventListener("turbo:frame-load",()=>{(0,ke.U6)("turbo.frame"),(0,J.TL)()}),document.addEventListener("turbo:load",e=>{const t=Object.keys(e.detail.timing).length===0;(0,ke.sj)()&&!t&&!(0,ke.OE)()?(0,J.BT)(["turbo","turbo.frame","bfcache"]):(0,ke.OE)()||(0,ke.sj)()?(0,ke.Nb)()||(0,J.r_)():(0,J.Yl)()}),document.addEventListener("beforeunload",()=>(0,J.FP)()),document.addEventListener("turbo:reload",function(e){e instanceof CustomEvent&&(0,ke.Ak)(e.detail.reason)}),document.addEventListener(J.QE.SUCCESS,()=>{if(location.hash==="")return;const e=document.createElement("a");e.href=`#${location.hash.slice(1)}`,e.click()}),document.addEventListener(J.QE.PROGRESS_BAR.START,X.aN),document.addEventListener(J.QE.PROGRESS_BAR.END,X.F2);function Nl(){if("Intl"in window)try{return new window.Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}}r(Nl,"timezone"),window.requestIdleCallback(()=>{const e=Nl();e&&(0,Je.d8)("tz",encodeURIComponent(e))});var N=u(35803),On=u(8433),Hl=Object.defineProperty,Ol=Object.getOwnPropertyDescriptor,ne=r((e,t,n,o)=>{for(var s=o>1?void 0:o?Ol(t,n):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(o?a(t,n,s):a(s))||s);return o&&s&&Hl(t,n,s),s},"__decorateClass"),Zs=(e=>(e.Initializing="initializing",e.Unsupported="unsupported",e.Ready="ready",e.Waiting="waiting",e.Error="error",e.Submitting="submitting",e))(Zs||{});let he=r(class extends HTMLElement{constructor(){super(...arguments),this.state="initializing",this.dataJson="",this.autofocusWhenReady=!1,this.autoPrompt=!1,this.hasErrored=!1}connectedCallback(){this.originalButtonText=this.button.textContent,this.setState((0,On.Zh)()?"ready":"unsupported"),this.autoPrompt&&this.prompt(void 0,!0)}setState(e){this.button.textContent=this.hasErrored?this.button.getAttribute("data-retry-message"):this.originalButtonText,this.button.disabled=!1,this.button.hidden=!1;for(const t of this.messages)t.hidden=!0;switch(e){case"initializing":this.button.disabled=!0;break;case"unsupported":this.button.disabled=!0,this.unsupportedMessage.hidden=!1;break;case"ready":this.autofocusWhenReady&&this.button.focus();break;case"waiting":this.waitingMessage.hidden=!1,this.button.hidden=!0;break;case"error":this.errorMessage.hidden=!1;break;case"submitting":this.button.textContent="Verifying\u2026",this.button.disabled=!0;break;default:throw new Error("invalid state")}this.state=e}async prompt(e,t){e?.preventDefault(),this.dispatchEvent(new CustomEvent("webauthn-get-prompt"));try{t||this.setState("waiting");const n=JSON.parse(this.dataJson),o=await(0,On.U2)((0,On.wz)(n));this.setState("submitting");const s=this.closest(".js-webauthn-form"),i=s.querySelector(".js-webauthn-response");i.value=JSON.stringify(o),(0,S.Bt)(s)}catch(n){if(!t)throw this.hasErrored=!0,this.setState("error"),n}}},"WebauthnGetElement");he.attrPrefix="",ne([N.fA],he.prototype,"button",2),ne([N.GO],he.prototype,"messages",2),ne([N.fA],he.prototype,"unsupportedMessage",2),ne([N.fA],he.prototype,"waitingMessage",2),ne([N.fA],he.prototype,"errorMessage",2),ne([N.Lj],he.prototype,"dataJson",2),ne([N.Lj],he.prototype,"autofocusWhenReady",2),ne([N.Lj],he.prototype,"autoPrompt",2),he=ne([N.Ih],he);var _l=(e=>(e.Initializing="initializing",e.ShowingForm="showing-form",e.ShowingRevealer="showing-revealer",e))(_l||{});let Ve=r(class extends HTMLElement{constructor(){super(...arguments),this.state="showing-form"}connectedCallback(){this.setState(this.state)}setState(e){switch(this.revealer.hidden=!0,this.form.hidden=!1,e){case"initializing":break;case"showing-form":this.dispatchEvent(new CustomEvent("sudo-password-showing-form"));break;case"showing-revealer":this.revealer.hidden=!1,this.form.hidden=!0;break;default:throw new Error("invalid state")}this.state=e}reveal(){this.setState("showing-form")}},"SudoPasswordElement");ne([N.Lj],Ve.prototype,"state",2),ne([N.fA],Ve.prototype,"revealer",2),ne([N.fA],Ve.prototype,"form",2),ne([N.fA],Ve.prototype,"passwordField",2),Ve=ne([N.Ih],Ve);let It=r(class extends HTMLElement{connectedCallback(){this.webauthnGet?.addEventListener("webauthn-get-prompt",()=>{this.sudoPassword.setState("showing-revealer")}),this.sudoPassword.addEventListener("sudo-password-showing-form",()=>{this.webauthnGet?.setState("ready"),this.sudoPassword.passwordField.focus()})}},"SudoAuthElement");ne([N.fA],It.prototype,"webauthnGet",2),ne([N.fA],It.prototype,"sudoPassword",2),It=ne([N.Ih],It);var _n=u(93097),Bl=Object.defineProperty,Fl=Object.getOwnPropertyDescriptor,Q=r((e,t,n,o)=>{for(var s=o>1?void 0:o?Fl(t,n):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(o?a(t,n,s):a(s))||s);return o&&s&&Bl(t,n,s),s},"sudo_credential_options_decorateClass"),Ul=(e=>(e.WebAuthn="webauthn",e.Password="password",e.GitHubMobile="github-mobile",e))(Ul||{});let Z=r(class extends HTMLElement{connectedCallback(){const e=this.getInitialState();this.setState(e,!0)}getInitialState(){return this.activeCredentialOption?this.activeCredentialOption:this.getDefaultState()}getDefaultState(){return this.isWebAuthnAvailable()?"webauthn":this.isGitHubMobileAvailable()?"github-mobile":"password"}setState(e,t=!1){this.flashErrorMessageText.textContent="",this.flashErrorMessageContainer.hidden=!0,this.currentState=e,this.toggleWebAuthnVisibilityByState(e),this.toggleGitHubMobileVisibilityByState(e,t),this.togglePasswordVisibilityByState(e),this.navContainer.hidden=!this.hasMultipleOptions()}toggleWebAuthnVisibilityByState(e){if(this.webauthnContainer){const t=e==="webauthn";this.webauthnContainer.hidden=!this.webauthnAvailable||!t,this.webauthnNav.hidden=!this.webauthnAvailable||t,e==="webauthn"&&this.webauthnGet?.setState(Zs.Ready)}}toggleGitHubMobileVisibilityByState(e,t=!1){if(this.githubMobileContainer){const n=e==="github-mobile";this.githubMobileContainer.hidden=!this.githubMobileAvailable||!n,this.githubMobileNav.hidden=!this.githubMobileAvailable||n,this.githubMobileContainer.hidden||((0,_n._8)(),this.initiateGitHubMobileAuthRequest(t))}}togglePasswordVisibilityByState(e){const t=e==="password";this.passwordContainer.hidden=!t,this.passwordNav.hidden=t,e==="password"&&(this.loginField?this.loginField.focus():this.passwordField.focus())}hasMultipleOptions(){return this.isWebAuthnAvailable()||this.isGitHubMobileAvailable()}isWebAuthnAvailable(){return this.webauthnAvailable==="true"}isGitHubMobileAvailable(){return this.githubMobileAvailable==="true"}showWebauthn(){this.setState("webauthn")}showGitHubMobile(){this.setState("github-mobile")}showPassword(){this.setState("password")}githubMobileRetry(e){e.preventDefault(),this.showGitHubMobile()}async initiateGitHubMobileAuthRequest(e=!1){const t=this.githubMobilePromptUrl,n=document.getElementById("sudo-credential-options-csrf").value,o=new FormData;o.append("authenticity_token",n);const s=await fetch(t,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:o});if(!s.ok){this.showPassword(),e||(this.flashErrorMessageText.textContent=this.githubMobileErrorMessage,this.flashErrorMessageContainer.hidden=!1);return}const i=await s.json(),a=!!i.challenge;this.githubMobileNoChallengeMessage.hidden=a,this.githubMobileChallengeMessage.hidden=!a,this.githubMobileChallengeValue.hidden=!a,a&&(this.githubMobileChallengeValue.textContent=i.challenge);const l=document.getElementsByClassName("js-poll-github-mobile-sudo-authenticate")[0];(0,_n.Hu)(l,()=>this.mobileApprovedHandler(),p=>this.mobileFailHandler(p),()=>this.mobileCancelCheck())}mobileApprovedHandler(){const e=this.githubMobileContainer.getElementsByTagName("form")[0];(0,S.Bt)(e)}mobileFailHandler(e){this.flashErrorMessageText.textContent=e,this.flashErrorMessageContainer.hidden=!1,(0,_n.cj)()}mobileCancelCheck(){return this.currentState!=="github-mobile"}},"SudoCredentialOptionsElement");Q([N.Lj],Z.prototype,"webauthnAvailable",2),Q([N.Lj],Z.prototype,"githubMobileAvailable",2),Q([N.Lj],Z.prototype,"githubMobilePromptUrl",2),Q([N.Lj],Z.prototype,"activeCredentialOption",2),Q([N.Lj],Z.prototype,"githubMobileErrorMessage",2),Q([N.fA],Z.prototype,"flashErrorMessageContainer",2),Q([N.fA],Z.prototype,"flashErrorMessageText",2),Q([N.fA],Z.prototype,"webauthnContainer",2),Q([N.fA],Z.prototype,"githubMobileContainer",2),Q([N.fA],Z.prototype,"passwordContainer",2),Q([N.fA],Z.prototype,"githubMobileNoChallengeMessage",2),Q([N.fA],Z.prototype,"githubMobileChallengeMessage",2),Q([N.fA],Z.prototype,"githubMobileChallengeValue",2),Q([N.fA],Z.prototype,"webauthnNav",2),Q([N.fA],Z.prototype,"githubMobileNav",2),Q([N.fA],Z.prototype,"passwordNav",2),Q([N.fA],Z.prototype,"navContainer",2),Q([N.fA],Z.prototype,"webauthnGet",2),Q([N.fA],Z.prototype,"loginField",2),Q([N.fA],Z.prototype,"passwordField",2),Z=Q([N.Ih],Z);let Bn=0;function $l(){if(!document.hasFocus())return;const e=document.querySelector(".js-timeline-marker-form");e&&e instanceof HTMLFormElement&&(0,S.Bt)(e)}r($l,"markThreadAsRead");const Dt="IntersectionObserver"in window?new IntersectionObserver(function(e){for(const t of e)t.isIntersecting&&Js(t.target)},{root:null,rootMargin:"0px",threshold:1}):null;(0,d.N7)(".js-unread-item",{constructor:HTMLElement,add(e){Bn++,Dt&&Dt.observe(e)},remove(e){Bn--,Dt&&Dt.unobserve(e),Bn===0&&$l()}});function Js(e){e.classList.remove("js-unread-item","unread-item")}r(Js,"clearUnread"),(0,d.N7)(".js-discussion[data-channel-target]",{subscribe:e=>(0,T.RB)(e,"socket:message",function(t){const n=t.target,o=t.detail.data;if(n.getAttribute("data-channel-target")===o.gid)for(const s of document.querySelectorAll(".js-unread-item"))Js(s)})});let Nt=0;const Qs=/^\(\d+\)\s+/;function Ys(){const e=Nt?`(${Nt}) `:"";document.title.match(Qs)?document.title=document.title.replace(Qs,e):document.title=`${e}${document.title}`}r(Ys,"updateTitle"),(0,d.N7)(".js-unread-item",{add(){Nt++,Ys()},remove(){Nt--,Ys()}}),(0,d.N7)(".js-socket-channel.js-updatable-content",{subscribe:e=>(0,T.RB)(e,"socket:message",function(t){const{gid:n,wait:o}=t.detail.data,s=t.target,i=n?Wl(s,n):s;i&&setTimeout(Re.x0,o||0,i)})});function Wl(e,t){if(e.getAttribute("data-gid")===t)return e;for(const n of e.querySelectorAll("[data-url][data-gid]"))if(n.getAttribute("data-gid")===t)return n;return null}r(Wl,"findByGid");async function zl(){if(!(!history.state||!history.state.staleRecords)){await be.x;for(const e in history.state.staleRecords)for(const t of document.querySelectorAll(`.js-updatable-content [data-url='${e}'], .js-updatable-content[data-url='${e}']`)){const n=history.state.staleRecords[e];t instanceof HTMLElement&&(0,Re.Of)(t,n,!0)}(0,j.lO)(null,"",location.href)}}r(zl,"reapplyPreviouslyUpdatedContent"),window.addEventListener("pagehide",Re.z8);try{zl()}catch{}(0,c.on)("upload:setup",".js-upload-avatar-image",function(e){const{form:t}=e.detail,n=e.currentTarget.getAttribute("data-alambic-organization"),o=e.currentTarget.getAttribute("data-alambic-owner-type"),s=e.currentTarget.getAttribute("data-alambic-owner-id");n&&t.append("organization_id",n),o&&t.append("owner_type",o),s&&t.append("owner_id",s)}),(0,c.on)("upload:complete",".js-upload-avatar-image",function(e){const{attachment:t}=e.detail,n=`/settings/avatars/${t.id}`;(0,Te.W)({content:(0,ye.a)(document,n),detailsClass:"upload-avatar-details"})}),(0,c.on)("dialog:remove",".upload-avatar-details",async function(e){const o=`/settings/avatars/${e.currentTarget.querySelector("#avatar-crop-form").getAttribute("data-alambic-avatar-id")}?op=destroy`,s=e.currentTarget.querySelector(".js-avatar-post-csrf").getAttribute("value"),i=new Request(o,{method:"POST",headers:{"Scoped-CSRF-Token":s,"X-Requested-With":"XMLHttpRequest"}});await self.fetch(i)});function Ht(){if(document.querySelector(":target"))return;const e=(0,Pn.$z)(location.hash).toLowerCase(),t=(0,Pn.Q)(document,`user-content-${e}`);t&&(0,un.zT)(t)}r(Ht,"hashchange"),window.addEventListener("hashchange",Ht),document.addEventListener("pjax:success",Ht),async function(){await be.x,Ht()}(),(0,c.on)("click","a[href]",function(e){const{currentTarget:t}=e;t instanceof HTMLAnchorElement&&t.href===location.href&&location.hash.length>1&&setTimeout(function(){e.defaultPrevented||Ht()})});var Wu=u(95128);async function Kl(e){const t=e.currentTarget,{init:n}=await u.e("app_assets_modules_github_user-status-submit_ts").then(u.bind(u,35145));n(t)}r(Kl,"user_status_loader_load"),(0,d.N7)(".js-user-status-container",{subscribe:e=>(0,T.RB)(e,"click",Kl,{once:!0})});var Ot=u(55741);function Vl(e,t){const n=e.querySelector(".js-user-list-base");n&&(n.textContent=t||n.getAttribute("data-generic-message"),n.hidden=!1)}r(Vl,"setFlashError");function er(e,t){const o=(t||e).querySelectorAll(".js-user-list-error");for(const a of o)a.hidden=!0;const s=t?[t]:e.querySelectorAll(".errored.js-user-list-input-container");for(const a of s)a.classList.remove("errored");const i=e.querySelector(".js-user-list-base");i&&(i.hidden=!0)}r(er,"resetValidation"),(0,q.AC)(".js-user-list-form",async function(e,t){er(e);const n=e.querySelector("[data-submitting-message]"),o=n?.textContent;n&&(n.textContent=n.getAttribute("data-submitting-message"),n.disabled=!0);for(const s of e.querySelectorAll(".js-user-list-input"))s.disabled=!0;try{const s=await t.html();(0,c.f)(e,"user-list-form:success",s.html)}catch(s){if(s.response?.status===422)e.replaceWith(s.response.html);else{Vl(e),n&&(o&&(n.textContent=o),n.disabled=!1);for(const i of e.querySelectorAll(".js-user-list-input"))i.disabled=!1}}}),(0,c.on)("user-list-form:success",".js-follow-list",e=>{const t=e.detail,n=t instanceof DocumentFragment?t.querySelector(".js-target-url"):null;n?.textContent?location.href=n.textContent:location.reload()});function tr(e){if(!(e.currentTarget instanceof HTMLElement))return;const t=e.currentTarget.closest(".js-user-list-form"),n=e.currentTarget.closest(".js-user-list-input-container");t&&n&&er(t,n)}r(tr,"clearErrorsFromInput"),(0,x.q6)(".js-user-list-form input",tr),(0,x.q6)(".js-user-list-form textarea",tr),(0,c.on)("auto-check-error",".js-user-list-form input",function(e){const n=e.currentTarget.closest(".js-user-list-input-container")?.querySelector(".js-user-list-error");n&&(n.hidden=!1)});function Xl(e){const t=new Map;for(const n of e){const o=n.querySelector(".js-user-lists-create-trigger")?.getAttribute("data-repository-id");if(o){const s=t.get(o);s?s.push(n):t.set(o,[n])}}return t}r(Xl,"groupRootsByRepositoryId");async function Gl(e,t,n){const o=new FormData;o.set("authenticity_token",t);for(const a of n)o.append("repository_ids[]",a);const s=await fetch(e,{method:"POST",body:o,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),i=new Map;if(s.ok){const a=await s.json();for(const l in a)i.set(l,(0,v.r)(document,a[l]))}return i}r(Gl,"requestMenuBatchRender");function Zl(e,t){for(const[n,o]of e.entries()){const s=t.get(n)||[];for(const i of s)i.replaceWith(s.length===1?o:o.cloneNode(!0))}}r(Zl,"replaceUserListMenuRoots");async function nr(){const e=document.querySelectorAll(".js-user-list-menu-content-root");if(e.length===0)return;const t=e[0].getAttribute("data-batch-update-url");if(!t)return;const n=e[0].querySelector(".js-user-list-batch-update-csrf")?.value;if(!n)return;const o=Xl(e),s=o.keys(),i=await Gl(t,n,s);i.size>0&&Zl(i,o)}r(nr,"updateAllUserListMenus");function Jl(e){const t=new Promise((n,o)=>{e.addEventListener("user-list-menu-form:success",()=>n()),e.addEventListener("user-list-menu-form:error",s=>o(s))});return(0,S.Bt)(e),t}r(Jl,"requestUserListMenuFormSubmit");function Ql(e){const t=e.target;if(!(t instanceof HTMLDetailsElement)||t.hasAttribute("open"))return;const n=t.querySelector(".js-user-list-menu-form");n&&(0,Ot.T)(n)&&(0,S.Bt)(n);const o=t.querySelector(".js-user-list-create-trigger-text");o&&(o.textContent="")}r(Ql,"submitUserListFormOnToggle"),(0,c.on)("toggle",".js-user-list-menu",Ql,{capture:!0}),(0,x.q6)(".js-user-lists-menu-filter",e=>{const t=e.currentTarget,n=t.value.trim(),s=t.closest(".js-user-list-menu-content-root")?.querySelector(".js-user-list-create-trigger-text");!s||(s.textContent=n?`"${n}"`:"")}),(0,q.AC)(".js-user-list-menu-form",async function(e,t){let n;try{n=await t.json()}catch(s){(0,C.v)(),(0,c.f)(e,"user-list-menu-form:error",s);return}if(n.json.didStar){const s=e.closest(".js-toggler-container");s&&s.classList.add("on");const i=n.json.starCount;if(i){const a=e.closest(".js-social-container");a&&Ts(a,i)}}const o=e.closest(".js-user-list-menu-content-root[data-update-after-submit]");if(o)for(const s of e.querySelectorAll(".js-user-list-menu-item"))s.checked=s.defaultChecked;n.json.didCreate?await nr():o&&await(0,Re.x0)(o),(0,c.f)(e,"user-list-menu-form:success")}),(0,c.on)("click",".js-user-list-delete-confirmation-trigger",e=>{const{currentTarget:t}=e,n=t.getAttribute("data-template-id");if(!n)return;const o=document.getElementById(n);if(!o||!(o instanceof HTMLTemplateElement))return;const s=t.closest(".js-edit-user-list-dialog");s&&(s.open=!1);const i=o.content.cloneNode(!0),a=o.getAttribute("data-labelledby");(0,Te.W)({content:i,labelledBy:a})}),(0,c.on)("click",".js-user-lists-create-trigger",async function(e){const{currentTarget:t}=e,n=document.querySelector(".js-user-list-create-dialog-template"),o=e.currentTarget.getAttribute("data-repository-id"),s=t.closest(".js-user-list-menu-content-root"),a=s?.querySelector(".js-user-lists-menu-filter")?.value.trim();if(!n||!(n instanceof HTMLTemplateElement)||!o){t instanceof HTMLButtonElement&&(t.disabled=!0);return}const l=n.getAttribute("data-label");if(s&&(0,Ot.T)(s)){const L=s.querySelector(".js-user-list-menu-form");L&&await Jl(L)}const p=new ht.R(n,{repositoryId:o,placeholderName:a}),b=await(0,Te.W)({content:p,label:l});b.addEventListener("user-list-form:success",async()=>{await nr();const L=b.closest("details");L&&(L.open=!1)})}),(0,d.N7)("[data-warn-unsaved-changes]",{add(e){e.addEventListener("input",_t),e.addEventListener("change",_t),e.addEventListener("submit",rt);const t=e.closest("details-dialog");t&&(t.closest("details").addEventListener("toggle",or),t.addEventListener("details-dialog-close",sr))},remove(e){e.removeEventListener("input",_t),e.removeEventListener("change",_t),e.removeEventListener("submit",rt);const t=e.closest("details-dialog");t&&(t.closest("details").removeEventListener("toggle",or),t.removeEventListener("details-dialog-close",sr),rt())}});function _t(e){const t=e.currentTarget;(0,Ot.T)(t)?Yl(t):rt()}r(_t,"prepareUnsavedChangesWarning");function Yl(e){const t=e.getAttribute("data-warn-unsaved-changes")||"Changes you made may not be saved.";window.onbeforeunload=function(n){return n.returnValue=t,t}}r(Yl,"enableSaveChangesReminder");function rt(){window.onbeforeunload=null}r(rt,"disableSaveChangesReminder");function or({currentTarget:e}){e.hasAttribute("open")||rt()}r(or,"disableSaveChangesReminderOnClosedDialogs");function sr(e){const t=e.currentTarget;if(!t.closest("details[open]"))return;let o=!0;const s=t.querySelectorAll("form[data-warn-unsaved-changes]");for(const i of s)if((0,Ot.T)(i)){const a=i.getAttribute("data-warn-unsaved-changes");o=confirm(a);break}o||e.preventDefault()}r(sr,"promptOnDialogClosing"),(0,d.N7)(".will-transition-once",{constructor:HTMLElement,subscribe:e=>(0,T.RB)(e,"transitionend",eu)});function eu(e){e.target.classList.remove("will-transition-once")}r(eu,"onTransitionEnd");async function tu(e){const t=e.currentTarget,n=t.getAttribute("data-url");if(!n||nu(t))return;const o=t.getAttribute("data-id")||"",s=t.textContent,i=document.querySelectorAll(`.js-issue-link[data-id='${o}']`);for(const a of i)a.removeAttribute("data-url");try{const a=`${n}/title`,l=await fetch(a,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!l.ok){const b=new Error,L=l.statusText?` ${l.statusText}`:"";throw b.message=`HTTP ${l.status}${L}`,b}const p=await l.json();rr(i,`${s}, ${p.title}`)}catch(a){const l=(a.response!=null?a.response.status:void 0)||500,p=(()=>{switch(l){case 404:return t.getAttribute("data-permission-text");default:return t.getAttribute("data-error-text")}})();rr(i,p||"")}}r(tu,"issueLabel");function rr(e,t){for(const n of e)n instanceof HTMLElement&&(n.classList.add("tooltipped","tooltipped-ne"),n.setAttribute("aria-label",t))}r(rr,"setLabel");function nu(e){switch(e.getAttribute("data-hovercard-type")){case"issue":case"pull_request":return!!e.closest("[data-issue-and-pr-hovercards-enabled]");case"discussion":return!!e.closest("[data-discussion-hovercards-enabled]");default:return!1}}r(nu,"isHovercardEnabled"),(0,d.N7)(".js-issue-link",{subscribe:e=>(0,T.RB)(e,"mouseenter",tu)});var ou=u(12085),He=u.n(ou);function Fn(){return[Math.floor(Math.random()*(255-0)+0),Math.floor(Math.random()*(255-0)+0),Math.floor(Math.random()*(255-0)+0)]}r(Fn,"randomRGBColor");function it(e,t){const n=He().rgb.hsl(t);e.style.setProperty("--label-r",t[0].toString()),e.style.setProperty("--label-g",t[1].toString()),e.style.setProperty("--label-b",t[2].toString()),e.style.setProperty("--label-h",n[0].toString()),e.style.setProperty("--label-s",n[1].toString()),e.style.setProperty("--label-l",n[2].toString())}r(it,"setColorSwatch");function Un(e,t){e.blur();const n=e.closest("form"),o=n.querySelector(".js-new-label-color-input");(0,S.Se)(o,`#${He().rgb.hex(t)}`);const s=n.querySelector(".js-new-label-color");it(s,t)}r(Un,"setInputColorFromButton");function su(e,t){e.closest(".js-label-error-container").classList.add("errored"),e.textContent=t,e.hidden=!1}r(su,"addErrorToField");function ru(e){e.closest(".js-label-error-container").classList.remove("errored"),e.hidden=!0}r(ru,"removeErrorFromField");function Xe(e,t,n){const o=t.querySelector(e);!o||(n?su(o,n[0]):ru(o))}r(Xe,"showOrHideLabelError");function $n(e,t){Xe(".js-label-name-error",e,t.name),Xe(".js-label-description-error",e,t.description),Xe(".js-label-color-error",e,t.color)}r($n,"showLabelErrors");function Oe(e){Xe(".js-label-name-error",e,null),Xe(".js-label-description-error",e,null),Xe(".js-label-color-error",e,null)}r(Oe,"hideLabelErrors");function iu(e,t,n,o,s){const i=new URL(`${e}${encodeURIComponent(t)}`,window.location.origin),a=new URLSearchParams(i.search.slice(1));return a.append("color",n),o&&a.append("description",o),s&&a.append("id",s),i.search=a.toString(),i.toString()}r(iu,"labelPreviewUrl");function au(e){let t=null;const n=e.querySelector(".js-new-label-description-input");return n instanceof HTMLInputElement&&n.value.trim().length>0&&(t=n.value.trim()),t}r(au,"labelDescriptionFrom");function cu(e){const t=e.querySelector(".js-new-label-color-input");return t.checkValidity()?t.value.trim().replace(/^#/,""):"ededed"}r(cu,"labelColorFrom");function lu(e,t){let o=e.querySelector(".js-new-label-name-input").value.trim();return o.length<1&&(o=t.getAttribute("data-default-name")),o}r(lu,"labelNameFrom");async function Ge(e){const t=e.closest(".js-label-preview-container");if(!t)return;const n=e.closest(".js-label-form"),o=n.querySelector(".js-new-label-error"),s=n.getAttribute("data-label-id"),i=t.querySelector(".js-label-preview"),a=lu(n,i);if(!n.checkValidity()&&a!=="Label preview")return;const l=cu(n),p=au(n),b=i.getAttribute("data-url-template"),L=iu(b,a,l,p,s);if(t.hasAttribute("data-last-preview-url")){const B=t.getAttribute("data-last-preview-url");if(L===B)return}let P;try{P=await(0,ye.a)(document,L)}catch(B){const U=await B.response.json();$n(n,U),o&&(o.textContent=U.message,o.hidden=!1);return}o&&(o.textContent="",o.hidden=!0),Oe(n),i.innerHTML="",i.appendChild(P),t.setAttribute("data-last-preview-url",L)}r(Ge,"updateLabelPreview");function uu(e){Ge(e.target)}r(uu,"onLabelFormInputChange");function ir(e,t){e.closest(".js-details-container").classList.toggle("is-empty",t)}r(ir,"toggleBlankSlate");function ar(e){const t=document.querySelector(".js-labels-count"),o=Number(t.textContent)+e;t.textContent=o.toString();const s=document.querySelector(".js-labels-label");return s.textContent=s.getAttribute(o===1?"data-singular-string":"data-plural-string"),o}r(ar,"updateCount"),(0,x.q6)(".js-label-filter-field",function(e){const t=e.target,o=t.closest("details-menu").querySelector(".js-new-label-name");if(!o)return;const s=t.value.trim();o.textContent=s}),(0,c.on)("filterable:change",".js-filterable-issue-labels",function(e){const t=e.currentTarget.closest("details-menu"),n=t.querySelector(".js-add-label-button");if(!n)return;const s=e.detail.inputField.value.trim().toLowerCase();let i=!1;for(const a of t.querySelectorAll("input[data-label-name]"))if((a.getAttribute("data-label-name")||"").toLowerCase()===s){i=!0;break}n.hidden=s.length===0||i}),(0,x.ZG)(".js-new-label-color-input",function(e){const n=e.closest("form").querySelector(".js-new-label-swatches");n.hidden=!1,e.addEventListener("blur",function(){n.hidden=!0},{once:!0})}),(0,x.q6)(".js-new-label-color-input",function(e){const t=e.target;let n=t.value.trim();if(!(n.length<1))if(n.indexOf("#")!==0&&(n=`#${n}`,t.value=n),t.checkValidity()){t.classList.remove("color-fg-danger");const s=t.closest("form").querySelector(".js-new-label-color");it(s,He().hex.rgb(n))}else t.classList.add("color-fg-danger")}),(0,x.w4)("keyup",".js-new-label-color-input",function(e){const t=e.target;let n=t.value.trim();if(n.indexOf("#")!==0&&(n=`#${n}`,t.value=n),t.checkValidity()){const i=t.closest("form").querySelector(".js-new-label-color");it(i,He().hex.rgb(n))}(0,c.f)(t,"change",!1);const o=t.closest("form");Oe(o)}),(0,x.w4)("keyup",".js-new-label-description-input",function(e){const n=e.target.form;Oe(n)}),(0,x.w4)("keyup",".js-new-label-color-input",function(e){const n=e.target.form;Oe(n)}),(0,c.on)("click",".js-new-label-color",async function(e){const t=e.currentTarget,n=Fn();Un(t,n),Ge(t)}),(0,c.on)("mousedown",".js-new-label-color-swatch",function(e){const t=e.currentTarget,n=t.getAttribute("data-color");Un(t,He().hex.rgb(n)),Ge(t);const o=t.closest(".js-new-label-swatches");o.hidden=!0}),(0,c.on)("toggle",".js-new-label-modal",function(e){e.target.hasAttribute("open")&&cr(e.target)},{capture:!0});async function cr(e){const t=e.querySelector(".js-new-label-name-input");if(!t)return;const n=e.querySelector(".js-new-label-color-input"),o=Fn(),s=`#${He().rgb.hex(o)}`;n.value=s;const i=e.querySelector(".js-new-label-color");it(i,o);const l=document.querySelector(".js-new-label-name").textContent;(0,S.Se)(t,l),(0,zt.OD)(t),Ge(i)}r(cr,"initLabelModal"),(0,q.AC)(".js-new-label-modal-form",async function(e,t){const n=e.querySelector(".js-new-label-error");let o;try{o=await t.html()}catch(p){const b=p.response.json;n.textContent=b.message,n.hidden=!1}if(!o)return;n.hidden=!0,document.querySelector(".js-new-label-modal").removeAttribute("open");const s=document.querySelector(".js-issue-labels-menu-content"),i=s.querySelector(".js-filterable-issue-labels"),a=o.html.querySelector("input");i.prepend(o.html),a&&a.dispatchEvent(new Event("change",{bubbles:!0}));const l=s.querySelector(".js-label-filter-field");l.value=l.defaultValue,l.focus()}),(0,c.on)("click",".js-edit-label-cancel",function(e){const t=e.target.closest("form");Oe(t),t.reset();const n=t.querySelector(".js-new-label-color-input"),o=n.value,s=t.querySelector(".js-new-label-color");it(s,He().hex.rgb(o)),(0,zt.Qc)(t),Ge(n);const i=e.currentTarget.closest(".js-labels-list-item");if(i){i.querySelector(".js-update-label").classList.add("d-none");const l=i.querySelector(".js-label-preview");l&&(l.classList.add("d-none"),i.querySelector(".js-label-link").classList.remove("d-none"));const p=i.querySelectorAll(".js-hide-on-label-edit");for(const b of p)b.hidden=!b.hidden}}),(0,q.AC)(".js-update-label",async function(e,t){let n;try{n=await t.html()}catch(s){const i=s.response.json;$n(e,i);return}Oe(e),e.closest(".js-labels-list-item").replaceWith(n.html)}),(0,q.AC)(".js-create-label",async function(e,t){let n;try{n=await t.html()}catch(a){const l=a.response.json;$n(e,l);return}e.reset(),Oe(e),document.querySelector(".js-label-list").prepend(n.html),ar(1),ir(e,!1);const o=e.querySelector(".js-new-label-color"),s=Fn();Un(o,s),Ge(e.querySelector(".js-new-label-name-input")),(0,zt.Qc)(e);const i=e.closest(".js-details-container");i instanceof HTMLElement&&(0,en.Qp)(i)}),(0,c.on)("click",".js-details-target-new-label",function(){document.querySelector(".js-create-label").querySelector(".js-new-label-name-input").focus()}),(0,c.on)("click",".js-edit-label",function(e){const t=e.currentTarget.closest(".js-labels-list-item"),n=t.querySelector(".js-update-label");n.classList.remove("d-none"),n.querySelector(".js-new-label-name-input").focus();const s=t.querySelector(".js-label-preview");s&&(s.classList.remove("d-none"),t.querySelector(".js-label-link").classList.add("d-none"));const i=t.querySelectorAll(".js-hide-on-label-edit");for(const a of i)a.hidden=!a.hidden}),(0,q.AC)(".js-delete-label",async function(e,t){const n=e.closest(".js-labels-list-item");n.querySelector(".js-label-delete-spinner").hidden=!1,await t.text();const o=ar(-1);ir(e,o===0),n.remove()});const Bt=(0,H.D)(uu,500);(0,c.on)("suggester:complete",".js-new-label-name-input",Bt),(0,x.q6)(".js-new-label-name-input",Bt),(0,x.q6)(".js-new-label-description-input",Bt),(0,x.q6)(".js-new-label-color-input",Bt),(0,x.w4)("keypress",".js-new-label-name-input",function(e){const t=e.target,n=parseInt(t.getAttribute("data-maxlength"));(0,Le.rq)(t.value)>=n&&e.preventDefault()}),(0,c.on)("click",".js-issues-label-select-menu-item",function(e){!e.altKey&&!e.shiftKey||(e.preventDefault(),e.stopPropagation(),e.altKey&&(window.location.href=e.currentTarget.getAttribute("data-excluded-url")),e.shiftKey&&(window.location.href=e.currentTarget.getAttribute("data-included-url")))}),(0,x.w4)("keydown",".js-issues-label-select-menu-item",function(e){if(e.key!=="Enter"||!e.altKey&&!e.shiftKey)return;const t=e.currentTarget;e.preventDefault(),e.stopPropagation(),t instanceof HTMLAnchorElement&&(e.altKey&&(window.location.href=t.getAttribute("data-excluded-url")),e.shiftKey&&(window.location.href=t.getAttribute("data-included-url")))}),(0,c.on)("click",".js-open-label-creation-modal",async function(e){e.stopImmediatePropagation();const t=await(0,Te.W)({content:document.querySelector(".js-label-creation-template").content.cloneNode(!0),detailsClass:"js-new-label-modal"});cr(t)},{capture:!0}),(0,c.on)("change",".js-thread-notification-setting",Wn),(0,c.on)("change",".js-custom-thread-notification-option",Wn),(0,c.on)("reset",".js-custom-thread-settings-form",Wn);function Wn(){const e=document.querySelector(".js-reveal-custom-thread-settings").checked,t=!document.querySelector(".js-custom-thread-notification-option:checked"),n=document.querySelector(".js-custom-thread-settings"),o=document.querySelector("[data-custom-option-required-text]"),s=e&&t?o.getAttribute("data-custom-option-required-text"):"";o.setCustomValidity(s),n.hidden=!e}r(Wn,"toggleEventSettings");var du=Object.defineProperty,fu=Object.getOwnPropertyDescriptor,lr=r((e,t,n,o)=>{for(var s=o>1?void 0:o?fu(t,n):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(o?a(t,n,s):a(s))||s);return o&&s&&du(t,n,s),s},"sidebar_widget_decorateClass");let zn=r(class extends HTMLElement{get activeClass(){return this.getAttribute("active-class")||"collapsible-sidebar-widget-active"}get loadingClass(){return this.getAttribute("loading-class")||"collapsible-sidebar-widget-loading"}get url(){return this.getAttribute("url")||""}get isOpen(){return this.hasAttribute("open")}set isOpen(e){e?this.setAttribute("open",""):this.removeAttribute("open")}onKeyDown(e){if(e.code==="Enter"||e.code==="Space")return e.preventDefault(),this.load()}onMouseDown(e){return e.preventDefault(),this.load()}load(){return this.pendingRequest?this.pendingRequest.abort():this.collapsible.hasAttribute("loaded")?this.isOpen?this.setClose():this.setOpen():(this.setLoading(),this.updateCollapsible())}setLoading(){this.classList.add(this.loadingClass),this.classList.remove(this.activeClass)}setOpen(){this.classList.add(this.activeClass),this.classList.remove(this.loadingClass),this.isOpen=!0}setClose(){this.classList.remove(this.activeClass),this.classList.remove(this.loadingClass),this.isOpen=!1}handleAbort(){this.pendingRequest=null,this.setClose()}async updateCollapsible(){try{this.pendingRequest=new AbortController,this.pendingRequest.signal.addEventListener("abort",()=>this.handleAbort());const e=await fetch(this.url,{signal:this.pendingRequest?.signal,headers:{Accept:"text/html","X-Requested-With":"XMLHttpRequest"}});if(this.pendingRequest=null,!e.ok)return this.setClose();const t=await e.text();this.collapsible.innerHTML=t,this.collapsible.setAttribute("loaded",""),this.setOpen()}catch{return this.pendingRequest=null,this.setClose()}}},"CollapsibleSidebarWidgetElement");lr([N.fA],zn.prototype,"collapsible",2),zn=lr([N.Ih],zn);var mu=Object.defineProperty,hu=Object.getOwnPropertyDescriptor,we=r((e,t,n,o)=>{for(var s=o>1?void 0:o?hu(t,n):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(o?a(t,n,s):a(s))||s);return o&&s&&mu(t,n,s),s},"sidebar_memex_input_decorateClass");let pe=r(class extends HTMLElement{constructor(){super(...arguments),this.updateUrl="",this.csrfToken="",this.instrumentType="",this.columnId=1}get isDisabled(){return this.read?.hasAttribute("disabled")}set hasErrored(e){e?this.setAttribute("errored",""):this.removeAttribute("errored")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get hasExpanded(){return this.read.getAttribute("aria-expanded")==="true"}get detailsElement(){return this.querySelector("details")??null}connectedCallback(){this.disabled=this.read?.disabled??!0,this.detailsElement?.addEventListener("toggle",()=>this.handleSelectMenuToggle())}disconnectedCallback(){this.detailsElement?.removeEventListener("toggle",()=>this.handleSelectMenuToggle())}handleSelectMenuToggle(){this.detailsElement&&!this.detailsElement?.open?this.disabled=!0:this.detailsElement&&this.detailsElement?.open&&(this.disabled=!1)}handleDetailsSelect(e){const t=e,n=e.target,o=t.detail?.relatedTarget,s=n.closest("details"),i=s?.querySelector("[data-menu-button]");if(o.getAttribute("aria-checked")==="true"){o.setAttribute("aria-checked","false"),e.preventDefault();for(const a of this.inputs)if(o.contains(a)){this.updateCell(a.name,""),i?.innerHTML&&(i.innerHTML=a.placeholder);break}s?.removeAttribute("open")}}handleDetailsSelected(e){const n=e.detail?.relatedTarget;for(const o of this.inputs)if(n.contains(o)){this.updateCell(o.name,o.value);break}}mouseDownFocus(e){!this.isDisabled||this.onFocus(e)}keyDownFocus(e){(e.code==="Enter"||e.code==="Space")&&(this.detailsElement&&this.onSelectMenuOpen(),this.read!==document.activeElement&&this.onFocus(e))}mouseDownFocusHeader(){this.detailsElement&&this.onSelectMenuOpen()}onChange(e){e.target.getAttribute("type")!=="date"&&this.updateCell(this.read?.name,this.read?.value)}onFocus(e){e.preventDefault(),this.disabled=!1,this.read.disabled=!1,this.read.focus()}onSelectMenuOpen(){this.detailsElement&&(this.detailsElement.open=!0)}onBlur(e){if(this.hasExpanded){e.preventDefault();return}e.target.getAttribute("type")==="date"&&this.updateCell(this.read?.name,this.read?.value),this.read.disabled=!0,this.disabled=!0}onKeyDown(e){if(e.code==="Enter"||e.code==="Tab"){if(e.preventDefault(),e.stopPropagation(),this.hasExpanded)return;this.read.blur()}}async updateCell(e="",t=""){const n=new FormData;n.set(e,t),n.set("ui",this.instrumentType);for(const s of this.parameters)n.set(s.name,s.value);const o=Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",timeZone:"UTC"});try{if(this.write){const L=this.read.value,P=this.read.type==="date"&&L?o.format(Date.parse(L)):L;this.write.textContent=L?P:this.read.placeholder}const s=await fetch(this.updateUrl,{method:"PUT",body:n,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","Scoped-CSRF-Token":`${this.csrfToken}`}});if(!s.ok)throw new Error("connection error");if(!this.write)return;const l=(await s.json()).memexProjectItem.memexProjectColumnValues.find(L=>L.memexProjectColumnId===Number(this.columnId)).value,p=this.read.type==="date"?Date.parse(l.value):l.html,b=this.read.type==="date"&&p?o.format(p):p;this.write.innerHTML=t?b:this.read.placeholder}catch{this.hasErrored=!0}}},"SidebarMemexInputElement");pe.attrPrefix="",we([N.Lj],pe.prototype,"updateUrl",2),we([N.Lj],pe.prototype,"csrfToken",2),we([N.Lj],pe.prototype,"instrumentType",2),we([N.Lj],pe.prototype,"columnId",2),we([N.GO],pe.prototype,"inputs",2),we([N.fA],pe.prototype,"read",2),we([N.fA],pe.prototype,"write",2),we([N.GO],pe.prototype,"parameters",2),pe=we([N.Ih],pe);function at(e,t=!1){(t||!vu(e))&&(e instanceof HTMLFormElement?(0,S.Bt)(e):Ut(e))}r(at,"submitForm");function ur(e){const t=e.currentTarget,n=t.closest(".js-issue-sidebar-form")||t.querySelector(".js-issue-sidebar-form");at(n)}r(ur,"submitOnMenuClose"),(0,c.on)("details-menu-selected",".js-discussion-sidebar-menu",function(e){const t=e.detail.relatedTarget,n=e.currentTarget,o=t.closest(".js-issue-sidebar-form"),s=n.hasAttribute("data-multiple");if(t.hasAttribute("data-clear-assignees")){const i=n.querySelectorAll('input[name="issue[user_assignee_ids][]"]:checked');for(const a of i)a.disabled=!1,a.checked=!1;at(o)}else s?n.closest("details").addEventListener("toggle",ur,{once:!0}):at(o)},{capture:!0});function pu(e,t){e.replaceWith((0,v.r)(document,t))}r(pu,"updateSidebar");function dr(e){document.querySelector(`[data-menu-trigger="${e}"]`)?.focus()}r(dr,"returnFocusToTrigger"),(0,q.AC)(".js-issue-sidebar-form",async function(e,t){const n=await t.html(),o=e.closest(".js-discussion-sidebar-item"),s=o?.querySelector(".select-menu")?.getAttribute("id");o.replaceWith(n.html),s&&dr(s)}),(0,c.on)("click","div.js-issue-sidebar-form .js-suggested-reviewer",function(e){const t=e.currentTarget,n=t.closest(".js-issue-sidebar-form");Ut(n,"post",{name:t.name,value:t.value}),e.preventDefault()}),(0,c.on)("click","div.js-issue-sidebar-form .js-issue-assign-self",function(e){const t=e.currentTarget,n=t.closest(".js-issue-sidebar-form");Ut(n,"post",{name:t.name,value:t.value}),t.remove(),document.querySelector("form#new_issue .js-submit-button-value")?.remove(),e.preventDefault()}),(0,c.on)("click",".js-issue-unassign-self",function(e){const t=e.currentTarget.closest(".js-issue-sidebar-form");Ut(t,"delete"),e.preventDefault()}),(0,q.AC)(".js-pages-preview-toggle-form",async function(e,t){const n=await t.json();e.querySelector("button.btn").textContent=n.json.new_button_value});function gu(e,t){const n=e.getAttribute("data-cache-name");return`${t}:sidebar:${n}`}r(gu,"getCacheKey");function bu(e,t,n){const o=e.getAttribute("data-cache-name");if(!o)return;const s=[];for(const[a,l]of t.entries())a.indexOf(o)!==-1&&s.push([a,l]);const i=s.filter(a=>a[1]!=="");i.length>0?sessionStorage.setItem(n,JSON.stringify(i)):sessionStorage.removeItem(n)}r(bu,"cacheValues");const Ft=new Set;function fr(){Ft.clear()}r(fr,"clearHasFired");async function yu(e,t){const n=e.getAttribute("data-cache-name"),o=sessionStorage.getItem(t);if(!n||!o||Ft.has(n))return;Ft.add(n);const s=JSON.parse(o),i=[];for(const[a,l]of s){if(Object.prototype.toString.call(l)!=="[object String]")continue;const p=document.createElement("input");p.type="hidden",p.value=l,p.name=a,e.appendChild(p),i.push(p)}try{await hr(e);for(const a of i)a.remove()}catch{Ft.delete(n)}}r(yu,"restoreCachedValues");let mr=!1;function Kn(e,t){if(mr)return;const n=Vn(e);bu(e,n,t),fr()}r(Kn,"cacheValuesOnHide"),(0,d.N7)("[data-cacher]",{add(e){const t=gu(e,(0,Me.e)());yu(e,t),window.addEventListener("pagehide",()=>Kn(e,t)),window.addEventListener("pjax:beforeReplace",()=>Kn(e,t)),window.addEventListener("turbo:before-visit",()=>Kn(e,t)),window.addEventListener("submit",n=>{n.defaultPrevented||(mr=!0,setTimeout(()=>{for(const o of Object.keys(sessionStorage))o.indexOf(t)!==-1&&(sessionStorage.removeItem(o),fr())},0))},{capture:!0})}});async function Ut(e,t="post",n){await hr(e,t,n);const s=e.closest(".js-discussion-sidebar-item")?.querySelector(".select-menu")?.getAttribute("id");s&&dr(s)}r(Ut,"previewSubmit");async function hr(e,t="post",n){const o=Vn(e);n&&o.append(n.name,n.value);const s=e.getAttribute("data-url");if(!s)return;const i=e.querySelector(".js-data-url-csrf"),a=await fetch(s,{method:t,body:t==="delete"?"":o,mode:"same-origin",headers:{"Scoped-CSRF-Token":i.value,"X-Requested-With":"XMLHttpRequest"}});if(!a.ok)return;const l=await a.text();pu(e.closest(".js-discussion-sidebar-item"),l)}r(hr,"requestPreview");function vu(e){const t=e.getAttribute("data-reviewers-team-size-check-url");if(!t)return!1;const n=[...document.querySelectorAll(".js-reviewer-team")].map(l=>l.getAttribute("data-id")),o=e instanceof HTMLFormElement?new FormData(e):Vn(e),i=new URLSearchParams(o).getAll("reviewer_team_ids[]").filter(l=>!n.includes(l));if(i.length===0)return!1;const a=new URLSearchParams(i.map(l=>["reviewer_team_ids[]",l]));return wu(e,`${t}?${a}`),!0}r(vu,"reviewerTeamsCheckRequired");async function wu(e,t){const n=await fetch(t);if(!n.ok)return;const o=await n.text();if(o.match(/[^\w-]js-large-team[^\w-]/))Eu(e,o);else{at(e,!0);return}}r(wu,"triggerTeamReviewerCheck");function Eu(e,t){const n=e.querySelector(".js-large-teams-check-warning-container");for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild((0,v.r)(document,t));const o=n.querySelector("details");function s(i){if(i.target instanceof Element){if(o.open=!1,!i.target.classList.contains("js-large-teams-confirm-button")){const a=e.querySelectorAll("input[name='reviewer_team_ids[]']");for(const l of a)n.querySelector(`.js-large-team[data-id='${l.value}']`)&&(l.checked=!1)}at(e,!0),i.preventDefault()}}r(s,"dialogAction"),n.querySelector(".js-large-teams-confirm-button").addEventListener("click",s,{once:!0}),n.querySelector(".js-large-teams-cancel-button").addEventListener("click",s,{once:!0}),o.addEventListener("details-dialog-close",s,{once:!0}),o.open=!0}r(Eu,"showTeamReviewerConfirmationDialog"),(0,c.on)("click","div.js-project-column-menu-container .js-project-column-menu-item button",async function(e){const t=e.currentTarget;Lu(t);const n=t.getAttribute("data-url"),o=t.parentElement.querySelector(".js-data-url-csrf"),s=t.getAttribute("data-card-id"),i=new FormData;if(i.append("card_id",s),i.append("use_automation_prioritization","true"),e.preventDefault(),!(await fetch(n,{method:"PUT",mode:"same-origin",body:i,headers:{"Scoped-CSRF-Token":o.value,"X-Requested-With":"XMLHttpRequest"}})).ok)return;const l=document.activeElement,p=t.closest(".js-project-column-menu-dropdown");if(l&&p.contains(l))try{l.blur()}catch{}});function Lu(e){const n=e.closest(".js-project-column-menu-dropdown").querySelector(".js-project-column-menu-summary"),o=e.getAttribute("data-column-name");n.textContent=o}r(Lu,"updateProjectColumnMenuSummary"),(0,c.on)("click",".js-prompt-dismiss",function(e){e.currentTarget.closest(".js-prompt").remove()});function Vn(e){const t=e.closest("form");if(!t)return new FormData;const o=new FormData(t).entries(),s=new FormData;for(const[i,a]of o)t.contains(ju(t,i,a.toString()))&&s.append(i,a);return s}r(Vn,"scopedFormData");function ju(e,t,n){for(const o of e.elements)if((o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLButtonElement)&&o.name===t&&o.value===n)return o;return null}r(ju,"findParam"),(0,c.on)("click",".js-convert-to-draft",function(e){const t=e.currentTarget.getAttribute("data-url"),n=e.currentTarget.parentElement.querySelector(".js-data-url-csrf");fetch(t,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":n.value,"X-Requested-With":"XMLHttpRequest"}})}),(0,c.on)("click","div.js-restore-item",async function(e){const t=e.currentTarget.getAttribute("data-url"),n=e.currentTarget.getAttribute("data-column"),o=e.currentTarget.querySelector(".js-data-url-csrf"),s=new FormData;if(s.set("memexProjectItemIds[]",n),!(await fetch(t,{method:"PUT",mode:"same-origin",body:s,headers:{"Scoped-CSRF-Token":o.value,"X-Requested-With":"XMLHttpRequest"}})).ok)throw new Error("connection error");ur(e)})},22485:(_,I,u)=>{"use strict";u.d(I,{N:()=>q,x:()=>D});var C=u(7739);let c=null;(async function(){await C.x,M()})();function q(y){D(d(y))}r(q,"announceFromElement");function D(y){!c||(c.textContent="",c.textContent=y)}r(D,"announce");function M(){c=document.createElement("div"),c.setAttribute("aria-live","polite"),c.classList.add("sr-only"),document.body.append(c)}r(M,"createNoticeContainer");function d(y){return(y.getAttribute("aria-label")||y.innerText||"").trim()}r(d,"getTextContent")},51989:(_,I,u)=>{"use strict";u.d(I,{s:()=>w});var C=u(35803),c=u(12981);class q{constructor(h=50,E=30){this.elements=[],this.timer=null,this.callbacks=[],this.timeout=h,this.limit=E,this.index=0}push(h){const E=`item-${this.index++}`;return this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.elements.length>=this.limit&&this.flush(),this.timer=window.setTimeout(()=>{this.timer=null,this.flush()},this.timeout),this.elements.push([h,E]),E}onFlush(h){this.callbacks.push(h)}async flush(){const h=this.elements.splice(0,this.limit);h.length!==0&&await Promise.all(this.callbacks.map(E=>E(h)))}}r(q,"AutoFlushingQueue");class D{constructor(h,E){this.url=h,this.callbacks=new Map,this.autoFlushingQueue=new q,this.autoFlushingQueue.onFlush(async k=>{this.load(k)}),this.validate=E}loadInBatch(h){const E=this.autoFlushingQueue.push(h);return new Promise(k=>this.callbacks.set(E,k))}async load(h){const E=new Map;for(const[v,j]of h)E.set(j,v);const k=new FormData;k.set("_method","GET");for(const[v,j]of E.entries())for(const R of j.inputs)k.append(`items[${v}][${R.name}]`,R.value);const S=await fetch(this.url,{method:"POST",body:k,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(S.ok){const v=await S.json();if(!v||typeof v!="object"||Array.isArray(v))throw new Error("Malformed batch response");for(const j in v){const R=this.callbacks.get(j);if(R){const A=v[j];this.validate(A),R(A)}}}}}r(D,"BatchLoader");var M=Object.defineProperty,d=Object.getOwnPropertyDescriptor,y=r((g,h,E,k)=>{for(var S=k>1?void 0:k?d(h,E):h,v=g.length-1,j;v>=0;v--)(j=g[v])&&(S=(k?j(h,E,S):j(S))||S);return k&&S&&M(h,E,S),S},"__decorateClass");class w extends HTMLElement{async connectedCallback(){const h=await this.batchLoader.loadInBatch(this);this.update(h)}get batchLoader(){const h=this.getAttribute("data-url");if(!h)throw new Error(`${this.tagName} element requires a data-url attribute`);let E=this.batchLoaders.get(h);return E||(E=new D(h,k=>this.validate(k)),this.batchLoaders.set(h,E)),E}}r(w,"BaseBatchDeferredContentElement");const f=new Map;let m=r(class extends w{constructor(){super(...arguments),this.batchLoaders=f}validate(g){if(typeof g!="string")throw new Error("Batch deferred content was not a string")}update(g){const h=(0,c.r)(document,g);this.replaceWith(h)}},"BatchDeferredContentElement");y([C.GO],m.prototype,"inputs",2),m=y([C.Ih],m)},41415:()=>{let _,I=!1;function u(){_=document.activeElement,document.body&&document.body.classList.toggle("intent-mouse",I)}r(u,"setClass"),document.addEventListener("mousedown",function(){I=!0,_===document.activeElement&&u()},{capture:!0}),document.addEventListener("keydown",function(){I=!1},{capture:!0}),document.addEventListener("focusin",u,{capture:!0})},90458:(_,I,u)=>{"use strict";u.d(I,{OD:()=>d,Qc:()=>y,nz:()=>M});var C=u(40764),c=u(45075);function q(w,f,m){const g=m.closest(".js-characters-remaining-container");if(!g)return;const h=g.querySelector(".js-characters-remaining"),E=String(h.getAttribute("data-suffix")),k=(0,C.rq)(w),S=f-k;S<=20?(h.textContent=`${S} ${E}`,h.classList.toggle("color-fg-danger",S<=5),h.hidden=!1):h.hidden=!0}r(q,"showRemainingCharacterCount");function D(w){return w.hasAttribute("data-maxlength")?parseInt(w.getAttribute("data-maxlength")||""):w.maxLength}r(D,"getFieldLimit");function M(w){const f=D(w),m=(0,C.rq)(w.value);return f-m<0}r(M,"hasExceededCharacterLimit");function d(w){const f=D(w);q(w.value,f,w)}r(d,"updateInputRemainingCharacters");function y(w){const f=w.querySelectorAll(".js-characters-remaining-container");for(const m of f){const g=m.querySelector(".js-characters-remaining-field");d(g)}}r(y,"resetCharactersRemainingCounts"),(0,c.ZG)(".js-characters-remaining-field",function(w){function f(){(w instanceof HTMLInputElement||w instanceof HTMLTextAreaElement)&&d(w)}r(f,"onInput"),f(),w.addEventListener("input",f),w.addEventListener("blur",()=>{w.removeEventListener("input",f)},{once:!0})})},2641:(_,I,u)=>{"use strict";u.d(I,{z:()=>E});var C=u(59753),c=u(12737),q=u(29719),D=u(6741),M=u(55741),d=u(64463),y=u(65935),w=u(78965);let f=[];(0,d.N7)(".js-comment-header-actions-deferred-include-fragment",{subscribe:v=>(0,D.RB)(v,"loadstart",()=>{const j=v.closest(".js-comment");h(j)},{capture:!1,once:!0})}),(0,d.N7)(".js-comment .contains-task-list",{add:v=>{const j=v.closest(".js-comment");h(j)}}),(0,C.on)("click",".js-comment-edit-button",function(v){const j=v.currentTarget.closest(".js-comment");j.classList.add("is-comment-editing");const R=g(j);R?R.addEventListener("include-fragment-replaced",()=>m(j),{once:!0}):m(j);const A=v.currentTarget.closest(".js-dropdown-details");A&&A.removeAttribute("open")});function m(v){v.querySelector(".js-write-tab").click();const j=v.querySelector(".js-comment-field");j.focus(),(0,C.f)(j,"change")}r(m,"focusEditForm");function g(v){return v.querySelector(".js-comment-edit-form-deferred-include-fragment")}r(g,"findEditFormDeferredIncludeFragment");function h(v){g(v)?.setAttribute("loading","eager")}r(h,"loadEditFormDeferredIncludeFragment"),(0,C.on)("click",".js-comment-hide-button",function(v){const j=v.currentTarget.closest(".js-comment");S(j,!1);const R=j.querySelector(".js-minimize-comment");R&&R.classList.remove("d-none");const A=v.currentTarget.closest(".js-dropdown-details");A&&A.removeAttribute("open")}),(0,C.on)("click",".js-comment-hide-minimize-form",function(v){v.currentTarget.closest(".js-minimize-comment").classList.add("d-none")});function E(v){const j=v.currentTarget.closest("form"),R=v.currentTarget.getAttribute("data-confirm-text");if((0,M.T)(j)&&!confirm(R))return!1;for(const x of j.querySelectorAll("input, textarea")){const H=x;H.value=H.defaultValue,H.classList.contains("session-resumable-canceled")&&(H.classList.add("js-session-resumable"),H.classList.remove("session-resumable-canceled"))}const A=v.currentTarget.closest(".js-comment");return A&&A.classList.remove("is-comment-editing"),!0}r(E,"handleCommentCancelButtonClick"),(0,C.on)("click",".js-comment-cancel-button",E),(0,C.on)("click",".js-cancel-issue-edit",function(v){const j=v.currentTarget.closest(".js-details-container");j.querySelector(".js-comment-form-error").hidden=!0}),(0,y.AC)(".js-comment-delete, .js-comment .js-comment-update, .js-issue-update, .js-comment-minimize, .js-comment-unminimize",function(v,j,R){const A=v.closest(".js-comment");A.classList.add("is-comment-loading");const x=A.getAttribute("data-body-version");x&&R.headers.set("X-Body-Version",x)}),(0,y.AC)(".js-comment .js-comment-update",async function(v,j){let R;const A=v.closest(".js-comment"),x=A.querySelector(".js-comment-update-error"),H=A.querySelector(".js-comment-body-error");x instanceof HTMLElement&&(x.hidden=!0),H instanceof HTMLElement&&(H.hidden=!0),f=[];try{R=await j.json()}catch(se){if(se.response.status===422){const ae=JSON.parse(se.response.text);if(ae.errors){x instanceof HTMLElement&&(x.textContent=`There was an error posting your comment: ${ae.errors.join(", ")}`,x.hidden=!1);return}}else throw se}if(!R)return;const T=R.json;T.errors&&T.errors.length>0&&(f=T.errors,k(H));const $=A.querySelector(".js-comment-body");$&&T.body&&($.innerHTML=T.body),A.setAttribute("data-body-version",T.newBodyVersion);const G=A.querySelector(".js-body-version");G instanceof HTMLInputElement&&(G.value=T.newBodyVersion);const V=A.querySelector(".js-discussion-poll");V&&T.poll&&(V.innerHTML=T.poll);for(const se of A.querySelectorAll("input, textarea")){const ae=se;ae.defaultValue=ae.value}A.classList.remove("is-comment-stale","is-comment-editing");const ue=A.querySelector(".js-comment-edit-history");if(ue){const se=await(0,q.a)(document,T.editUrl);ue.innerHTML="",ue.append(se)}}),(0,d.N7)(".js-comment-body-error",{add:v=>{f&&f.length>0&&k(v)}});function k(v){const j=v.querySelector("ol");if(j){j.innerHTML="";const R=f.map(A=>{const x=document.createElement("li");return x.textContent=A,x});for(const A of R)j.appendChild(A)}v.hidden=!1}r(k,"showBodyErrors"),(0,y.AC)(".js-comment .js-comment-delete, .js-comment .js-comment-update, .js-comment-minimize, .js-comment-unminimize",async function(v,j){const R=v.closest(".js-comment");try{await j.text()}catch(A){if(A.response.status===422){let x;try{x=JSON.parse(A.response.text)}catch{}x&&x.stale&&R.classList.add("is-comment-stale")}else throw A}R.classList.remove("is-comment-loading")});function S(v,j){const R=v.querySelector(".js-comment-show-on-error");R&&(R.hidden=!j);const A=v.querySelector(".js-comment-hide-on-error");A&&(A.hidden=j)}r(S,"toggleMinimizeError"),(0,y.AC)(".js-timeline-comment-unminimize, .js-timeline-comment-minimize",async function(v,j){const R=v.closest(".js-minimize-container");try{const A=await j.html();R.replaceWith(A.html)}catch{S(R,!0)}}),(0,y.AC)(".js-discussion-comment-unminimize, .js-discussion-comment-minimize",async function(v,j){const R=v.closest(".js-discussion-comment"),A=R.querySelector(".js-discussion-comment-error");A&&(A.hidden=!0);try{const x=await j.html();R.replaceWith(x.html)}catch(x){if(x.response.status>=400&&x.response.status<500){if(x.response.html){const H=x.response.html.querySelector(".js-discussion-comment").getAttribute("data-error");A instanceof HTMLElement&&(A.textContent=H,A.hidden=!1)}}else throw x}}),(0,y.AC)(".js-comment-delete",async function(v,j){await j.json();let R=v.closest(".js-comment-delete-container");R||(R=v.closest(".js-comment-container")||v.closest(".js-line-comments"),R&&R.querySelectorAll(".js-comment").length!==1&&(R=v.closest(".js-comment")));const A=R?.closest(".js-comment-container")||R?.closest(".js-line-comments");if(R?.remove(),A&&A.querySelectorAll(".js-comment").length===1)for(const x of A.querySelectorAll(".js-delete-on-last-reply-deleted"))x.remove()}),(0,y.AC)(".js-issue-update",async function(v,j){const R=v.closest(".js-details-container"),A=R.querySelector(".js-comment-form-error");let x;try{x=await j.json()}catch(T){A.textContent=T.response?.json?.errors?.[0]||"Something went wrong. Please try again.",A.hidden=!1}if(!x)return;R.classList.remove("open"),A.hidden=!0;const H=x.json;if(H.issue_title!=null){R.querySelector(".js-issue-title").textContent=H.issue_title;const T=R.closest(".js-issues-results");if(T){if(T.querySelector(".js-merge-pr.is-merging")){const V=T.querySelector(".js-merge-pull-request textarea");V instanceof HTMLTextAreaElement&&V.value===V.defaultValue&&(V.value=V.defaultValue=H.issue_title)}else if(T.querySelector(".js-merge-pr.is-squashing")){const V=T.querySelector(".js-merge-pull-request .js-merge-title");V instanceof HTMLInputElement&&V.value===V.defaultValue&&(V.value=V.defaultValue=H.default_squash_commit_title)}const $=T.querySelector("button[value=merge]");$&&$.setAttribute("data-input-message-value",H.issue_title);const G=T.querySelector("button[value=squash]");G&&G.setAttribute("data-input-title-value",H.default_squash_commit_title)}}document.title=H.page_title;for(const T of v.elements)(T instanceof HTMLInputElement||T instanceof HTMLTextAreaElement)&&(T.defaultValue=T.value)}),(0,y.AC)(".js-comment-minimize",async function(v,j){await j.json();const R=v.closest(".js-comment"),A=R.querySelector(".js-minimize-comment");if(A&&A.classList.contains("js-update-minimized-content")){const x=v.querySelector("input[type=submit], button[type=submit]");x&&x.classList.add("disabled");const H=R.closest(".js-comment-container");H&&await(0,w.x0)(H)}else{A&&A.classList.add("d-none");const x=v.closest(".unminimized-comment");x.classList.add("d-none"),x.classList.remove("js-comment");const T=v.closest(".js-minimizable-comment-group").querySelector(".minimized-comment");T&&T.classList.remove("d-none"),T&&T.classList.add("js-comment")}}),(0,y.AC)(".js-comment-unminimize",async function(v,j){await j.json();const R=v.closest(".js-minimizable-comment-group"),A=R.querySelector(".unminimized-comment"),x=R.querySelector(".minimized-comment");if(A)A.classList.remove("d-none"),A.classList.add("js-comment"),x&&x.classList.add("d-none"),x&&x.classList.remove("js-comment");else{if(x){const T=x.querySelector(".timeline-comment-actions");T&&T.classList.add("d-none"),x.classList.remove("js-comment")}const H=R.closest(".js-comment-container");await(0,w.x0)(H)}}),(0,C.on)("details-menu-select",".js-comment-edit-history-menu",v=>{const j=v.detail.relatedTarget.getAttribute("data-edit-history-url");if(!j)return;v.preventDefault();const R=(0,q.a)(document,j);(0,c.W)({content:R,dialogClass:"Box-overlay--wide overflow-visible"})},{capture:!0})},87924:()=>{document.addEventListener("click",function(_){if(!(_.target instanceof Element))return;const I="a[data-confirm], input[type=submit][data-confirm], input[type=checkbox][data-confirm], button[data-confirm]",u=_.target.closest(I);if(!u)return;const C=u.getAttribute("data-confirm");!C||u instanceof HTMLInputElement&&u.hasAttribute("data-confirm-checked")&&!u.checked||confirm(C)||(_.stopImmediatePropagation(),_.preventDefault())},!0)},33948:(_,I,u)=>{"use strict";u.d(I,{Z:()=>D});var C=u(7739);const c=[];let q=0;function D(f){(async function(){c.push(f),await C.x,M()})()}r(D,"hashChange"),D.clear=()=>{c.length=q=0};function M(){const f=q;q=c.length,d(c.slice(f),null,window.location.href)}r(M,"runRemainingHandlers");function d(f,m,g){const h=window.location.hash.slice(1),E=h?document.getElementById(h):null,k={oldURL:m,newURL:g,target:E};for(const S of f)S.call(null,k)}r(d,"runHandlers");let y=window.location.href;window.addEventListener("popstate",function(){y=window.location.href}),window.addEventListener("hashchange",function(f){const m=window.location.href;try{d(c,f.oldURL||y,m)}finally{y=m}});let w=null;document.addEventListener("pjax:start",function(){w=window.location.href}),document.addEventListener("pjax:end",function(){d(c,w,window.location.href)})},52641:(_,I,u)=>{"use strict";u.d(I,{G:()=>w});var C=u(45075),c=u(64463),q=u(59753);const D=["input[pattern]","input[required]","textarea[required]","input[data-required-change]","textarea[data-required-change]","input[data-required-value]","textarea[data-required-value]"].join(",");function M(f){const m=f.getAttribute("data-required-value"),g=f.getAttribute("data-required-value-prefix");if(f.value===m)f.setCustomValidity("");else{let h=m;g&&(h=g+h),f.setCustomValidity(h)}}r(M,"checkValidityForRequiredValueField"),(0,C.q6)("[data-required-value]",function(f){const m=f.currentTarget;M(m)}),(0,q.on)("change","[data-required-value]",function(f){const m=f.currentTarget;M(m),w(m.form)}),(0,C.q6)("[data-required-trimmed]",function(f){const m=f.currentTarget;m.value.trim()===""?m.setCustomValidity(m.getAttribute("data-required-trimmed")):m.setCustomValidity("")}),(0,q.on)("change","[data-required-trimmed]",function(f){const m=f.currentTarget;m.value.trim()===""?m.setCustomValidity(m.getAttribute("data-required-trimmed")):m.setCustomValidity(""),w(m.form)}),(0,C.ZG)(D,f=>{let m=f.checkValidity();function g(){const h=f.checkValidity();h!==m&&f.form&&w(f.form),m=h}r(g,"inputHandler"),f.addEventListener("input",g),f.addEventListener("blur",r(function h(){f.removeEventListener("input",g),f.removeEventListener("blur",h)},"blurHandler"))});const d=new WeakMap;function y(f){d.get(f)||(f.addEventListener("change",()=>w(f)),d.set(f,!0))}r(y,"installHandlers");function w(f){const m=f.checkValidity();for(const g of f.querySelectorAll("button[data-disable-invalid]"))g.disabled=!m}r(w,"validate"),(0,c.N7)("button[data-disable-invalid]",{constructor:HTMLButtonElement,initialize(f){const m=f.form;m&&(y(m),f.disabled=!m.checkValidity())}}),(0,c.N7)("input[data-required-change], textarea[data-required-change]",function(f){const m=f,g=m.type==="radio"&&m.form?m.form.elements.namedItem(m.name).value:null;function h(E){const k=m.form;if(E&&m.type==="radio"&&k&&g)for(const S of k.elements.namedItem(m.name))S instanceof HTMLInputElement&&S.setCustomValidity(m.value===g?"unchanged":"");else m.setCustomValidity(m.value===(g||m.defaultValue)?"unchanged":"")}r(h,"customValidity"),m.addEventListener("input",h),m.addEventListener("change",h),h(),m.form&&w(m.form)}),document.addEventListener("reset",function(f){if(f.target instanceof HTMLFormElement){const m=f.target;setTimeout(()=>w(m))}})},11724:()=>{document.addEventListener("pjax:click",function(_){if(window.onbeforeunload)return _.preventDefault()})},17300:(_,I,u)=>{"use strict";u.d(I,{k:()=>M});var C=u(6741),c=u(7739),q=u(64463),D=u(75371);(0,q.N7)(".js-responsive-underlinenav",{constructor:HTMLElement,subscribe:w=>(M(w),(0,C.RB)(window,"resize",()=>y(w)))});async function M(w){await c.C,y(w)}r(M,"asyncCalculateVisibility");function d(w,f){w.style.visibility=f?"hidden":"";const m=w.getAttribute("data-tab-item");if(m){const g=document.querySelector(`[data-menu-item=${m}]`);g instanceof HTMLElement&&(g.hidden=!f)}}r(d,"toggleItem");function y(w){const f=w.querySelectorAll(".js-responsive-underlinenav-item"),m=w.querySelector(".js-responsive-underlinenav-overflow"),g=(0,D.oE)(m,w);if(!g)return;let h=!1;for(const E of f){const k=(0,D.oE)(E,w);if(k){const S=k.left+E.offsetWidth>=g.left;d(E,S),h=h||S}}m.style.visibility=h?"":"hidden"}r(y,"calculateVisibility")},41928:()=>{function _(C){const c=document.querySelector(".js-stale-session-flash"),q=c.querySelector(".js-stale-session-flash-signed-in"),D=c.querySelector(".js-stale-session-flash-signed-out");c.hidden=!1,q.hidden=C==="false",D.hidden=C==="true",window.addEventListener("popstate",function(M){M.state&&M.state.container!=null&&location.reload()}),document.addEventListener("submit",function(M){M.preventDefault()})}r(_,"sessionChanged");let I;if(typeof BroadcastChannel=="function")try{I=new BroadcastChannel("stale-session"),I.onmessage=C=>{typeof C.data=="string"&&_(C.data)}}catch{}if(!I){let C=!1;I={postMessage(c){C=!0;try{window.localStorage.setItem("logged-in",c)}finally{C=!1}}},window.addEventListener("storage",function(c){if(!C&&c.storageArea===window.localStorage&&c.key==="logged-in")try{(c.newValue==="true"||c.newValue==="false")&&_(c.newValue)}finally{window.localStorage.removeItem(c.key)}})}const u=document.querySelector(".js-stale-session-flash[data-signedin]");if(u){const C=u.getAttribute("data-signedin")||"";I.postMessage(C)}},32222:(_,I,u)=>{"use strict";var C=u(11793),c=u(59753),q=u(64463);class D{constructor(d){this.container=d.container,this.selections=d.selections,this.inputWrap=d.inputWrap,this.input=d.input,this.tagTemplate=d.tagTemplate,this.form=this.input.form,this.autoComplete=d.autoComplete,this.multiTagInput=d.multiTagInput}setup(){this.container.addEventListener("click",d=>{d.target.closest(".js-remove")?this.removeTag(d):this.onFocus()}),this.input.addEventListener("focus",this.onFocus.bind(this)),this.input.addEventListener("blur",this.onBlur.bind(this)),this.input.addEventListener("keydown",this.onKeyDown.bind(this)),this.form.addEventListener("submit",this.onSubmit.bind(this)),this.autoComplete.addEventListener("auto-complete-change",()=>{this.selectTag(this.autoComplete.value)})}onFocus(){this.inputWrap.classList.add("focus"),this.input!==document.activeElement&&this.input.focus()}onBlur(){this.inputWrap.classList.remove("focus"),this.autoComplete.open||this.onSubmit()}onSubmit(){this.input.value&&(this.selectTag(this.input.value),this.autoComplete.open=!1)}onKeyDown(d){switch((0,C.EL)(d)){case"Backspace":this.onBackspace();break;case"Enter":case"Tab":this.taggifyValueWhenSuggesterHidden(d);break;case",":case" ":this.taggifyValue(d);break}}taggifyValueWhenSuggesterHidden(d){!this.autoComplete.open&&this.input.value&&(d.preventDefault(),this.selectTag(this.input.value))}taggifyValue(d){this.input.value&&(d.preventDefault(),this.selectTag(this.input.value),this.autoComplete.open=!1)}selectTag(d){const y=this.normalizeTag(d),w=this.selectedTags();let f=!1;for(let m=0;m<y.length;m++){const g=y[m];w.indexOf(g)<0&&(this.selections.appendChild(this.templateTag(g)),f=!0)}f&&(this.input.value="",(0,c.f)(this.form,"tags:changed"))}removeTag(d){const y=d.target;d.preventDefault(),y.closest(".js-tag-input-tag").remove(),(0,c.f)(this.form,"tags:changed")}templateTag(d){const y=this.tagTemplate.cloneNode(!0);return y.querySelector("input").value=d,y.querySelector(".js-placeholder-tag-name").replaceWith(d),y.classList.remove("d-none","js-template"),y}normalizeTag(d){const y=d.toLowerCase().trim();return y?this.multiTagInput?y.split(/[\s,']+/):[y.replace(/[\s,']+/g,"-")]:[]}onBackspace(){if(!this.input.value){const d=this.selections.querySelector("li:last-child .js-remove");d instanceof HTMLElement&&d.click()}}selectedTags(){const d=this.selections.querySelectorAll("input");return Array.from(d).map(y=>y.value).filter(y=>y.length>0)}}r(D,"TagInput"),(0,q.N7)(".js-tag-input-container",{constructor:HTMLElement,initialize(M){new D({container:M,inputWrap:M.querySelector(".js-tag-input-wrapper"),input:M.querySelector('input[type="text"], input:not([type])'),selections:M.querySelector(".js-tag-input-selected-tags"),tagTemplate:M.querySelector(".js-template"),autoComplete:M.querySelector("auto-complete"),multiTagInput:!1}).setup()}}),(0,q.N7)(".js-multi-tag-input-container",{constructor:HTMLElement,initialize(M){new D({container:M,inputWrap:M.querySelector(".js-tag-input-wrapper"),input:M.querySelector('input[type="text"], input:not([type])'),selections:M.querySelector(".js-tag-input-selected-tags"),tagTemplate:M.querySelector(".js-template"),autoComplete:M.querySelector("auto-complete"),multiTagInput:!0}).setup()}})},95128:()=>{function _(){const u=document.createElement("div");return u.style.cssText="-ms-user-select: element; user-select: contain;",u.style.getPropertyValue("-ms-user-select")==="element"||u.style.getPropertyValue("-ms-user-select")==="contain"||u.style.getPropertyValue("user-select")==="contain"}r(_,"supportsUserSelectContain");function I(u){if(!(u.target instanceof Element))return;const C=u.target.closest(".user-select-contain");if(!C)return;const c=window.getSelection();if(!c||!c.rangeCount||!c.rangeCount||c.type!=="Range")return;const q=c.getRangeAt(0).commonAncestorContainer;C.contains(q)||c.selectAllChildren(C)}r(I,"handleUserSelectContain"),_()||document.addEventListener("click",I)},29790:(_,I,u)=>{"use strict";u.d(I,{Dw:()=>M,G5:()=>C,M9:()=>y,n6:()=>D});function C(h){const E=h.match(/#?(?:L)(\d+)((?:C)(\d+))?/g);if(E)if(E.length===1){const k=d(E[0]);return k?Object.freeze({start:k,end:k}):void 0}else if(E.length===2){const k=d(E[0]),S=d(E[1]);return!k||!S?void 0:m(Object.freeze({start:k,end:S}))}else return;else return}r(C,"parseBlobRange");function c(h){const{start:E,end:k}=m(h);return E.column!=null&&k.column!=null?`L${E.line}C${E.column}-L${k.line}C${k.column}`:E.line===k.line?`L${E.line}`:`L${E.line}-L${k.line}`}r(c,"formatBlobRange");function q(h){const E=h.match(/(file-.+?-)L\d+?/i);return E?E[1]:""}r(q,"parseAnchorPrefix");function D(h){const E=C(h),k=q(h);return{blobRange:E,anchorPrefix:k}}r(D,"parseFileAnchor");function M({anchorPrefix:h,blobRange:E}){return E?`#${h}${c(E)}`:"#"}r(M,"formatBlobRangeAnchor");function d(h){const E=h.match(/L(\d+)/),k=h.match(/C(\d+)/);return E?Object.freeze({line:parseInt(E[1]),column:k?parseInt(k[1]):null}):null}r(d,"parseBlobOffset");function y(h,E){const[k,S]=w(h.start,!0,E),[v,j]=w(h.end,!1,E);if(!k||!v)return;let R=S,A=j;if(R===-1&&(R=0),A===-1&&(A=v.childNodes.length),!k.ownerDocument)throw new Error("DOMRange needs to be inside document");const x=k.ownerDocument.createRange();return x.setStart(k,R),x.setEnd(v,A),x}r(y,"DOMRangeFromBlob");function w(h,E,k){const S=[null,0],v=k(h.line);if(!v)return S;if(h.column==null)return[v,-1];let j=h.column-1;const R=f(v);for(let A=0;A<R.length;A++){const x=R[A],H=j-(x.textContent||"").length;if(H===0){const T=R[A+1];return E&&T?[T,0]:[x,j]}else if(H<0)return[x,j];j=H}return S}r(w,"findRangeOffset");function f(h){if(h.nodeType===Node.TEXT_NODE)return[h];if(!h.childNodes||!h.childNodes.length)return[];let E=[];for(const k of h.childNodes)E=E.concat(f(k));return E}r(f,"getAllTextNodes");function m(h){const E=[h.start,h.end];return E.sort(g),E[0]===h.start&&E[1]===h.end?h:Object.freeze({start:E[0],end:E[1]})}r(m,"ascendingBlobRange");function g(h,E){return h.line===E.line&&h.column===E.column?0:h.line===E.line&&typeof h.column=="number"&&typeof E.column=="number"?h.column-E.column:h.line-E.line}r(g,"compareBlobOffsets")},35889:(_,I,u)=>{"use strict";u.d(I,{P:()=>q,g:()=>D});var C=u(59753);const c=new WeakMap;function q(y){return c.get(y)}r(q,"getCodeEditor");async function D(y){return c.get(y)||M(await d(y,"codeEditor:ready"))}r(D,"getAsyncCodeEditor");function M(y){if(!(y instanceof CustomEvent))throw new Error("assert: event is not a CustomEvent");const w=y.detail.editor;if(!y.target)throw new Error("assert: event.target is null");return c.set(y.target,w),w}r(M,"onEditorFromEvent"),(0,C.on)("codeEditor:ready",".js-code-editor",M);function d(y,w){return new Promise(f=>{y.addEventListener(w,f,{once:!0})})}r(d,"nextEvent")},64926:(_,I,u)=>{"use strict";u.d(I,{$1:()=>c,d8:()=>D,ej:()=>C,kT:()=>M});function C(d){return c(d)[0]}r(C,"getCookie");function c(d){const y=[];for(const w of q()){const[f,m]=w.trim().split("=");d===f&&typeof m<"u"&&y.push({key:f,value:m})}return y}r(c,"getCookies");function q(){try{return document.cookie.split(";")}catch{return[]}}r(q,"readCookies");function D(d,y,w=null,f=!1,m="lax"){let g=document.domain;if(g==null)throw new Error("Unable to get document domain");g.endsWith(".github.com")&&(g="github.com");const h=location.protocol==="https:"?"; secure":"",E=w?`; expires=${w}`:"";f===!1&&(g=`.${g}`);try{document.cookie=`${d}=${y}; path=/; domain=${g}${E}${h}; samesite=${m}`}catch{}}r(D,"setCookie");function M(d,y=!1){let w=document.domain;if(w==null)throw new Error("Unable to get document domain");w.endsWith(".github.com")&&(w="github.com");const f=new Date().getTime(),m=new Date(f-1).toUTCString(),g=location.protocol==="https:"?"; secure":"",h=`; expires=${m}`;y===!1&&(w=`.${w}`);try{document.cookie=`${d}=''; path=/; domain=${w}${h}${g}`}catch{}}r(M,"deleteCookie")},73185:(_,I,u)=>{"use strict";u.d(I,{Dc:()=>D,bP:()=>y,g:()=>d,gJ:()=>C,rs:()=>c});function C(){return Promise.resolve()}r(C,"microtask");function c(){return new Promise(window.requestAnimationFrame)}r(c,"animationFrame");async function q(w,f){let m;const g=new Promise((h,E)=>{m=self.setTimeout(()=>E(new Error("timeout")),w)});if(!f)return g;try{await Promise.race([g,M(f)])}catch(h){throw self.clearTimeout(m),h}}r(q,"timeout");async function D(w,f){let m;const g=new Promise(h=>{m=self.setTimeout(h,w)});if(!f)return g;try{await Promise.race([g,M(f)])}catch(h){throw self.clearTimeout(m),h}}r(D,"wait");function M(w){return new Promise((f,m)=>{const g=new Error("aborted");g.name="AbortError",w.aborted?m(g):w.addEventListener("abort",()=>m(g))})}r(M,"whenAborted");function d(w){const f=[];return function(m){f.push(m),f.length===1&&queueMicrotask(()=>{const g=[...f];f.length=0,w(g)})}}r(d,"taskQueue");async function y(w){requestAnimationFrame(()=>{setTimeout(w)})}r(y,"afterNextPaint")},99254:(_,I,u)=>{"use strict";u.d(I,{Z:()=>f});var C=u(47142);const c=r((m,g,h)=>{if(!(0,C.CD)(m,g))return-1/0;const E=(0,C.Gs)(m,g);return E<h?-1/0:E},"getScore"),q=r((m,g,h)=>{m.innerHTML="";let E=0;for(const k of(0,C.m7)(g,h)){h.slice(E,k)!==""&&m.appendChild(document.createTextNode(h.slice(E,k))),E=k+1;const v=document.createElement("mark");v.textContent=h[k],m.appendChild(v)}m.appendChild(document.createTextNode(h.slice(E)))},"highlightElement"),D=new WeakMap,M=new WeakMap,d=new WeakMap,y=r(m=>{if(!d.has(m)&&m instanceof HTMLElement){const g=(m.getAttribute("data-value")||m.textContent||"").trim();return d.set(m,g),g}return d.get(m)||""},"getTextCache");class w extends HTMLElement{connectedCallback(){const g=this.querySelector("ul");if(!g)return;const h=new Set(g.querySelectorAll("li")),E=this.querySelector("input");E instanceof HTMLInputElement&&E.addEventListener("input",()=>{this.value=E.value});const k=new MutationObserver(v=>{let j=!1;for(const R of v)if(R.type==="childList"&&R.addedNodes.length){for(const A of R.addedNodes)if(A instanceof HTMLLIElement&&!h.has(A)){const x=y(A);j=j||(0,C.CD)(this.value,x),h.add(A)}}j&&this.sort()});k.observe(g,{childList:!0});const S={handler:k,items:h,lazyItems:new Map,timer:null};M.set(this,S)}disconnectedCallback(){const g=M.get(this);g&&(g.handler.disconnect(),M.delete(this))}addLazyItems(g,h){const E=M.get(this);if(!E)return;const{lazyItems:k}=E,{value:S}=this;let v=!1;for(const j of g)k.set(j,h),v=v||Boolean(S)&&(0,C.CD)(S,j);v&&this.sort()}sort(){const g=D.get(this);g&&(g.aborted=!0);const h={aborted:!1};D.set(this,h);const{minScore:E,markSelector:k,maxMatches:S,value:v}=this,j=M.get(this);if(!j||!this.dispatchEvent(new CustomEvent("fuzzy-list-will-sort",{cancelable:!0,detail:v})))return;const{items:R,lazyItems:A}=j,x=this.hasAttribute("mark-selector"),H=this.querySelector("ul");if(!H)return;const T=[];if(v){for(const $ of R){const G=y($),V=c(v,G,E);V!==-1/0&&T.push({item:$,score:V})}for(const[$,G]of A){const V=c(v,$,E);V!==-1/0&&T.push({text:$,render:G,score:V})}T.sort(($,G)=>G.score-$.score).splice(S)}else{let $=T.length;for(const G of R){if($>=S)break;T.push({item:G,score:1}),$+=1}for(const[G,V]of A){if($>=S)break;T.push({text:G,render:V,score:1}),$+=1}}requestAnimationFrame(()=>{if(h.aborted)return;const $=H.querySelector('input[type="radio"]:checked');H.innerHTML="";let G=0;const V=r(()=>{if(h.aborted)return;const ue=Math.min(T.length,G+100),se=document.createDocumentFragment();for(let re=G;re<ue;re+=1){const ge=T[re];let de=null;if("render"in ge&&"text"in ge){const{render:Wt,text:Ze}=ge;de=Wt(Ze),R.add(de),d.set(de,Ze),A.delete(Ze)}else"item"in ge&&(de=ge.item);de instanceof HTMLElement&&(x&&q(k&&de.querySelector(k)||de,x?v:"",y(de)),se.appendChild(de))}G=ue;let ae=!1;if($ instanceof HTMLInputElement)for(const re of se.querySelectorAll('input[type="radio"]:checked'))re instanceof HTMLInputElement&&re.value!==$.value&&(re.checked=!1,ae=!0);if(H.appendChild(se),$&&ae&&$.dispatchEvent(new Event("change",{bubbles:!0})),ue<T.length)requestAnimationFrame(V);else{H.hidden=T.length===0;const re=this.querySelector("[data-fuzzy-list-show-on-empty]");re&&(re.hidden=T.length>0),this.dispatchEvent(new CustomEvent("fuzzy-list-sorted",{detail:T.length}))}},"nextBatch");V()})}get value(){return this.getAttribute("value")||""}set value(g){this.setAttribute("value",g)}get markSelector(){return this.getAttribute("mark-selector")||""}set markSelector(g){g?this.setAttribute("mark-selector",g):this.removeAttribute("mark-selector")}get minScore(){return Number(this.getAttribute("min-score")||0)}set minScore(g){Number.isNaN(g)||this.setAttribute("min-score",String(g))}get maxMatches(){return Number(this.getAttribute("max-matches")||1/0)}set maxMatches(g){Number.isNaN(g)||this.setAttribute("max-matches",String(g))}static get observedAttributes(){return["value","mark-selector","min-score","max-matches"]}attributeChangedCallback(g,h,E){if(h===E)return;const k=M.get(this);!k||(k.timer&&window.clearTimeout(k.timer),k.timer=window.setTimeout(()=>this.sort(),100))}}r(w,"FuzzyListElement");const f=w;window.customElements.get("fuzzy-list")||(window.FuzzyListElement=w,window.customElements.define("fuzzy-list",w))},53692:(_,I,u)=>{"use strict";u.d(I,{$S:()=>c,Fk:()=>q,sz:()=>D});var C=u(45922);function c(M,d,y){const w={hydroEventPayload:M,hydroEventHmac:d,visitorPayload:"",visitorHmac:"",hydroClientContext:y},f=document.querySelector("meta[name=visitor-payload]");f instanceof HTMLMetaElement&&(w.visitorPayload=f.content);const m=document.querySelector("meta[name=visitor-hmac]")||"";m instanceof HTMLMetaElement&&(w.visitorHmac=m.content),(0,C.b)(w,!0)}r(c,"sendData");function q(M){const d=M.getAttribute("data-hydro-view")||"",y=M.getAttribute("data-hydro-view-hmac")||"",w=M.getAttribute("data-hydro-client-context")||"";c(d,y,w)}r(q,"trackView");function D(M){const d=M.getAttribute("data-hydro-click-payload")||"",y=M.getAttribute("data-hydro-click-hmac")||"",w=M.getAttribute("data-hydro-client-context")||"";c(d,y,w)}r(D,"sendHydroEvent")},32904:(_,I,u)=>{"use strict";u.d(I,{a:()=>C});function C(M,d){const y=M.closest("[data-notification-id]");d.hasAttribute("data-status")&&c(y,d.getAttribute("data-status")),d.hasAttribute("data-subscription-status")&&q(y,d.getAttribute("data-subscription-status")),d.hasAttribute("data-starred-status")&&D(y,d.getAttribute("data-starred-status"))}r(C,"updateNotificationStates");function c(M,d){M.classList.toggle("notification-archived",d==="archived"),M.classList.toggle("notification-unread",d==="unread"),M.classList.toggle("notification-read",d==="read")}r(c,"toggleNotificationStatus");function q(M,d){M.classList.toggle("notification-unsubscribed",d==="unsubscribed")}r(q,"toggleNotificationSubscriptionStatus");function D(M,d){M.classList.toggle("notification-starred",d==="starred")}r(D,"toggleNotificationStarredStatus")},19218:(_,I,u)=>{"use strict";u.d(I,{v:()=>C});function C(c,q){q.appendChild(c.extractContents()),c.insertNode(q)}r(C,"surroundContents")},25331:(_,I,u)=>{"use strict";u.d(I,{e:()=>C});function C(c){const q=c||window.location,D=document.head&&document.head.querySelector("meta[name=session-resume-id]");return D instanceof HTMLMetaElement&&D.content||q.pathname}r(C,"getPageID")},93097:(_,I,u)=>{"use strict";u.d(I,{Hu:()=>k,_8:()=>w,cj:()=>y});var C=u(69567),c=u(64463);const q=3e3,D="github-mobile-auth-flash";function M(S){const v=new C.R(document.querySelector("template.js-flash-template"),{className:`flash-error ${D}`,message:S}),j=document.importNode(v,!0),R=document.querySelector("#js-flash-container");R&&(d(),R.appendChild(j))}r(M,"addFlashMessage");function d(){const S=document.querySelector("#js-flash-container");if(S)for(const v of S.children)!v.classList.contains("js-flash-template")&&v.classList.contains(D)&&S.removeChild(v)}r(d,"removeFlash");function y(){document.getElementById("github-mobile-authenticate-prompt").hidden=!0,document.getElementById("github-mobile-authenticate-error-and-retry").hidden=!1}r(y,"hidePromptAndShowErrorMessage");function w(){d(),document.getElementById("github-mobile-authenticate-prompt").hidden=!1,document.getElementById("github-mobile-authenticate-error-and-retry").hidden=!0}r(w,"resetPrompt");function f(S){let v;S?v=new URL(`password_reset/${encodeURIComponent(S)}`,window.location.origin):v=new URL("",window.location.href),v.searchParams.set("redirect","true"),window.location.assign(v)}r(f,"approvedHandler");function m(){document.getElementById("github-mobile-rejected-redirect").click()}r(m,"rejectedHandler");function g(S){S&&M(S),y()}r(g,"genericHandler");function h(S){return document.getElementById("github-mobile-authenticate-error-and-retry").getAttribute(S)}r(h,"getErrorAndRetryMessage");function E(S,v,j,R){return r(async function A(x){if(R&&R())return;let H="STATUS_UNKNOWN",T;try{const G=document.getElementById("github-mobile-authenticate-form"),V=G.querySelector(".js-data-url-csrf"),ue=await self.fetch(new Request(S,{method:"POST",body:new FormData(G),mode:"same-origin",headers:{Accept:"application/json","Scoped-CSRF-Token":V.value,"X-Requested-With":"XMLHttpRequest"}}));if(ue.ok){const se=await ue.json();H=se.status,T=se.token}else H="STATUS_ERROR"}catch{H="STATUS_ERROR"}let $;switch(H){case"STATUS_APPROVED":return v?v():f(T);case"STATUS_EXPIRED":return $=h("timeout-flash"),j?j($):g($);case"STATUS_ACTIVE":case"STATUS_ERROR":case"STATUS_UNKNOWN":break;case"STATUS_REJECTED":return $=h("error-flash"),j?j($):m();case"STATUS_NOT_FOUND":case"STATUS_UNSUPPORTED":default:return $=h("error-flash"),j?j($):g($)}await new Promise(G=>setTimeout(G,q)),A(x)},"poll")(0)}r(E,"pollMobileAuthRequestStatus");async function k(S,v,j,R){try{await E(S.getAttribute("data-poll-url"),v,j,R)}catch{const x=h("error-flash");return g(x)}}r(k,"initializeMobileAuthRequestStatusPoll"),(0,c.N7)(".js-poll-github-mobile-two-factor-authenticate",function(S){k(S)}),(0,c.N7)(".js-poll-github-mobile-verified-device-authenticate",function(S){k(S)}),(0,c.N7)(".js-poll-github-mobile-two-factor-password-reset-authenticate",function(S){k(S)})},82841:(_,I,u)=>{"use strict";u.d(I,{Z:()=>m});var C=u(12737),c=u(29719),q=u(65935),D=u(5642);let M=!1;function d(g){const h=new URL(g,window.location.origin),E=new URLSearchParams(h.search.slice(1));return E.set("webauthn-support",(0,D.T)()),h.search=E.toString(),h.toString()}r(d,"urlWithParams");async function y(){const g=document.querySelector("link[rel=sudo-modal]"),h=document.querySelector(".js-sudo-prompt");if(h instanceof HTMLTemplateElement)return h;if(g){const E=await(0,c.a)(document,d(g.href));return document.body.appendChild(E),document.querySelector(".js-sudo-prompt")}else throw new Error("couldn't load sudo prompt")}r(y,"loadPromptTemplate");let w=!1;async function f(){if(M)return!1;M=!0,w=!1;const h=(await y()).content.cloneNode(!0),E=await(0,C.W)({content:h});return await new Promise(k=>{E.addEventListener("dialog:remove",function(){M=!1,k()},{once:!0})}),w}r(f,"sudoPrompt"),(0,q.AC)(".js-sudo-form",async function(g,h){try{await h.text()}catch(E){if(!E.response)throw E;let k;switch(E.response.status){case 401:k="Incorrect password.";break;case 429:k="Too many password attempts. Please wait and try again later.";break;default:k="Failed to receive a response. Please try again later."}g.querySelector(".js-sudo-error").textContent=k,g.querySelector(".js-sudo-error").hidden=!1,g.querySelector(".js-sudo-password").value="";return}w=!0,g.closest("details").removeAttribute("open")});async function m(){const g=await fetch("/sessions/in_sudo",{headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}});return g.ok&&await g.text()==="true"?!0:f()}r(m,"triggerSudoPrompt")},40764:(_,I,u)=>{"use strict";u.d(I,{Om:()=>D,lp:()=>c,rq:()=>C,t4:()=>q,yb:()=>d});function C(y){const w="\u200D",f=y.split(w);let m=0;for(const g of f)m+=Array.from(g.split(/[\ufe00-\ufe0f]/).join("")).length;return m/f.length}r(C,"getUtf8StringLength");function c(y,w,f){let m=y.value.substring(0,y.selectionEnd||0),g=y.value.substring(y.selectionEnd||0);return m=m.replace(w,f),g=g.replace(w,f),M(y,m+g,m.length),f}r(c,"replaceText");function q(y,w,f){if(y.selectionStart===null||y.selectionEnd===null)return c(y,w,f);const m=y.value.substring(0,y.selectionStart),g=y.value.substring(y.selectionEnd);return M(y,m+f+g,m.length),f}r(q,"replaceSelection");function D(y,w,f={}){const m=y.selectionEnd||0,g=y.value.substring(0,m),h=y.value.substring(m),E=y.value===""||g.match(/\n$/)?"":`
`,k=f.appendNewline?`
`:"",S=E+w+k;y.value=g+S+h;const v=m+S.length;return y.selectionStart=v,y.selectionEnd=v,y.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),y.focus(),S}r(D,"insertText");function M(y,w,f){y.value=w,y.selectionStart=f,y.selectionEnd=f,y.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}r(M,"setTextareaValueAndCursor");function d(y,w){const f=[...y],m=new TextEncoder,g=new Uint8Array(4);for(let h=0;h<f.length;h++){const E=f[h],{written:k,read:S}=m.encodeInto(E,g);if(!k||!S)return-1;const v=k-S;if(v!==0&&(h<w&&(w-=v),h>=w))break}return w}r(d,"GetCharIndexFromBytePosition")},66899:(_,I,u)=>{"use strict";u.d(I,{dY:()=>w,iU:()=>y,oq:()=>d});const C=new WeakMap;function c(f){const m=C.get(f);!m||(m.timer!=null&&clearTimeout(m.timer),m.timer=window.setTimeout(()=>{m.timer!=null&&(m.timer=null),m.inputed=!1,m.listener.call(null,f)},m.wait))}r(c,"schedule");function q(f){const m=f.currentTarget,g=C.get(m);!g||(g.keypressed=!0,g.timer!=null&&clearTimeout(g.timer))}r(q,"onKeydownInput");function D(f){const m=f.currentTarget,g=C.get(m);!g||(g.keypressed=!1,g.inputed&&c(m))}r(D,"onKeyupInput");function M(f){const m=f.currentTarget,g=C.get(m);!g||(g.inputed=!0,g.keypressed||c(m))}r(M,"onInputInput");function d(f,m,g={wait:null}){C.set(f,{keypressed:!1,inputed:!1,timer:void 0,listener:m,wait:g.wait!=null?g.wait:100}),f.addEventListener("keydown",q),f.addEventListener("keyup",D),f.addEventListener("input",M)}r(d,"addThrottledInputEventListener");function y(f,m){f.removeEventListener("keydown",q),f.removeEventListener("keyup",D),f.removeEventListener("input",M);const g=C.get(f);g&&(g.timer!=null&&g.listener===m&&clearTimeout(g.timer),C.delete(f))}r(y,"removeThrottledInputEventListener");function w(f){const m=C.get(f);m&&m.listener.call(null,f)}r(w,"dispatchThrottledInputEvent")},5642:(_,I,u)=>{"use strict";u.d(I,{T:()=>c,k:()=>q});var C=u(8433);function c(){return(0,C.Zh)()?"supported":"unsupported"}r(c,"webauthnSupportLevel");async function q(){return await window.PublicKeyCredential?.isUserVerifyingPlatformAuthenticatorAvailable()?"supported":"unsupported"}r(q,"iuvpaaSupportLevel")}},_=>{var I=r(C=>_(_.s=C),"__webpack_exec__");_.O(0,["vendors-node_modules_selector-observer_dist_index_esm_js","vendors-node_modules_lit-html_lit-html_js","vendors-node_modules_delegated-events_dist_index_js-node_modules_github_details-dialog-elemen-63debe","vendors-node_modules_manuelpuyol_turbo_dist_turbo_es2017-esm_js","vendors-node_modules_fzy_js_index_js-node_modules_github_catalyst_lib_index_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_hotkey_dist_index-9f48bd","vendors-node_modules_github_remote-form_dist_index_js-node_modules_scroll-anchoring_dist_scro-5881a7","vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-73b750","vendors-node_modules_github_paste-markdown_dist_index_esm_js-node_modules_github_quote-select-b114cf","app_assets_modules_github_soft-nav_navigate_ts","app_assets_modules_github_behaviors_keyboard-shortcuts-helper_ts-app_assets_modules_github_di-9b8a64","app_assets_modules_github_behaviors_task-list_ts-app_assets_modules_github_has-interactions_t-0091d6","app_assets_modules_github_behaviors_details_ts-app_assets_modules_github_behaviors_include-fr-a78de3"],()=>I(39585));var u=_.O()}]);})();

//# sourceMappingURL=behaviors-a176b320df6f.js.map